{"version":3,"sources":["app/js/app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","BookmarkActions","Reflux","createActions",2,3,"ChildrensActions",4,"CollectionsActions",5,6,"ModalFrameActions",7,"ParentsActions",8,9,10,11,12,"TagsActions",13,"ToastActions",14,"UserActions",15,"onMouseUpdate","window","mousePos","x","clientX","pageX","y","clientY","pageY","aboutApp","JSON","parse","Raven","config","release","version","install","ga","React","consts","strings","Api","moment","setLang","_","network","dropfiles","ls","localStorage","getItem","Icon","DocumentTitle","Modal","Toasts","S","UserStore","Pop","Router","DefaultRoute","NotFoundRoute","Route","RouteHandler","Link","AppRoute","createClass","displayName","render","createElement","commonComponents","loaded","load","this","eSidebar","document","getElementById","eToast","eModalFrame","onLoad","Sidebar","Toast","ModalFrame","PopComponent","popDiv","id","body","appendChild","bind","addEventListener","languageLoaded","eContent","notFound","WebHome","DashboardRoute","CollectionRoute","InterfaceRoute","WaitAuth","ToolsRoute","ToolsIndexRoute","ToolsTagsRoute","routeDefaultRoute","routeInitRoute","environment","indexOf","name","handler","routes","path","run","Handler","setAttribute","Intercom","documentElement","classList","add","../actions/Pop","../actions/Toast","../modules/api.js","../modules/dropfiles.js","../modules/network.js","../modules/strings.js","../modules/translate","../newtab/manifest.json","../stores/User","./components/Helpers/Icon.js","./components/ModalFrame.js","./components/Modals/Modal","./components/Pop/Pop","./components/Sidebar.js","./components/Toast.js","./config","./routes/404.js","./routes/Collection.js","./routes/Dashboard.js","./routes/Interface.js","./routes/Tools.js","./routes/Tools/Index.js","./routes/Tools/Tags.js","./routes/WaitAuth.js","./routes/WebHome.js","localforage","lodash","raven-js","react","react-document-title","react-router","reflux","string",16,"ModalBookmarksMove","ModalBookmarksCopy","ModalBookmarksRemove","ModalBookmarksAddTags","getInitialState","count","props","bookmarksCount","modalMoveShow","modalCopyShow","modalRemoveShow","modalAddTagsShow","componentWillReceiveProps","nextProps","isMounted","setState","handleModalMoveClose","handleModalCopyClose","handleModalRemoveClose","handleModalAddTagsClose","handleMove","preventDefault","handleCopy","handleRemove","handleTags","handleSelectAll","onSelectAll","handleCancel","onCancel","className","state","href","onClick","size","position","isOpened","onClose","../Modals/BookmarksAddTags","../Modals/BookmarksCopy","../Modals/BookmarksMove","../Modals/BookmarksRemove",17,"Popover","colors","DragDropMixin","mixins","statics","configureDragDrop","register","dragSource","beginDrag","component","item","_id","endDrag","onEndDrag","dropTarget","over","componentReceiver","originItem","onMove","scaleDown","cover","domain","showPopover","initPalette","_this","coverScaleDown","target","parentNode","offsetWidth","naturalWidth","offsetHeight","setItem","onErrorImg","noFavIcon","handleMore","contains","handleEdit","show","pin","removeBookmark","handlePopoverClose","contrast","getDragState","isDragging","title","trim","favicon","faviconBg","color","colorFromString","src","thumb","favIcon","onError","alt","__spread","ref","dragSourceFor","dropTargetFor","onContextMenu","style","backgroundColor","palette","link","attachId","../../../actions/Bookmarks","../../../modules/ReactDND","../../../modules/colorThief.js","../../../modules/colors.js","../Popovers/Bookmark",18,"Tag","Cover","Favicon","Checkbox","Path","PureRenderMixin","addons","State","findDOMNode","refs","bookmark","canDrag","canEdit","onMoveEnd","canDropSort","temp","selectMode","handleSelect","val","selected","nativeEvent","onSelect","shift","shiftKey","cover_icon","tags","content","loading","map","tag","index","key","type","progress","fullLink","_target","linkTarget","context","router","getCurrentPathname","more","viewOrOpen","file","active","permalink","showPath","collection","typeIcon","view","data-type","width","preHeight","proportions","coverHeight","excerptText","excerpt","truncate","../Collections/Path.js","../Helpers/Checkbox.js","../Helpers/Cover.js","../Helpers/Favicon.js","./Tag.js","react/addons",19,"Bookmark","Favorite","Section","CSSTransitionGroup","items","sort","lastSection","currentSection","forEach","itterIndex","element","onMore","html","Date","lastUpdate","getMonth","toUpperCase","substr","isNumeric","section","value","unshift","push","./Favorite","./Item.js","./Section","./Upgrade",20,"Masonry","getConfig","elementType","react-masonry-component",21,"format","m",22,"CollectionsStore","shouldComponentUpdate","cId","getCurrentId","encodeURIComponent","stringify","../../../stores/Collections",23,"force","isPro","parseInt","toLowerCase","pathPrefix","proPage",24,"acceptDrop","bookmarkItem","onDropBookmark","getDropState","isHovering","coverImg","defaultCollectionIcon","fixURL","children",25,"Breadcrumb","parents","forceEdit","handleShare","step","handleAddFolder","parentId","onRemoveCollection","actionLinks","author","paddingLeft","paddingRight","./Breadcrumb",26,"Collection","look","dragParent","onCollectionMore","onCollectionMove","onCollectionMoveEnd",27,"SidebarActions","CollectionViewModal","Search","ClipperAction","Select","iconSize","overSidebarIcon","overSidebarTimeout","_sorting","setDefaults","_styles","contextTypes","PropTypes","func","sortSelected","collectionPopover","viewModal","queries","showSearch","hideSearch","handleFab","handleBack","history","back","handleSidebar","change","handleSidebarOver","setTimeout","handleSidebarLeave","clearTimeout","handleCollectionPopover","tab","handleCloseMore","handleViewModalShow","handleViewModalClose","handleChangeView","handleSearchOpen","handleSearchReset","onSearchReset","handleClose","BrowserBridge","close","handleSortChange","getAttribute","handleChangeViewItem","renderMore","fastLinks","data-sort","splice","styles","data-view","height","marginTop","padding","footer","isLogged","handleBookmarkEdit","titleBar","autoFocus","parent","cx","clipper-toolbar","currentCollectionBackground","search-mode","arrowIcon","disableTitle","handleChange","self","top","closeOnOutsideClick","params","onChangeView","../../../actions/Sidebar","../Collections/Breadcrumb","../Helpers/ClipperAction.js","../Helpers/Select.js","../Modals/CollectionView","../Popovers/CollectionMore","../Search/Search.js",28,"PopoverCollection","componentWillMount","macSearchIsActive","handleSearch","componentWillUnmount","removeEventListener","handleCollectionPopoverClose","handleEditCollection","q","search","../Popovers/Collection",29,"GroupTabDragDropMixin","handleAdd","onAdd","data-id","./GroupTabDragDropMixin",30,"onDrop","group",31,"ItemDragDropMixin","ghostIcon","statusShared","statusPublic","collaborators","actions","icon","favIconClass","onlyBasic","./ItemDragDropMixin",32,"effectsAllowed","dragPreview","dragEffect",33,"nextState","onCollectionsChange","parseCollection","componentDidMount","unsubscribeCollections","listen","onLoadId","getCollection","defaultIcons","../../../actions/Collections",34,"Breadcrumbs","./Breadcrumbs.js",35,"fab","getDefaultProps","_fab","elem","removeChild","handleClick","isSystem","onlyURL","../../stores/Collections",36,"scrolled","getCollections","childrens","user","getUser","collections","onUserChange","scrollToActive","activeElem","activeCollection","activeGroup","scrollIntoView","unsubscribeUser","sortBy","get","json","handleCollectionSelect","onSelectCollection","handleGroupSelect","onSelectGroup","groups","componentDidUpdate","onUpdate","withGroups","_makeItem","level","data-cid","_makeGroup","placeholder","data-index","findChildrens","c","skipCollection",37,38,39,"BookmarksActions","BookmarksStore","LastBookmarkStore","unsubscribeLastBookmark","bridgeSaveURL","onLastBookmark","currentURL","url","loadBookmark","bridgeNewURL","handleSaveURL","action","updateExtensionIconForURL","text","parseURL","collectionId","insertBookmark","toEndOfList","result","status","handleURL","handleSave","responseFunc","clean","_prepareBookmark","parseCurrentPage","cursor","../../../stores/Bookmarks","../../../stores/LastBookmark",40,"cleanSource","screenshotService","makeNextState","parseFloat","toFixed","handleImgLoadSuccess","naturalHeight","img","backgroundImage","handleImgLoadError","retinaWidth","data-scale-down","srcSet","beautifulDomain",41,"sel","thumbs","imageSize","backgroundSize",42,"_generate","cleanDomain",43,"used","proLine","files","humanFileSize","max",44,"fullName","useTag","data-name","dangerouslySetInnerHTML","__html",45,"onboardSVG","bookmarks","_renderImage","svg","innerHTML","scenario","handleSignIn","signIn","location","hash","reload","handleSignUp","signUp","welcomeText","../../../actions/User","../../images/onboard/bookmarks.svg",46,"ScrollFixMixin","wrapClassName","onWheel","handleScroll","./ScrollFixMixin.js",47,"popup","category","_renderLayer","unmountComponentAtNode","remove",48,"callback","d","dir","stop","div","getComputedStyle","getPropertyValue","wheelDelta","detail","scrollTop","scrollHeight",49,"disabled","options","selectedIndex","select","onChange","defaultValue",50,"handleSelectFilter","filter","currentValues","exclude","filterOption","op","label","handleSelectFocus","handleSelectBlur",51,"ChildrensStore","ParentsStore","_configPrefix","_scenarios","os","getCurrentBrowser","initScenarios","check","scope","isLoading","handleAddBookmark","isSearch","getCurrentParams","getIsLoading","getCount","getIsNoMore","closable","handleChromeHotKeys","handleIconCollection","handleSharingCollection","collectionsCount","onStoresChanged","findIndex","unsubscribeBookmarks","unsubscribeChildrens","unsubscribeParents","handleCloseTip","saveConfig","notify","stopPropagation","openURL","showed","data-current-tip","../../../stores/Childrens","../../../stores/Parents","../../../stores/Stats",52,"ModalFrameStore","FrameModal","onModalFrameChange","unsubscribeModalFrame","handleFrameClose","../../stores/ModalFrame","./Modals/Frame",53,"TagsStore","Selectize","SelectMixin","addTags","onTagsChange","unsubscribeTags","handleTagsChange","split","closePortal","updateSelectedBookmarks","silent","append","loadingBlock","iconCloseBack","onSubmit","visibility","multi","filterOptions","../../../actions/Tags","../../../stores/Tags","../Helpers/SelectMixin","./ModalMixin","react-select",54,"CollectionsList","OverflowScroll","handleChangeCollection","copySelectedBookmarks","../Forms/CollectionsList","../Helpers/OverflowScroll",55,"$id","showingCollectionId",56,"removeSelectedBookmarks","perm",57,"handleCover","handleInvertPosition","handleRefresh",58,"frameBorder",59,"isNodeInRoot","node","root","_interopRequire","obj","__esModule","_createClass","defineProperties","prop","configurable","writable","Object","Constructor","protoProps","staticProps","prototype","_get","object","property","receiver","desc","getOwnPropertyDescriptor","undefined","getPrototypeOf","getter","_inherits","subClass","superClass","TypeError","create","constructor","enumerable","__proto__","_classCallCheck","instance","_react","shallowEqual","Key","Portal","_React$Component","openPortal","handleOutsideMouseClick","portal","closeOnEsc","newProps","renderPortal","forceUpdated","unbind","alreadyOpened","pinTo","animElem","cloneElement","rect","getBoundingClientRect","modalDiv","getElementsByClassName","modalSize","w","h","newPos","left","innerWidth","innerHeight","offsetX","offsetY","modalMargin","start","start1","start2","transform","end","end1","aStates","aPrefixes","pref","p1","p2","end2","innerText","openByClickOn","querySelector","Component","propTypes","isRequired","bool","keymaster","react/lib/shallowEqual",60,61,"getTags","handleTitleChange","onRemove","replace","required","valueLink","requestChange",62,"logoSVG","BookmarkStore","BookmarkItem","PopoverFont","_getBookmark","getBookmark","navigation","_bookmarkNavigation","next","loadMore","fontSize","fontColor","fontFamily","fontPopover","handleFont","onBookmarkChange","onBookmarksChange","unsubscribeBookmark","handleFontClose","handleIncrementFont","onUpdateConfig","font_size","handleDicrementFont","handleFontColor","font_color","handleFontFamily","font_family","prev","paddingTop","../../../actions/Bookmark","../../../newtab/images/logo-text.svg","../../../stores/Bookmark","../Bookmarks/Item","../Helpers/Favicon","../Helpers/ScrollFixMixin.js","../Popovers/Font",63,"Textarea","BookmarkIcon","_collectionIdChanged","_testItem","focusMainInput","keys","media","coverId","el","focus","setSelectionRange","handleOpenCollectionsList","handleOpenIcons","handleTypeChange","handleTitleReset","handleExcerptChange","handleLinkChange","handleExcerptReset","goToForm","updateBookmark","handleSaveSuccess","handleRemoveBookmark","reset","setMedia","hideUnnecessary","coverDots","save","cancel","isSubContent","marginRight","rows","onFocus","onBlur","readOnly","../../../actions/Parents","./Bookmark/Icon.js","react-textarea-autosize",64,"CoverSelector","V","MiniSearch","Iconfinder","icons","haveMore","handleChangeIcon","withMedia","update","coverEnabled","handleScreenshot","addScreenshot","mediaItem","coverIndex","screenshot","serverScreen","capturePage","dataURI","handleNextSearchPage","concat","URL","prompt","isURL","actionButtons","haveScreenshot","../../../../modules/Iconfinder","../../Helpers/CoverSelector","../../Search/Mini","validator",65,"Upgrade","CollectionIcon","CollectionSharing","_defaultItem","empty","blank","updateCover","disableNested","collaboratorsText","members","viewers","role","input","handleOpenSharing","handleChangeGroup","handleCollectionSave","getTime","insertCollection","toUpdate","cover_path","updateCollection","handleRemoveCollection","lastId","removeCollection","setCover","clearSelect","handleRSS","host","uniqKey","open","handleSubFolder","parentLabel","isGroup","collectionCover","viewDesc","../Bookmarks/Upgrade","./Collection/Icon","./Collection/Sharing",66,"theme","findSelected","pro","ti","icn","ii","handleChangeTheme","handleThemes",67,"Avatar","inputSelectAllMixin","invite","emails","loadCollaborators","handleChangePublic","public","handleChangeRole","userId","put","accesslevel","handleRemoveRole","handleUnshareCollection","handleEmailsChange","handleChangeInviteRole","handleSendInvites","join","renderMember","first","data-userid","email_MD5","email","readonly","onMouseUp","unshare","../../../../actions/Collections","../../Helpers/Avatar",68,"File","hideTabs","handleChangeTab","tabs","data-tab","./Collection","./File","./URL",69,"FileLimit","handleFile","validateFiles","dropFiles","opacity","getHumanAcceptString","multiple","accept","getAcceptString","../Helpers/FileLimit",70,"getGroup","insertGroup","updateGroup","handleRemoveGroup","removeGroup",71,"PopStore","gap","attached","getParams","unsubscribePop","onPopChange","afterComponentsUpdate","updatePosition","positions","points","havePlace","pinVisible","pageYOffset","scrollY","right","bottom","center","arrow","tempTop","tempLeft","canCloseSmoothly","handleBeyondClick","mouseOver","handleGlobalKeyPress","keyCode","bodyBlack","onMouseDown","../../../stores/Pop","./Bookmark","./Fab","./Group","./SaveAs",72,"checking","checkURL","_query","query","nohtml","already","removeItem","closeOver","closeLeave","savedText","onMouseOver","onMouseLeave",73,"cid","handleURLChange","dontAdd","possibleWithoutAuth","saveAllSort","getImportLink","settingsURL",74,"PopoverMixin","handleCopyToClipboard","copyTextToClipboard","_makeWrap","./Mixin",75,"textTransform",76,77,"data-color","data-family",78,"RenderInBody","handleContext","handleWeel","fixPosition","pos","../Helpers/RenderInBody",79,"handleLogOut","logOut","sURL","margin",80,"gist","createMarkup","image","data-noclick","../Helpers/Cover",81,"handleKey","handleReset","handleSubmit",82,"changeQuery","handleFocus","handleBlur","focusOnQuery","showSelect","tagTitle","keyString","capitalize","valString","String","canBeDomain","match","RegExp","canBeType","charAt","slice","tabIndex","onDoubleClick","onKeyDown",83,"Item","StatsStore","StatsActions","SitesActions","SitesStore","_timeout","resultsCount","_highlight","word","escapeHTML","matched","_makeTag","_makeSite","_makeType","_makeCollection","titleStr","getDefaults","contentTypes","addCurrent","sites","stat","getStat","getSites","unsubscribeStats","onStatsChange","unsubscribeSites","onSitesChange","handleAutoComplete","handleResultsMouseOver","handleResultsMouseLeave","findCollections","findBookmarks","orderBy","scrollTo","newIndex","offset","offsetTop","clientHeight","clickActive","click","iterator","addQuery","onMouseEnter","../../../actions/Sites","../../../actions/Stats","../../../stores/Sites",84,"QueryItem","Results","cleanQueries","reseted","searchInput","changeLocation","console","log","si","selectionStart","selectionEnd","results","handleFormReset","blur","handleType","typed","canAdd","handleNotReseted","autoComplete","./Query","./Results",85,"SidebarStore","PopoverSettings","Group","getState","settingsPopover","onSidebarChange","unsubscribeSidebar","handleSettingsPopoverShow","defaultMacFab","macAdd","handleSidebarOpen","handleGroupToggle","toggleGroup","handleMoveGroup","fromId","toId","onSwapGroups","handleDropCollectionToGroup","groupId","onUpdateCollection","toTop","handleMoveCollection","onSwapCollections","handleDropBookmark","bookmarkId","successMessage","handleGroupNewCollectionModalOpen","handleSettingsPopoverClose","handleNewGroup","renderLink","attr","avatar","sidebar","hidden","data-group","onToggle","menu","header","popoverattachId","../../actions/Bookmarks","../../actions/Collections","../../actions/Sidebar","../../actions/Stats","../../actions/User","../../stores/Sidebar","../../stores/Stats","../components/Helpers/OverflowScroll","../components/Popovers/Settings","./Sidebar/Collection","./Sidebar/Group",86,"handleSharing","collectionIcon","../Collections/ItemDragDropMixin",87,"onToggleGroup","../Collections/GroupTabDragDropMixin",88,"ToastStore","ReactCSSTransitionGroup","getToasts","onToastsChange","toasts","unsubscribeToast","handleCloseItem","handleStopTimer","transitionName","transitionEnterTimeout","transitionLeaveTimeout","../../stores/Toast",89,90,"apiPrefix","languages","id_ID","de_DE","en_US","es_ES","fr_FR","nl_NL","pl_PL","pt_BR","sv_SE","fi_FI","tr_TR","kk_KZ","ru_RU","uk_UA","ko_KR","zh_TW","zh_CN","hy_AM","backgroundImages","getBackgroundSelected","prefs","current","setBackground","trySetBg","bg","setBg","tempBg","xmlhttp","XMLHttpRequest","fileReader","FileReader","onload","readyState","blob","Blob","response","evt","readAsDataURL","responseType","send",91,92,"transitionTo",93,"BookmarksView","BookmarksViewMasonry","ChildrensView","InfiniteScroll","Fab","BatchEdit","Tips","Toolbar","ViewerModal","colorThief","_bookmarksParams","getBookmarks","viewerModal","_hasMore","handleActionBarBackground","onChildrensChange","onParentsChange","_checkViewer","loadAll","getCurrentQuery","_temp","viewer","_params","page","perpage","decodeURIComponent","speed","onSetCurrent","handleDropFiles","divs","fill","handleCollectionColor","coverURL","getDarkPalette","updateColorCollection","handleCollectionColorError","handleNextPage","needUpdate","handleMoveCollectionEnd","handleMoveBookmark","onSwapBookmarks","preservList","handleMoveBookmarkEnd","syncMove","handleSelectBookmark","setSelected","handleSelectBookmarksCancel","handleSelectAllBookmarks","selectAll","handleViewerModalClose","mainContentScroll","bview","getSelectedCount","batchEdit","searchQueries","actionBarCollectionIcon","toolbar","itemsLoading","pageStart","hasMore","loader","../../actions/Childrens","../../actions/Parents","../../modules/colorThief.js","../../stores/Bookmarks","../../stores/Childrens","../../stores/Parents","../components/Bookmarks/BatchEdit.js","../components/Bookmarks/List.js","../components/Bookmarks/Masonry.js","../components/Collections/Childrens.js","../components/Collections/ClipperToolbar.js","../components/Collections/DesktopToolbar.js","../components/Collections/Toolbar.js","../components/Fab.js","../components/Helpers/ScrollFixMixin.js","../components/Helpers/Tips.js","../components/Modals/Viewer","../components/Search/Search.js","react-infinite-scroll",94,"GroupTab","Onboard","dashboard","favorites","sidebarOpen","direction","setCurrent","handleFavAddClick","handleMoveFavorite","handleSaveSortFavorites","handleTabChange","clone","lastIndex","currentIndex","handleSignInGoogle","google","groups_content","activeGroupIndex","data-direction","defaultTitle","../components/Bookmarks/Favorite.js","../components/Collections/GroupTab.js","../components/Collections/Item.js","../components/Helpers/Onboard.js",95,"bgs","backgroundImageSelected","handleChangeBackground","../components/Helpers/CoverSelector",96,97,"TitleBar","renderItem","../../components/UnifiedTitleBar",98,"TagEditModal","tagModal","handleSortTitle","handleSortCount","handleTagEditModalClose","handleTagEditModalOpen","data-title","reverse","../../components/Modals/TagEdit",99,"_checker","setInterval","clearInterval",100,101,"is_premium","formats","preview_url",102,"define","amd","ReactDND","p","HTML5","ImagePreloaderMixin","DragLayerMixin","HorizontalDragAnchors","VerticalDragAnchors","NativeDragItemTypes","DropEffects","Math","pow","test","Function","toString","Array","isArray","DRAG_START","DRAG_END","DRAG","DROP","COPY","MOVE","LINK","FILE","Dispatcher","handleAction","dispatch","getInitialOffsetFromContainer","getInitialOffsetFromClient","getCurrentOffsetFromClient","dispatchToken","offsetFromContainer","offsetFromClient","emitChange","getEffectsAllowed","getDropEffect","getDraggedItem","getDraggedItemType","waitFor","itemType","dropEffect","safari","hasOwnProperty","arguments","framesToPop","startDragging","drag","recordDrop","endDragging","LEFT","CENTER","RIGHT","TOP","BOTTOM","_entered","enter","leave","emit","addChangeListener","on","removeChangeListener","removeListener","setMaxListeners","EventEmitter","dataTransfer","types","data","set","has","Set","propertyIsEnumerable","funcDecomp","WinRTError","funcNames","dom","createDocumentFragment","nodeType","nonEnumArgs","O","parentElement","v","I","handleDragEnd","E","T","D","C","A","g","b","L","setup","teardown","dragOver","getDragSourceProps","draggable","onDragStart","handleDragStart","onDragEnd","getDropTargetProps","onDragEnter","handleDragEnter","onDragOver","handleDragOver","onDragLeave","handleDragLeave","handleDrop","getOffsetFromClient","getStateForDragLayerMixin","getDragLayerState","draggedItemType","draggedItem","initialOffset","currentOffset","currentOffsetFromClient","initialOffsetFromClient","initialOffsetFromContainer","handleStoreChangeInDragLayerMixin","_cachedImages","_readyImages","preloadImages","hasPreloadedImage","getPreloadedImage","getImageUrlsToPreload","preloadImage","Image","onerror","getDragImageScale","canDrop","getCurrentOffsetDelta","setData","setDragImage","effectAllowed","_dragSources","_dropTargets","ownDraggedItemType","currentDropEffect","getStateForDragDropMixin","getActiveDropTargetType","isAnyDropTargetActive","_monitor","registerDragDropItemTypeHandlers","handleStoreChangeInDragDropMixin","dragAnchors","getDOMNode","urls","getData","horizontal","vertical","devicePixelRatio","navigator","userAgent","$Dispatcher_callbacks","$Dispatcher_isPending","$Dispatcher_isHandled","$Dispatcher_isDispatching","$Dispatcher_pendingPayload","unregister","$Dispatcher_invokeCallback","$Dispatcher_startDispatching","$Dispatcher_stopDispatching","isDispatching","apply","source","_events","_maxListeners","defaultMaxListeners","isNaN","error","addListener","newListener","listener","warned","trace","once","removeAllListeners","listeners","listenerCount",103,"isQuotaExceeded","quotaExceeded","number","request","timeout","defaultHeaders","makeFinalURL","errorHappen","getText","err","res","conf","post","del","upload","onProgress","attach","percent","LST","clear","superagent",104,"CanvasImage","canvas","getContext","drawImage","clearRect","imageData","putImageData","getPixelCount","getImageData","removeCanvas","ColorThief","getColor","sourceImage","quality","getPalette","dominantColor","colorCount","pixels","pixelCount","pixelArray","cmap","MMCQ","quantize","pv","array","naturalOrder","sum","reduce","getColorIndex","sigbits","PQueue","comparator","contents","sorted","peek","pop","debug","VBox","r1","r2","g1","g2","b1","b2","histo","vbox","CMap","vboxes","volume","getHisto","rval","gval","bval","histosize","pixel","rshift","vboxFromPixels","rmin","rmax","gmin","gmax","bmin","bmax","medianCutApply","doCut","vbox1","vbox2","d2","dim1","dim2","count2","partialsum","total","copy","min","lookaheadsum","rw","gw","bw","maxw","j","k","maxcolors","iter","lh","ncolors","niters","maxIterations","nColors","pq","fractByPopulations","pq2","_volume","_count_set","npix","_count","avg","_avg","hval","histoindex","ntot","mult","rsum","gsum","bsum","vb","nearest","d1","pColor","sqrt","forcebw","lowest","idx","highest","rgb","shadeRGBColor","R","G","B","round","fromRGB","cp",105,"str","bigint","colour","charCodeAt",106,"maxFileSize","fileTypes","containsFiles","event","makeInfoDiv","removeInfoDiv","cleanFiles","droppable","Event","dispatchEvent",107,"getDomain","hostname","maxSize","protocol",108,"browser","HTMLElement","opera","appVersion","swapArray","parseSearch","typeRegexp","getErrorFromJSON","auth","replaceAll","txt","MacGap","Clipboard","textArea","border","outline","boxShadow","background","successful","execCommand","msg","bytes","thresh","abs","units","parseBrowserQuery",109,"defaultLang","currentLang","getLang","cleanLang","lang","browserLang","language","userLanguage","locale","initJSfile","onreadystatechange","responseText","moment/locale/de.js","moment/locale/es.js","moment/locale/fi.js","moment/locale/fr.js","moment/locale/id.js","moment/locale/ko.js","moment/locale/nl.js","moment/locale/pl.js","moment/locale/pt.js","moment/locale/ru.js","moment/locale/tr.js","moment/locale/uk.js","moment/locale/zh-cn.js","moment/locale/zh-tw.js",110,111,112,"_item","createStore","init","listenTo","trigger","../actions/Bookmark",113,"LastBookmarkActions","_bookmarks","_loading","_loaded","_noMore","_canLoadFromCache","_url","_speed","_moveUpdateList","_selectedCount","_blankBookmark","_initFavorites","onParseURL","onLoadBookmark","onInsertBookmark","onUpdateBookmark","onUpdateSelectedBookmarks","onRemoveBookmark","onRemoveSelectedBookmarks","onCopySelectedBookmarks","swapBookmarks","onSaveAllSort","onSyncMove","onSetSelected","onClearSelect","initFavorites","onInitFavorites","cacheDisabled","then","updateCountCollection","getById","onlyId","require_tld","require_valid_protocol","insertToModels","insert","onUploadFile","updateModel","uniq","selectedIds","now","removeFromModels","selectedItems","fromIndex","toIndex","fromSort","toSort","tempFrom","nearIndexs","closestIndex","curr","updateCache","fromChrome","needDefaults","chrome","topSites","saveDefaults","Promise","resolve","queue","rej","reader","onloadend","coverElement","removeAttribute","all","uploadQueue","doneCount","withUpdate","../actions/Bookmarks","../actions/Collections","../actions/LastBookmark","../stores/Collections",114,"_childrens","swapCollections","getChildrens","../actions/Childrens",115,"_collections","_currentId","isIOSapp","_defaults","onInsertCollection","onUpdateCountCollection","onUpdateColorCollection","_saveCache","_insertDefaults","_checkGroupsStability","_updateOrInsertItem","updateGroups","removeNow","saveGroups","confirm","onlyWhat","getAllCount","getCollectionCount","_prepareItem","_resetFromCache","cache","getCollectionGroup","_forceUpdate","../actions/User","../stores/Stats",116,"onInsert",117,"onShow","../actions/ModalFrame",118,"_parents","_cache","findParents","getParents","ids","../actions/Parents",119,"PopActions",120,"_open","../actions/Sidebar",121,"_sites","../actions/Sites",122,"_stat","_all","_countAll","../actions/Stats",123,"_tags","../actions/Tags",124,"_toasts","stopTimer","onStopTimer","closing","_removeItem","withoutUpdate",125,"_user","_logged","_trusted","onUpdateGroup","onInsertGroup","onRemoveGroup","swapGroups","updateLanguage","onUpdateLanguage","updateConfig","onLogOut","onSignIn","onSignUp","isTrusted","exactlyAfterCacheLoaded","canLoad","afterCheck","cleanGroups","updateIntercom","_userId","currentJSONuserId","_cleanCache","app_id","user_id","created_at","floor","registered","platform","proExpire","pro_expire","NativeHelpers","intercomSetUser","setUserContext","found","from","to","tempTo","openModal","windows","win","onRemoved","cleanCollections","indexes","pullAt","removeEmptyGroups","noGroup","coll","inGroup","some","_checkCache","_setProData","./Collections"],"mappings":"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","file":"app/js/app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar BookmarkActions = Reflux.createActions([\n    'load'\n]);\n\nmodule.exports = BookmarkActions;\n\n},{}],2:[function(require,module,exports){\nvar BookmarkActions = Reflux.createActions([\n    'load',\n    'parseURL',\n    'loadBookmark',\n    'insertBookmark',\n    'updateBookmark',\n    'updateSelectedBookmarks',\n    'removeBookmark',\n    'removeSelectedBookmarks',\n    'copySelectedBookmarks',\n    'swapBookmarks',\n    'saveAllSort',\n    'syncMove',\n    'initFavorites',\n    'setSelected',\n    'selectAll',\n    'clearSelect',\n    'reset'\n]);\n\nmodule.exports = BookmarkActions;\n\n},{}],3:[function(require,module,exports){\nvar ChildrensActions = Reflux.createActions([\n    'load',\n    'swapCollections',\n    'saveAllSort',\n    'removeCollection'\n]);\n\nmodule.exports = ChildrensActions;\n\n},{}],4:[function(require,module,exports){\nvar CollectionsActions = Reflux.createActions([\n    'load',\n    'setCurrent',\n    'updateCollection',\n    'insertCollection',\n    'removeCollection',\n    'updateCountCollection',\n    'updateColorCollection'\n]);\n\nmodule.exports = CollectionsActions;\n\n},{}],5:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'insert',\n    'update',\n    'remove'\n]);\n\n},{}],6:[function(require,module,exports){\nvar ModalFrameActions = Reflux.createActions([\n    'show'\n]);\n\nmodule.exports = ModalFrameActions;\n\n},{}],7:[function(require,module,exports){\nvar ParentsActions = Reflux.createActions([\n    'load',\n    'reset'\n]);\n\nmodule.exports = ParentsActions;\n\n},{}],8:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'show',\n    'close'\n]);\n\n},{}],9:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'change'\n]);\n\n},{}],10:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'load'\n]);\n\n},{}],11:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'load'\n]);\n\n},{}],12:[function(require,module,exports){\nvar TagsActions = Reflux.createActions([\n    'load'\n]);\n\nmodule.exports = TagsActions;\n\n},{}],13:[function(require,module,exports){\nvar ToastActions = Reflux.createActions([\n    'show',\n    'close',\n    'stopTimer'\n]);\n\nmodule.exports = ToastActions;\n\n},{}],14:[function(require,module,exports){\nvar UserActions = Reflux.createActions([\n    'load',\n    'toggleGroup',\n    'updateGroup',\n    'insertGroup',\n    'removeGroup',\n    'swapGroups',\n    'saveGroups',\n    'updateCollection',\n    'updateLanguage',\n    'updateConfig',\n    'swapCollections',\n    'logOut',\n    'signIn',\n    'signUp'\n]);\n\nmodule.exports = UserActions;\n\n},{}],15:[function(require,module,exports){\n/** @jsx React.DOM */\naboutApp = JSON.parse(require('../newtab/manifest.json'));\nRaven = require('raven-js');\nRaven.config('https://37d1786e89b7423d9309613f33bb56c3@app.getsentry.com/16738', {release: aboutApp.version}).install();\n\ntry{ga('send', 'event', \"new_tab_\"+aboutApp.version, \"open\");}catch(e){}\n\nReact = require('react');\nReflux = require('reflux');\n//PureRenderMixin = require('react/addons').addons.PureRenderMixin;\n\n/* Const */\nconsts = require('./config');\nstrings = require('../modules/strings.js');\n\n/* Translate */\nApi = require('../modules/api.js');\nt = require('../modules/translate');\nwindow.moment = require('moment');\nt.setLang();\n\n/* Helpers */\n_ = require(\"lodash\");\nnetwork = require('../modules/network.js');\ndropfiles = require('../modules/dropfiles.js');\n\nls = {}; try{localStorage.getItem(\"a\"); ls = require('localforage');}catch(e){}\n/*chromeStorageLocal = require('../modules/chromestoragelocal.js');\n\nif ((window.environment||[]).indexOf(\"web\")!=-1){\n  ls.setDriver([ls.LOCALSTORAGE, ls.INDEXEDDB]);\n}\nelse{\n  ls.defineDriver(chromeStorageLocal).then(function() {\n    ls.setDriver([chromeStorageLocal._driver, ls.INDEXEDDB, ls.LOCALSTORAGE]);\n  });\n}*/\n\nIcon = require('./components/Helpers/Icon.js');\nDocumentTitle = require('react-document-title');\nModal = require('./components/Modals/Modal');\nToasts = require('../actions/Toast');\nS = require('string');\nUserStore = require('../stores/User');\n\nPop = require('../actions/Pop');\n\n/* Routing */\nRouter = require('react-router');\nvar DefaultRoute = Router.DefaultRoute;\nvar NotFoundRoute = Router.NotFoundRoute;\nvar Route = Router.Route;\nvar RouteHandler = Router.RouteHandler;\nLink = Router.Link;\n\nvar AppRoute = React.createClass({displayName: \"AppRoute\",\n    render: function () {\n        return React.createElement(RouteHandler, null);\n    }\n});\n\n\nvar commonComponents = {\n  loaded: false,\n  load: function() {\n    if (this.loaded) return false;\n\n    var eSideActions = document.getElementById('app-actions'),\n        eSidebar = document.getElementById('app-sidebar'),\n        eToast = document.getElementById('app-toast'),\n        eModalFrame = document.getElementById('app-modal-frame');\n\n    /* User */\n    UserStore.onLoad();\n\n    /* App views */\n    var Sidebar = require('./components/Sidebar.js');\n    React.render(React.createElement(Sidebar, null), eSidebar);\n\n    var Toast = require('./components/Toast.js');\n    React.render(React.createElement(Toast, null), eToast);\n\n    var ModalFrame = require('./components/ModalFrame.js');\n    React.render(React.createElement(ModalFrame, null), eModalFrame);\n\n    //POP\n    var PopComponent = require(\"./components/Pop/Pop\");\n    var popDiv = document.createElement(\"div\");\n    popDiv.id=\"app-pop\";\n    document.body.appendChild(popDiv);\n    React.render(React.createElement(PopComponent, null), popDiv);\n\n    dropfiles.bind();\n\n    this.loaded = true;\n  }\n}\n\n/* Base elements */\nwindow.addEventListener((window.languageLoaded ? \"DOMContentLoaded\" : \"langLoaded\"), function() {\n  var eMarkup = document.getElementById('app-markup'),\n      eContent = document.getElementById('app-content');\n\n  var notFound = require('./routes/404.js');\n  var WebHome = require('./routes/WebHome.js');\n  var DashboardRoute = require('./routes/Dashboard.js');\n  var CollectionRoute = require('./routes/Collection.js');\n  var InterfaceRoute = require('./routes/Interface.js');\n  var WaitAuth = require('./routes/WaitAuth.js');\n  var ToolsRoute = require('./routes/Tools.js');\n  var ToolsIndexRoute = require('./routes/Tools/Index.js');\n  var ToolsTagsRoute = require('./routes/Tools/Tags.js');\n\n  var routeDefaultRoute = null, routeInitRoute = null;\n  if ((window.environment||[]).indexOf(\"web\")!=-1){\n    //Web verison\n    routeInitRoute = React.createElement(Route, {name: \"dashboard\", handler: DashboardRoute});\n    routeDefaultRoute = React.createElement(DefaultRoute, {name: \"home\", handler: WebHome});\n  }else{\n    //New tab version\n    routeInitRoute = React.createElement(Route, {name: \"home\", handler: WebHome});\n    routeDefaultRoute = React.createElement(DefaultRoute, {name: \"dashboard\", handler: DashboardRoute});\n  }\n\n  var routes = (\n      React.createElement(Route, {name: \"app\", path: \"/\", handler: AppRoute}, \n          React.createElement(Route, {name: \"collection\", path: \"/collection/:cId/?:search?\", handler: CollectionRoute}), \n          React.createElement(Route, {name: \"interface\", path: \"/interface\", handler: InterfaceRoute}), \n          React.createElement(Route, {name: \"waitauth\", path: \"/waitauth\", handler: WaitAuth}), \n          React.createElement(Route, {name: \"tools\", path: \"/tools\", handler: ToolsRoute}, \n            React.createElement(DefaultRoute, {name: \"index\", handler: ToolsIndexRoute}), \n            React.createElement(Route, {name: \"tags\", path: \"tags\", handler: ToolsTagsRoute})\n          ), \n          routeInitRoute, routeDefaultRoute, \n          React.createElement(NotFoundRoute, {name: \"not-found\", handler: notFound})\n      )\n  );\n\n  /* Init */\n  Router.run(routes, function (Handler,s) {\n      var r=null;\n      try {\n          r = s.routes[1].name;\n      }catch(e){}\n      document.body.setAttribute('data-route', r||\"\");\n      try{\n        ga('send', 'pageview');\n        window.Intercom('update');\n      }catch(e){}\n      \n      React.render(React.createElement(Handler, null), eContent, function(){\n        document.documentElement.classList.add(\"show\");\n        commonComponents.load();\n      });\n  });\n});\n\n/* Mouse position */\nwindow.mousePos = {x:0,y:0};\ndocument.addEventListener('mousedown', onMouseUpdate, false);\n\nfunction onMouseUpdate(e) {\n  window.mousePos.x = e.clientX || e.pageX;\n  window.mousePos.y = e.clientY || e.pageY;\n}\n\n},{\"../actions/Pop\":8,\"../actions/Toast\":13,\"../modules/api.js\":103,\"../modules/dropfiles.js\":106,\"../modules/network.js\":107,\"../modules/strings.js\":108,\"../modules/translate\":109,\"../newtab/manifest.json\":111,\"../stores/User\":125,\"./components/Helpers/Icon.js\":44,\"./components/ModalFrame.js\":52,\"./components/Modals/Modal\":59,\"./components/Pop/Pop\":71,\"./components/Sidebar.js\":85,\"./components/Toast.js\":88,\"./config\":90,\"./routes/404.js\":92,\"./routes/Collection.js\":93,\"./routes/Dashboard.js\":94,\"./routes/Interface.js\":95,\"./routes/Tools.js\":96,\"./routes/Tools/Index.js\":97,\"./routes/Tools/Tags.js\":98,\"./routes/WaitAuth.js\":99,\"./routes/WebHome.js\":100,\"localforage\":\"localforage\",\"lodash\":\"lodash\",\"moment\":\"moment\",\"raven-js\":\"raven-js\",\"react\":\"react\",\"react-document-title\":\"react-document-title\",\"react-router\":\"react-router\",\"reflux\":\"reflux\",\"string\":\"string\"}],16:[function(require,module,exports){\n/** @jsx React.DOM */\nvar ModalBookmarksMove = require(\"../Modals/BookmarksMove\"),\n    ModalBookmarksCopy = require(\"../Modals/BookmarksCopy\"),\n    ModalBookmarksRemove = require(\"../Modals/BookmarksRemove\"),\n    ModalBookmarksAddTags = require(\"../Modals/BookmarksAddTags\");\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/BatchEdit\",\n\n    getInitialState: function() {\n      return {\n        count: this.props.count,\n        bookmarksCount: this.props.bookmarksCount,\n        modalMoveShow: false,\n        modalCopyShow: false,\n        modalRemoveShow: false,\n        modalAddTagsShow: false\n      }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      if (this.isMounted())\n        this.setState({\n          count: nextProps.count,\n          bookmarksCount: nextProps.bookmarksCount\n        });\n    },\n\n    handleModalMoveClose: function() {\n      if (this.isMounted())\n      this.setState({modalMoveShow: false});\n    },\n\n    handleModalCopyClose: function() {\n      if (this.isMounted())\n      this.setState({modalCopyShow: false});\n    },\n\n    handleModalRemoveClose: function() {\n      if (this.isMounted())\n      this.setState({modalRemoveShow: false});\n    },\n\n    handleModalAddTagsClose: function() {\n      if (this.isMounted())\n      this.setState({modalAddTagsShow: false});\n    },\n\n    handleMove: function(e) {\n      e.preventDefault();\n      if (this.isMounted())\n      this.setState({modalMoveShow: true});\n    },\n\n    handleCopy: function(e) {\n      e.preventDefault();\n      if (this.isMounted())\n      this.setState({modalCopyShow: true});\n    },\n\n    handleRemove: function(e) {\n      e.preventDefault();\n      if (this.isMounted())\n      this.setState({modalRemoveShow: true});\n    },\n\n    handleTags: function(e) {\n      e.preventDefault();\n      if (this.isMounted())\n      this.setState({modalAddTagsShow: true});\n    },\n\n    handleSelectAll: function(e) {\n      e.preventDefault();\n      this.props.onSelectAll();\n    },\n\n    handleCancel: function(e) {\n      e.preventDefault();\n      this.props.onCancel();\n    },\n\n    render: function() {\n      return (\n        React.createElement(\"div\", {className: \"context-actions\"}, \n          React.createElement(\"div\", {className: \"badge\"}, this.state.count, \" \", t.s(\"of\"), \" \", this.state.bookmarksCount), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleMove}, \n            React.createElement(\"span\", {className: \"icon\"}, React.createElement(Icon, {name: \"move-all\"})), \n            React.createElement(\"span\", {className: \"title\"}, t.s(\"moveSelectedBookmarks\"))\n          ), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleCopy}, \n            React.createElement(\"span\", {className: \"icon\"}, React.createElement(Icon, {name: \"copy\"})), \n            React.createElement(\"span\", {className: \"title\"}, \"Copy\")\n          ), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleTags}, \n            React.createElement(\"span\", {className: \"icon\"}, React.createElement(Icon, {name: \"tags\", size: \"mac\"})), \n            React.createElement(\"span\", {className: \"title\"}, t.s(\"addTags\"))\n          ), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleRemove}, \n            React.createElement(\"span\", {className: \"icon\"}, React.createElement(Icon, {name: \"trash\", size: \"mac\", className: \"icn-red\"})), \n            React.createElement(\"span\", {className: \"title\"}, t.s(\"remove\"))\n          ), \n\n          React.createElement(\"div\", {className: \"divider\"}), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleSelectAll}, \n            React.createElement(Icon, {name: \"select-all\"}), \n            React.createElement(\"span\", {className: \"title\"}, t.s(\"selectAll\"))\n          ), \n\n          React.createElement(\"a\", {href: \"\", className: \"action\", onClick: this.handleCancel}, \n            React.createElement(Icon, {name: \"clear\", size: \"mac\"}), \n            React.createElement(\"span\", {className: \"title\"}, t.s(\"cancel\"))\n          ), \n\n          React.createElement(Modal, {position: \"right-top\", isOpened: this.state.modalMoveShow, onClose: this.handleModalMoveClose}, \n            React.createElement(ModalBookmarksMove, null)\n          ), \n\n          React.createElement(Modal, {position: \"right-top\", isOpened: this.state.modalCopyShow, onClose: this.handleModalCopyClose}, \n            React.createElement(ModalBookmarksCopy, null)\n          ), \n\n          React.createElement(Modal, {position: \"right-top\", isOpened: this.state.modalRemoveShow, onClose: this.handleModalRemoveClose}, \n            React.createElement(ModalBookmarksRemove, null)\n          ), \n\n          React.createElement(Modal, {position: \"right-top\", isOpened: this.state.modalAddTagsShow, onClose: this.handleModalAddTagsClose}, \n            React.createElement(ModalBookmarksAddTags, null)\n          )\n        )\n      );\n    }\n});\n\n},{\"../Modals/BookmarksAddTags\":53,\"../Modals/BookmarksCopy\":54,\"../Modals/BookmarksMove\":55,\"../Modals/BookmarksRemove\":56}],17:[function(require,module,exports){\n/** @jsx React.DOM */\nvar BookmarkActions = require('../../../actions/Bookmarks');\nvar Popover = require(\"../Popovers/Bookmark\");\n\nvar colors = require('../../../modules/colors.js');\nvar colorThief = require('../../../modules/colorThief.js');\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/Favorite\",\n\n    mixins: [DragDropMixin],\n\n    statics: {\n      configureDragDrop: function(register) {\n        register('favicon', {\n          dragSource: {\n            beginDrag: function(component) {\n              return {\n                item: {\n                  _id: component.state._id\n                }\n              };\n            },\n\n            endDrag: function(component) {\n              if (typeof component.props.onEndDrag == \"function\"){\n                component.props.onEndDrag(component.state._id);\n              }\n            }\n          },\n\n          dropTarget: {\n            over: function(componentReceiver, originItem) {\n              if (typeof componentReceiver.props.onMove == \"function\"){\n                componentReceiver.props.onMove(originItem._id, componentReceiver.state._id);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    getInitialState: function() {\n        //var temp = JSON.parse(JSON.stringify(this.props.item));\n        //temp.palette = Api.getItem(\"palette_\"+temp.domain) || null;\n        //temp.contrast = Api.getItem(\"contrast_\"+temp.domain) || \"black\";\n        this.props.item.scaleDown = Api.getItem(\"scaleDown-\"+ (this.props.item.cover||this.props.item.domain) ) || null;\n        //temp.noFavIcon = Api.getItem(\"noFavIcon-\"+temp.domain) || false;\n        this.props.item.showPopover=false;\n        this.props.item.mousePos=false;\n        return this.props.item;\n        //return temp;\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      if (this.isMounted())\n        this.setState(nextProps.item);\n    },\n\n    initPalette: function(e) {\n        if (this.isMounted()){\n          var _this = this;\n          //if (_this.state.scaleDown==null)\n          try {\n              var coverScaleDown = ((e.target.parentNode.offsetWidth > e.target.naturalWidth) || (e.target.parentNode.offsetHeight > e.target.offsetHeight))\n              if (_this.state.scaleDown != coverScaleDown) {\n                  if (coverScaleDown) {\n                      Api.setItem(\"scaleDown-\"+(_this.state.cover||_this.state.domain), coverScaleDown);\n                      if (_this.isMounted())\n                        _this.setState({scaleDown: coverScaleDown});\n                  }\n              }\n          }catch(e){}\n        }\n\n        //if (this.state.palette == null) {\n        /*    var p = \"0,0,0\";\n            try {\n                p = colorThief.getDarkPalette(e.target);\n            } catch (e) {}\n\n            var palette = \"rgb(\"+p+\")\";\n            var contrast = \"white\";\n            this.setState({palette: palette, contrast: contrast});\n            Api.setItem(\"palette_\"+this.state.domain, palette);\n            Api.setItem(\"contrast_\"+this.state.domain, contrast);*/\n        //}\n    },\n\n    onErrorImg: function(e) {\n      /*var p =\"0,0,0\", _this = this;\n\n      try{\n        p = colors.colorFromString(_this.state.domain);\n\n        p = colorThief.getDarkPalette(p,true);\n      }catch(e){}\n\n      var palette = \"rgb(\"+p+\")\";\n      var contrast = \"white\";\n      Api.setItem(\"palette_\"+this.state.domain, palette);\n      Api.setItem(\"contrast_\"+this.state.domain, contrast);\n\n      Api.setItem(\"noFavIcon-\"+this.state.domain, \"true\");*/\n      if (this.isMounted())\n      this.setState({noFavIcon: true/*, palette: palette, contrast: contrast*/});\n    },\n\n    handleMore: function(e) {\n        e.preventDefault();\n        /*if (typeof this.props.onMore == \"function\")\n            this.props.onMore(this.props.item._id);*/\n        if (this.isMounted())\n        this.setState({showPopover:true, mousePos: !e.target.classList.contains(\"icon-more\")});\n    },\n\n    handleEdit: function(e) {\n        if (e) e.preventDefault();\n        Pop.show(\"bookmark\", {\n          id: this.state._id,\n          pin: \"element-\"+this.state._id,\n          //force: \"vertical\"\n        });\n        //this.props.onMore(this.props.item._id);\n    },\n\n    handleRemove: function(e) {\n        e.preventDefault();\n        BookmarkActions.removeBookmark({item: this.state});\n    },\n\n    handlePopoverClose: function() {\n      if (this.isMounted())\n        this.setState({showPopover:false});\n    },\n\n    render: function(){\n        var className = \"card favorite-item favorite-\"+this.state.contrast;\n\n        if (this.getDragState('favicon').isDragging)\n          className += \" no-opacity\";\n\n        if ((this.state.scaleDown)&&(!this.state.noFavIcon))\n          className += \" scaleDown\";\n\n        var title = this.state.title;\n        try{\n          title = title.trim()/*.split(\" \")[0]*/;\n        }catch(e){}\n\n        var favicon = null, faviconBg = \"white\";\n        if (!this.state.noFavIcon){\n          favicon = React.createElement(\"img\", {src: this.state.cover ? network.thumb(this.state.cover, 230) : network.favIcon((this.state.domain)), onLoad: this.initPalette, onError: this.onErrorImg, alt: \"\"});\n        }\n        else{\n          var color = colors.colorFromString(this.state.domain);\n          faviconBg = \"rgb(\"+color[0]+\",\"+color[1]+\",\"+color[2]+\")\";\n          favicon = React.createElement(Icon, {name: \"best\", size: \"big\"});\n          className += \" noFavIcon\";\n        }\n\n        return (\n            React.createElement(\"figure\", React.__spread({ref: \"item\", id: \"element-\"+this.props.item._id},  this.dragSourceFor('favicon'),  this.dropTargetFor('favicon'), {className: className, onContextMenu: this.handleMore}), \n                React.createElement(\"div\", {className: \"favicon\", style: {backgroundColor: faviconBg}}, \n                    favicon\n                ), \n\n                React.createElement(\"figcaption\", {className: \"about\"}, \n                    React.createElement(\"div\", {className: \"title\", title: title}, title)\n                ), \n\n                React.createElement(\"div\", {className: \"more\"}, \n                  React.createElement(\"a\", {href: \"\", id: \"more-\"+this.props.item._id, className: \"action-icon icon-more\", onClick: this.handleEdit}, React.createElement(Icon, {name: \"more\", size: \"mac\", style: {backgroundColor: this.state.palette}}))\n                  /*<a href=\"\" className=\"action-icon\" onClick={this.handleRemove}><Icon name=\"trash\" style={{backgroundColor: this.state.palette}} /></a>*/\n                ), \n\n                React.createElement(\"a\", {href: this.state.link, className: \"permalink\"}), \n                React.createElement(Popover, React.__spread({position: this.state.mousePos ? \"left\" : \"\", onClose: this.handlePopoverClose, show: this.state.showPopover, attachId: \"more-\"+this.props.item._id},  this.props.item, {handleEdit: this.handleEdit, handleRemove: this.handleRemove, mousePos: this.state.mousePos}))\n            )\n        );\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../modules/ReactDND\":102,\"../../../modules/colorThief.js\":104,\"../../../modules/colors.js\":105,\"../Popovers/Bookmark\":74}],18:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Tag = require('./Tag.js'),\n    Cover = require('../Helpers/Cover.js'),\n    Favicon = require('../Helpers/Favicon.js'),\n    Checkbox = require('../Helpers/Checkbox.js'),\n    Path = require('../Collections/Path.js'),\n    Popover = require(\"../Popovers/Bookmark\");\n\nvar BookmarkActions = require('../../../actions/Bookmarks');\n\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/Item\",\n\n    mixins: [DragDropMixin, Router.State, PureRenderMixin],\n\n    statics: {\n      configureDragDrop: function(register) {\n        register('bookmark', {\n          dragSource: {\n            beginDrag: function(component) {\n              React.findDOMNode(component.refs.bookmark).classList.add('drag-preview');\n              return {\n                item: {\n                  _id: component.state._id\n                }\n              };\n            },\n\n            canDrag: function(component) {\n              return component.props.canDrag && component.props.canEdit;\n            },\n\n            endDrag: function(component) {\n              if (typeof component.props.onMoveEnd == \"function\"){\n                component.props.onMoveEnd();\n              }\n            }\n          },\n\n          dropTarget: {\n            over: function(componentReceiver, originItem) {\n              if ((typeof componentReceiver.props.onMove == \"function\")&&(componentReceiver.props.canDropSort||false)) {\n                componentReceiver.props.onMove(originItem._id, componentReceiver.state._id);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    getInitialState: function() {\n        var temp = this.props.item;\n        temp.selectMode = this.props.selectMode || false;\n        temp.showPopover = false;\n        temp.mousePos = false;\n        return temp;\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        var temp = nextProps.item;\n        temp.selectMode = nextProps.selectMode || false;\n        if (this.isMounted())\n        this.setState(temp);\n    },\n\n    handleMore: function(e) {\n        e.preventDefault();\n        if (this.isMounted())\n        this.setState({showPopover:true, mousePos: !e.target.classList.contains(\"icon-more\")});\n        /*if (typeof this.props.onMore == \"function\")\n            this.props.onMore(this.state._id);*/\n    },\n\n    handleEdit: function(e) {\n        e.preventDefault();\n        Pop.show(\"bookmark\", {\n            id: this.state._id,\n            pin: /*(this.props.view == \"simple\" ? e.target.id : false) ||*/ \"element-\"+this.state._id,\n            //force: (this.props.view != \"simple\" ? \"vertical\" : \"\")\n        });\n        //this.props.onMore(this.state._id);\n    },\n\n    handleRemove: function(e) {\n        e.preventDefault();\n        BookmarkActions.removeBookmark({item: this.state});\n    },\n\n    handleSelect: function(val) {\n        var selected = val;\n        if (typeof val == \"object\"){\n          if ((this.state.selectMode)/*||(val.nativeEvent.ctrlKey)||(val.nativeEvent.metaKey)*/||(val.nativeEvent.shiftKey)) {\n            val.preventDefault();\n            selected = !(this.state.selected || false);\n            this.props.onSelect({id: this.state._id, selected: selected, shift: val.nativeEvent.shiftKey});\n          }\n        }\n        else\n          this.props.onSelect({id: this.state._id, selected: selected});\n    },\n\n    handlePopoverClose: function() {\n        if (this.isMounted())\n        this.setState({showPopover:false});\n    },\n\n    render: function() {\n        var cover_icon = null,\n            tags = null,\n            className = \"card\",\n            content = null;\n\n        if (this.getDragState('bookmark').isDragging)\n          className += \" no-opacity\";\n\n        if (this.state.selected)\n          className += \" selected\";\n\n        if (this.state.selectMode)\n          className += \" select-mode\";\n\n        if (this.state.loading)\n          className += \" loading\";\n\n        if (this.state.tags)\n            tags = this.state.tags.map(function(tag,index) {\n                return React.createElement(Tag, {key: \"tag\"+index, name: tag})\n            });\n\n        if (this.state.type == 'video')\n            cover_icon = React.createElement(\"div\", {className: \"play\"}, React.createElement(\"div\", {className: \"play-icon\"}, React.createElement(Icon, {name: \"play\"})), React.createElement(\"img\", {className: \"cover-img\", src: network.thumb(this.state.cover, 230)}));\n\n        if (this.state.loading===true){\n            //<div className=\"progress-wrap\"><progress max=\"100\" value={this.state.progress||0} /></div>\n            cover_icon = React.createElement(\"div\", {className: \"progress\", id: \"bookmark-loading-progress-\"+this.state._id}, React.createElement(\"div\", {className: \"progress-preloader\"}, (this.state.progress||0) < 100 ? (this.state.progress||null) : 99));\n        }\n\n        var fullLink = \"\", _target = network.linkTarget();\n        if (this.state.selectMode)\n            fullLink = \"\";\n        else if (this.state.type == \"link\"){\n            fullLink = this.state.link;\n        }\n        else{\n            fullLink = \"#\"+this.context.router.getCurrentPathname()+\"?viewer=\"+this.state._id;\n            _target = \"_self\";\n        }\n\n        var more = null;\n\n        if (this.props.canEdit){\n            var viewOrOpen = null;\n\n            if (!this.state.loading){\n                if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n                    if ((this.state.type != \"link\")&&(!this.state.file)) {\n                        viewOrOpen = React.createElement(\"a\", {href: fullLink, className: \"action-icon\"}, React.createElement(Icon, {name: \"eye\"}));\n                        fullLink = this.state.link; _target = network.linkTarget();\n                    }\n                }\n                else\n                    viewOrOpen = React.createElement(\"a\", {href: this.state.link, className: \"action-icon\", target: \"_blank\"}, React.createElement(Icon, {name: \"open-link\", size: \"mac\"}));\n            }\n\n            more = (React.createElement(\"div\", {className: \"more\"}, \n                viewOrOpen, \n                /*!this.state.loading ? <a href=\"\" className=\"action-icon icon-more\"   onClick={this.handleMore}><Icon name=\"more\" size=\"mac\" /></a> : null*/\n                !this.state.loading ? React.createElement(\"a\", {href: \"\", className: \"action-icon\", id: \"more-\"+this.state._id, onClick: this.handleEdit}, React.createElement(Icon, {name: \"edit\", size: \"mac\"})) : null, \n                React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleRemove}, React.createElement(Icon, {name: \"trash\", size: \"mac\"})), \n                React.createElement(Checkbox, {active: this.state.selected, onClick: this.handleSelect})\n            ));\n        }\n\n        var permalink = [\n            (React.createElement(\"a\", {href: fullLink, target: _target, onClick: this.handleSelect, className: \"permalink\", key: \"permalink1\"})),\n            (React.createElement(Popover, React.__spread({key: \"permalink2\", position: this.state.mousePos ? \"left\" : \"\", onClose: this.handlePopoverClose, show: this.state.showPopover, attachId: \"more-\"+this.state._id},  this.state, {handleEdit: this.handleEdit, handleRemove: this.handleRemove})))];\n\n        var path = null;\n        if (this.props.showPath){\n          path = React.createElement(\"figcaption\", {className: \"path\"}, React.createElement(Path, {_id: this.state.collection[\"$id\"]}));\n          className += \" with-path\";\n        }\n\n        var typeIcon = null;\n        if (this.state.type!=\"link\")\n            typeIcon = React.createElement(Icon, {name: this.state.type});\n\n        switch(this.props.view){\n            case 'masonry':\n            case 'grid':\n                className += \" grid-item\";\n\n                content = (\n                    React.createElement(\"figure\", React.__spread({ref: \"bookmark\", id: \"element-\"+this.state._id},  this.dragSourceFor('bookmark'),  this.dropTargetFor('bookmark'), {className: className, \"data-type\": this.state.type, onContextMenu: this.handleMore}), \n                        React.createElement(\"div\", {className: \"cover\"}, \n                            cover_icon, \n                            React.createElement(Cover, {src: this.state.cover, link: this.state.link, domain: this.state.domain, width: \"230\", className: \"cover-img\", preHeight: this.props.view==\"masonry\", proportions: this.props.item.coverHeight})\n                            /*<Favicon domain={this.state.domain} className=\"icon\" />*/\n                        ), \n\n                        React.createElement(\"figcaption\", {className: \"about\"}, \n                            React.createElement(\"div\", {className: \"title\"}, this.state.title, \" \", React.createElement(\"span\", {className: \"tags\"}, tags)), \n                            React.createElement(\"div\", {className: \"type\"}, typeIcon)\n                        ), \n                        path, \n\n                        more, \n                        permalink\n                    ));\n            break;\n\n            case 'simple':\n                className += \" list-item\";\n\n                content = (\n                    React.createElement(\"figure\", React.__spread({ref: \"bookmark\", id: \"element-\"+this.state._id},  this.dragSourceFor('bookmark'),  this.dropTargetFor('bookmark'), {className: className, \"data-type\": this.state.type, onContextMenu: this.handleMore}), \n                        React.createElement(\"div\", {className: \"favicon\"}, \n                            React.createElement(Favicon, {domain: this.state.domain, className: \"icon\"})\n                        ), \n\n                        React.createElement(\"figcaption\", {className: \"about\"}, \n                            React.createElement(\"div\", {className: \"title\"}, this.state.title, \" \", React.createElement(\"span\", {className: \"tags\"}, tags))\n                        ), \n\n                        path, \n\n                        React.createElement(\"div\", {className: \"type\"}, typeIcon), \n\n                        more, \n                        permalink\n                    ))\n            break;\n\n            default:\n                className += \" list-item\";\n                var excerptText = \"\";\n                try{\n                  excerptText = S(this.state.excerpt).truncate(150).s;\n                }catch(e){}\n                if (!excerptText)\n                    excerptText = t.s(this.state.type) + \" \" + t.s(\"from\") + \" \" + this.state.domain;\n\n                var favicon = null;\n                if (this.state.cover)\n                    favicon = React.createElement(Favicon, {domain: this.state.domain, className: \"icon\"});\n\n                content = (\n                    React.createElement(\"figure\", React.__spread({ref: \"bookmark\", id: \"element-\"+this.state._id},  this.dragSourceFor('bookmark'),  this.dropTargetFor('bookmark'), {className: className, \"data-type\": this.state.type, onContextMenu: this.handleMore}), \n                        React.createElement(\"div\", {className: \"cover\"}, \n                            cover_icon, \n                            React.createElement(Cover, {src: this.state.cover, link: this.state.link, domain: this.state.domain, width: \"100\", className: \"cover-img\", proportions: this.props.item.coverHeight})\n                            \n                            /*<div className=\"light-border\"></div>*/\n                        ), \n\n                        React.createElement(\"figcaption\", {className: \"about\"}, \n                            React.createElement(\"div\", {className: \"title\"}, this.state.title), \n                            \n                            React.createElement(\"div\", {className: \"excerpt\"}, React.createElement(\"span\", {className: \"description\"}, excerptText), \" \", React.createElement(\"span\", {className: \"tags\"}, tags)), \n                            path\n                        ), \n\n                        React.createElement(\"div\", {className: \"type\"}, typeIcon), \n\n                        more, \n                        permalink\n                    ))\n            break;\n        }\n\n        return content;\n    }\n}); \n\n},{\"../../../actions/Bookmarks\":2,\"../../../modules/ReactDND\":102,\"../Collections/Path.js\":33,\"../Helpers/Checkbox.js\":38,\"../Helpers/Cover.js\":40,\"../Helpers/Favicon.js\":42,\"../Popovers/Bookmark\":74,\"./Tag.js\":22,\"react/addons\":\"react/addons\"}],19:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Bookmark = require('./Item.js'),\n    Favorite = require(\"./Favorite\"),\n    Section = require('./Section'),\n    Upgrade = require(\"./Upgrade\");\nvar ReactCSSTransitionGroup = require('react/addons').addons.CSSTransitionGroup;\n\n//var GoogleAd = require(\"../Helpers/GoogleAd\");\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/List\",\n\n    getInitialState: function() {\n        return {\n            items: this.props.items,\n            view: this.props.view,\n            sort: this.props.sort\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState({\n            items: nextProps.items,\n            view: nextProps.view,\n            sort: nextProps.sort\n        });\n    },\n\n    render: function() {\n        var _this = this,\n            items = [];\n\n        var className = \"bookmarks view-\"+this.state.view;\n\n        /*if (UserStore.getConfig(\"view_cover_disable\"))\n            className+=\" view-cover-disable\";\n\n        if (UserStore.getConfig(\"view_cover_invert_position\"))\n            className+=\" view-cover-invert-position\";*/\n\n        if (this.state.view) {\n            var lastSection = null, currentSection = null;\n            this.state.items.forEach(function (item, itterIndex) {\n                var element = null;\n\n                if (_this.state.view == \"favorites\")\n                    element = (React.createElement(Favorite, {\n                        key: \"favorite_\"+item._id, \n                        item: item, \n                        onMore: _this.props.onMore, \n                        onMove: _this.props.onMove, \n                        onEndDrag: _this.props.onMoveEnd}));\n                else\n                    element = React.createElement(Bookmark, {item: item, \n                                      view: _this.state.view, \n                                      key: \"bookmark_\"+item._id, \n                                      selectMode: _this.props.selectMode, \n                                      showPath: _this.props.showPath, \n                                      canDrag: true, \n                                      canDropSort: _this.state.sort==\"sort\", \n                                      canEdit: _this.props.canEdit, \n                                      onMore: _this.props.onMore, \n                                      onMove: _this.props.onMove, \n                                      onMoveEnd: _this.props.onMoveEnd, \n                                      onSelect: _this.props.onSelect});\n\n                if (_this.state.sort!=\"sort\") {\n                    var html = [element];\n\n                    switch(_this.state.sort){\n                        case \"lastUpdate\":\n                            currentSection = new Date(item.lastUpdate).getMonth();\n                        break;\n                        case \"title\":\n                            currentSection = \"\";\n                            try {\n                                currentSection = item.title.trim().toUpperCase().substr(0, 1);\n                            }catch(e){}\n\n                            if (S(currentSection).isNumeric())\n                                currentSection = \"#\";\n                        break;\n                    }\n\n                    if (currentSection != lastSection) {\n                        lastSection = currentSection;\n\n                        switch(_this.state.sort) {\n                            case \"lastUpdate\":\n                                item.section = {type: \"date\", value: item.lastUpdate};\n                            break;\n                            case \"title\":\n                                item.section = {type: \"text\", value: lastSection};\n                            break;\n                        }\n\n                        html.unshift(\n                            React.createElement(Section, {item: item.section, key: \"books_sec_\"+item.value})\n                        );\n                    }\n\n                    items.push(html);\n                }\n                else\n                  items.push(element);\n            });\n\n            return (React.createElement(\"div\", {className: className}, items));\n        }\n        else\n            return null;\n    }\n});\n\n},{\"./Favorite\":17,\"./Item.js\":18,\"./Section\":21,\"./Upgrade\":23,\"react/addons\":\"react/addons\"}],20:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Bookmark = require('./Item.js');\nvar Masonry = require('react-masonry-component')(React);\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/Masonry\",\n\n    getInitialState: function() {\n        return {\n            items: this.props.items,\n            view: this.props.view,\n            sort: this.props.sort\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      if (this.isMounted())\n        this.setState({\n            items: nextProps.items,\n            view: nextProps.view,\n            sort: nextProps.sort\n        });\n    },\n\n    render: function() {\n        var _this = this,\n            items = null;\n\n        if (this.state.view) {\n            items = this.state.items.map(function (item) {\n                return (React.createElement(Bookmark, {item: item, \n                                  view: _this.state.view, \n                                  key: \"bookmark_\"+item._id, \n                                  selectMode: _this.props.selectMode, \n                                  showPath: _this.props.showPath, \n                                  canDrag: true, \n                                  canDropSort: /*_this.state.sort==\"sort\"*/false, \n                                  canEdit: _this.props.canEdit, \n                                  onMore: _this.props.onMore, \n                                  onMove: _this.props.onMove, \n                                  onMoveEnd: _this.props.onMoveEnd, \n                                  onSelect: _this.props.onSelect}));\n            });\n        }\n\n        var className = \"bookmarks view-\"+this.state.view;\n        if (UserStore.getConfig(\"view_cover_disable\"))\n            className+=\" view-cover-disable\";\n\n        return (\n          React.createElement(Masonry, {\n              className: className, \n              elementType: 'figure'}, \n              items\n          )\n        );\n        //return (<div className={className} ref=\"view-masonry\">{items}</div>);\n    }\n});\n\n},{\"./Item.js\":18,\"react-masonry-component\":\"react-masonry-component\"}],21:[function(require,module,exports){\n/** @jsx React.DOM */\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/Section\",\n\n    render: function() {\n        var content = \"\";\n        switch(this.props.item.type){\n            case 'date':\n                var format = \"MMMM\", m = moment(this.props.item.value);\n                if (m.format(\"YY\") != moment().format(\"YY\"))\n                    format += \" YYYY\";\n                content = m.format(format);\n            break;\n\n            case 'text':\n                content = this.props.item.value;\n            break;\n        }\n\n        return (\n            React.createElement(\"div\", {className: \"section\"}, content)\n        )\n    }\n});\n\n},{}],22:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmarks/Tag\",\n\n    shouldComponentUpdate: function(nextProps) {\n      return this.props.name != nextProps.name;\n    },\n\n    render: function() {\n    \tvar cId = 0;\n    \ttry{cId = CollectionsStore.getCurrentId()||0;}catch(e){};\n    \t\n        return React.createElement(\"a\", {href: \"#/collection/\"+cId+\"/\"+encodeURIComponent(JSON.stringify([{key: \"tag\", val: this.props.name}])), className: \"tag\"}, \"#\", this.props.name)\n    }\n});\n\n},{\"../../../stores/Collections\":115}],23:[function(require,module,exports){\nmodule.exports = React.createClass({\n\tdisplayName: \"Bookmarks/Upgrade\",\n\trender: function() {\n\t\tif (!this.props.force){\n\t\t\tif (UserStore.isPro())\n\t\t\t\treturn null;\n\n\t\t\tif (parseInt(Api.getItem(\"openCount\")||0)%10 != 0)\n\t\t\t\treturn null;\n\t\t}\n\t\t\n\t\tvar className = \"card upgrade-bookmark\";\n\t\tswitch(this.props.view){\n\t\t\tcase \"grid\":\n\t\t\tcase \"masonry\":\n\t\t\t\tclassName+=\" grid-item\";\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tclassName+=\" list-item\";\n\t\t\tbreak;\n\t\t}\n\n\t\tvar title = this.props.title || t.s(\"footerProAd\") + \" \" + t.s(\"footerProAdD\"),\n\t\t\texcerpt = this.props.excerpt || \"$2 \"+t.s(\"und\")+\" \"+t.s(\"pro_noAds\").toLowerCase();\n\n\t\treturn (\n\t\t\tReact.createElement(\"figure\", {className: className}, \n\t\t\t\tReact.createElement(\"img\", {className: \"upgrade-bookmark-icon\", src: (window.pathPrefix||\"\") + \"../common/images/upgrade.png\"}), \n\t\t\t\tReact.createElement(\"div\", {className: \"upgrade-bookmark-text\"}, \n\t\t\t\t\tReact.createElement(\"b\", null, title), \n\t\t\t\t\texcerpt\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"a\", {href: consts.proPage, target: \"_blank\", className: \"permalink\"})\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],24:[function(require,module,exports){\n/** @jsx React.DOM */\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Breadcrumb\",\n\n    mixins: [DragDropMixin],\n\n    statics: {\n      configureDragDrop: function(register) {\n        register('bookmark', {\n          dropTarget: {\n            acceptDrop: function(collection, bookmarkItem) {\n              if (typeof collection.props.onDropBookmark == \"function\")\n                collection.props.onDropBookmark(bookmarkItem._id, collection.props._id);\n            }\n          }\n        });\n      }\n    },\n\n    /*shouldComponentUpdate: function(nextProps) {\n      if (this.props._id != nextProps._id)\n        return true;\n\n      if (this.props.children != nextProps.children)\n        return true;\n\n      return false;\n    },*/\n\n    render: function() {\n      var className = \"item\";\n\n      if (this.getDropState('bookmark').isHovering)\n        className += \" drag-hover\";\n\n      var coverImg = null;\n      if (this.props.cover){\n        var cover = consts.defaultCollectionIcon();\n        try{cover = network.fixURL(this.props.cover[0]);}catch(e){}\n        coverImg = React.createElement(\"img\", {src: cover, alt: \"\"});\n      }\n\n      return React.createElement(\"li\", React.__spread({className: className, key: \"bread_\"+this.props._id},  this.dropTargetFor('bookmark')), coverImg, React.createElement(\"a\", {href: \"#collection/\"+this.props._id}, this.props.children));\n    }\n});\n\n},{\"../../../modules/ReactDND\":102}],25:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsStore = require('../../../stores/Collections');\nvar Breadcrumb = require(\"./Breadcrumb\");\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Breadcrumbs\",\n\n    mixins: [PureRenderMixin],\n\n    getInitialState: function() {\n      return {\n          collection: this.props.collection,\n          parents: this.props.parents\n      }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      if (this.isMounted())\n      this.setState({\n          collection: nextProps.collection,\n          parents: nextProps.parents\n      });\n    },\n\n    handleEdit: function(e) {\n      e.preventDefault();\n      Pop.show(\"collection\", {\n        id: this.state.collection._id,\n        forceEdit: true,\n        pin: \"current-collection-settings-button\",\n        force: \"vertical\"\n      });\n    },\n\n    handleShare: function(e) {\n      e.preventDefault();\n      Pop.show(\"collection\", {\n        id: this.state.collection._id,\n        pin: \"current-collection-share-button\",\n        force: \"vertical\",\n        step: \"sharing\"\n      });\n    },\n\n    handleAddFolder: function(e) {\n      e.preventDefault();\n      Pop.show(\"collection\", {\n        parentId: this.state.collection._id,\n        pin: \"current-collection-sub-folder-button\",\n        force: \"vertical\"\n      });\n    },\n\n    handleRemove: function(e) {\n      e.preventDefault();\n      CollectionsStore.onRemoveCollection({item: this.state.collection});\n    },\n\n    render: function() {\n        var items = null, actionLinks = null, _this = this;\n        if ((this.state.parents||[]).length>0)\n            items = this.state.parents.map(function(item){\n                return [React.createElement(Breadcrumb, {key: \"breaditem_\"+item._id, _id: item._id, onDropBookmark: _this.props.onDropBookmark}, item.title), React.createElement(\"li\", {className: \"item separator\", key: item._id+\"_\"}, React.createElement(Icon, {name: \"chevron-right\", size: \"small\"}))];\n            });\n\n        if (this.state.collection.author)\n            actionLinks = (\n              React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n                React.createElement(\"li\", {className: \"item more active\"}, \n                    React.createElement(\"a\", {href: \"\", title: t.s(\"createSubFolder\"), className: \"action-icon\", onClick: this.handleAddFolder, style: {paddingLeft: \"14px\",paddingRight:\"14px\"}, id: \"current-collection-sub-folder-button\"}, React.createElement(Icon, {name: \"folder-add\", size: \"mac\"}))\n                ), \n\n                React.createElement(\"li\", {className: \"item more active\"}, \n                    React.createElement(\"a\", {href: \"\", title: t.s(\"sharing\"), className: \"action-icon\", onClick: this.handleShare, style: {paddingLeft: \"14px\",paddingRight:\"14px\"}, id: \"current-collection-share-button\"}, React.createElement(Icon, {name: \"share\", size: \"mac\"}))\n                )\n              )\n            );\n\n        if (this.state.collection._id===-99)\n            actionLinks = (\n              React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n                React.createElement(\"li\", {className: \"item more active\"}, \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleRemove, style: {paddingLeft:\"14px\",paddingRight:\"14px\"}}, React.createElement(Icon, {name: \"trash\", size: \"mac\"}))\n                )\n              )\n            );\n\n        return (\n            React.createElement(\"div\", {className: \"breadcrumbs-wrap\"}, \n                React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n                    React.createElement(\"li\", {className: \"item\"}, React.createElement(\"a\", {href: \"#/\", className: \"action-icon\"}, React.createElement(Icon, {name: \"home\"}))), \n                    React.createElement(\"li\", {className: \"item separator\"}, React.createElement(Icon, {name: \"chevron-right\", size: \"small\"}))\n                ), \n                React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n                    items, \n                    React.createElement(\"li\", {className: \"item active\", id: \"current-collection-settings-button\"}, React.createElement(\"a\", {href: \"\", onClick: this.handleEdit}, this.state.collection.title, \" \", React.createElement(Icon, {name: \"arrow-down\", size: \"small\"})))\n                ), \n\n                actionLinks\n            )\n        );\n    }\n});\n\n},{\"../../../stores/Collections\":115,\"./Breadcrumb\":24,\"react/addons\":\"react/addons\"}],26:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Collection = require('./Item.js');\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Childrens\",\n\n    //mixins: [PureRenderMixin],\n\n    getInitialState: function() {\n        return {items: this.props.items};\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState({\n            items: nextProps.items\n        });\n    },\n\n    render: function() {\n        var items = null, _this = this;\n        if ((this.state.items||[]).length>0)\n            items = this.state.items.map(function (item) {\n                return React.createElement(Collection, {item: item, \n                                    look: \"simple\", \n                                    key: \"child_\"+item._id, \n                                    dragParent: \"childrens\", \n                                    onMore: _this.props.onCollectionMore, \n                                    onMove: _this.props.onCollectionMove, \n                                    onEndDrag: _this.props.onCollectionMoveEnd, \n                                    onDropBookmark: _this.props.onDropBookmark});\n            });\n\n        if (items!=null)\n            return React.createElement(\"div\", {className: \"bookmarks view-childrens childrens\"}, React.createElement(\"div\", {className: \"section\"}, t.s(\"nestedCollections\")), items);\n        else\n            return React.createElement(\"div\", null);\n    }\n});\n\n},{\"./Item.js\":31}],27:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Breadcrumb = require(\"../Collections/Breadcrumb\");\nvar SidebarActions = require('../../../actions/Sidebar');\nvar PopoverCollection = require('../Popovers/CollectionMore');\nvar CollectionViewModal = require('../Modals/CollectionView');\nvar Search = require('../Search/Search.js');\nvar ClipperAction = require('../Helpers/ClipperAction.js');\nvar Select = require('../Helpers/Select.js');\n\nvar iconSize = null;\nif ((window.environment||[]).indexOf(\"mac\")!=-1)\n    iconSize = \"mac\";\n\nvar overSidebarIcon = false, overSidebarTimeout = null;\n\nvar _sorting = [];\n\nvar setDefaults = function() {\n  _sorting = [\n      {\n          key: \"sort\",\n          value: t.s(\"custom\")\n      },\n      {\n          key: \"lastUpdate\",\n          value: t.s(\"byDate\")\n      },\n      {\n          key: \"title\",\n          value: t.s(\"byName\")\n      }\n  ];\n}\n\nif (document)\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\nelse\n    setDefaults();\n\nvar _styles = [\"grid\",\"list\",\"masonry\",\"simple\"];\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/ClipperToolbar\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    getInitialState: function() {\n        return {\n            collection: this.props.collection,\n            parents: this.props.parents,\n            sortSelected: this.props.sortSelected,\n            collectionPopover: false,\n            viewModal: {\n                show: false\n            },\n            queries: this.props.queries,\n            showSearch: (this.props.queries.length>0),\n            more: false\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState({\n            collection: nextProps.collection,\n            parents: nextProps.parents,\n            sortSelected: nextProps.sortSelected,\n            queries: nextProps.queries,\n            //showSearch: (this.props.queries.length>0),\n            more: false\n        });\n\n        var hideSearch = false;\n        try{if ((this.state.collection._id != nextProps.collection._id)&&(nextProps.queries.length==0)) hideSearch = true;}catch(e){}\n        if (hideSearch)\n            if (this.isMounted())\n            this.setState({showSearch:false});\n    },\n\n    handleFab: function(e) {\n        e.preventDefault();\n        this.props.handleFab();\n    },\n\n\n    handleBack: function(e) {\n        if (e)\n            e.preventDefault();\n        //this.context.router.goBack();\n        window.history.back();\n    },\n\n    handleSidebar: function(e) {\n        if (e) e.preventDefault();\n        SidebarActions.change(true);\n    },\n\n    handleSidebarOver: function(e) {\n        overSidebarIcon = true;\n        var _this = this;\n        overSidebarTimeout = setTimeout(function() {\n            if (overSidebarIcon) _this.handleSidebar();\n        }, 150);\n    },\n\n    handleSidebarLeave: function(e) {\n        clearTimeout(overSidebarTimeout);\n        overSidebarIcon = false;\n    },\n\n    handleCollectionPopover: function(e) {\n        if (e)\n            e.preventDefault();\n\n        Pop.show(\"collection\", {id: this.state.collection._id, pin: \"clipper-toolbar-header\", forceEdit: true});\n        //this.setState({more: !this.state.more});\n    },\n\n    handleEdit: function(tab) {\n        //this.props.handleEditCollection( parseInt(tab) );\n        Pop.show(\"collection\", {id: this.state.collection._id, pin: \"clipper-toolbar-header\", forceEdit: true});\n        this.handleCloseMore();\n    },\n\n    handleShare: function() {\n        Pop.show(\"collection\", {id: this.state.collection._id, step: \"sharing\", pin: \"clipper-toolbar-share\"});\n    },\n\n    handleViewModalShow: function() {\n        var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n        temp.show = true;\n        if (this.isMounted())\n        this.setState({viewModal: temp});\n    },\n\n    handleViewModalClose: function() {\n      var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n      temp.show = false;\n      if (this.isMounted())\n      this.setState({viewModal: temp});\n    },\n\n    handleChangeView: function(view) {\n        this.props.handleChangeView(view);\n    },\n\n    handleSearchOpen: function(e) {\n        e.preventDefault();\n        if (this.isMounted())\n        this.setState({showSearch: true, more: false});\n    },\n\n    handleSearchReset: function()  {\n        //if (this.props.queries.length==0)\n        if (this.isMounted())\n            this.setState({showSearch: false, more: false});\n        this.props.onSearchReset();\n    },\n\n    handleAddFolder: function(e) {\n        e.preventDefault();\n        Pop.show(\"collection\", {parentId: this.state.collection._id, pin: \"clipper-toolbar-sub-folder\"});\n        //this.props.handleAddFolder();\n        this.handleCloseMore();\n    },\n\n    handleClose: function(e) {\n        e.preventDefault();\n        BrowserBridge.close();\n    },\n\n    handleCloseMore: function() {\n        if (this.isMounted())\n        this.setState({more: false});\n    },\n\n    handleSortChange: function(e) {\n        e.preventDefault();\n        this.props.handleSortChange(e.target.getAttribute(\"data-sort\"));\n    }, \n\n    handleChangeViewItem: function(e) {\n        e.preventDefault();\n        var view = e.target.getAttribute(\"data-view\");\n        this.handleChangeView(view);\n    },\n\n    renderMore: function() {\n        var _this = this;\n\n        var fastLinks = [];\n        if (this.state.collection.author){\n            fastLinks.push(\n              React.createElement(\"a\", {href: \"\", onClick: this.handleEdit, className: \"item\"}, \n                  React.createElement(\"span\", {className: \"icon currentCollectionBackground\"}, React.createElement(Icon, {name: \"edit\"})), \n                  React.createElement(\"span\", {className: \"title\"}, t.s(\"collectionEdit\"))\n              )\n            );\n\n            fastLinks.push(\n              React.createElement(\"a\", {href: \"\", onClick: this.handleShare, className: \"item\"}, \n                  React.createElement(\"span\", {className: \"icon currentCollectionBackground\"}, React.createElement(Icon, {name: \"share\"})), \n                  React.createElement(\"span\", {className: \"title\"}, t.s(\"shareCollection\"))\n              )\n            );\n\n            if ((window.environment||[]).indexOf(\"mobile\")==-1){\n                fastLinks.push(\n                  React.createElement(\"a\", {href: network.fixURL(\"/app#/collection/\"+this.state.collection._id), target: \"_blank\", onClick: this.handleCloseMore, className: \"item\"}, \n                      React.createElement(\"span\", {className: \"icon currentCollectionBackground\"}, React.createElement(Icon, {name: \"open-link\"})), \n                      React.createElement(\"span\", {className: \"title\"}, t.s(\"openInBrowser\"))\n                  )\n                );\n            }\n\n            fastLinks.push(\n              React.createElement(\"a\", {href: \"\", onClick: this.handleAddFolder, className: \"item\"}, \n                  React.createElement(\"span\", {className: \"icon currentCollectionBackground\"}, React.createElement(Icon, {name: \"folder-add\"})), \n                  React.createElement(\"span\", {className: \"title\"}, t.s(\"createSubFolder\"))\n              )\n            );\n        }\n\n        var sort = _sorting.map(function(item){\n            return (\n              React.createElement(\"div\", {className: \"item \"+(_this.state.sortSelected == item.key ? \"active\":null), \"data-sort\": item.key, onClick: _this.handleSortChange}, \n                  item.value\n              )\n            );\n          });\n          if ((this.state.collection._id == 0)||\n              (this.state.collection._id == -99))\n            sort.splice(0,1);\n\n        var styles = _styles.map(function(item,index){\n            return React.createElement(\"a\", {href: \"\", key: \"style_\"+item, className: item==_this.state.collection.view ? \"active\" : \"\", \"data-view\": item, onClick: _this.handleChangeViewItem}, React.createElement(\"img\", {src: (window.pathPrefix||\"\") + \"images/views/\" + item + \".svg\", style: {width:\"80px\",height:\"80px\"}}))\n        });\n\n        return (\n            React.createElement(\"div\", {className: \"clipper-toolbar-more \"+(this.state.more ? \"clipper-toolbar-show\" : \"\")}, \n                React.createElement(\"div\", {className: \"fast-links\"}, \n                    fastLinks\n                ), \n\n                React.createElement(\"div\", {className: \"picker-list\"}, \n                    React.createElement(\"div\", {className: \"separator\", style: {marginTop:\"-1px\"}}), \n                    React.createElement(\"div\", {className: \"section\"}, t.s(\"view\"))\n                ), \n\n                React.createElement(\"div\", {className: \"img-selector\", style: {padding: \"8px 16px\"}}, \n                    styles\n                ), \n\n                React.createElement(\"div\", {className: \"picker-list\"}, \n                    React.createElement(\"div\", {className: \"separator\"}), \n                    React.createElement(\"div\", {className: \"section\"}, t.s(\"collectionsSorting\"))\n                ), \n\n                React.createElement(\"div\", {className: \"ioslike-tab\"}, \n                    sort\n                )\n            )\n        );\n    },\n\n    render: function() {\n        var items = [], _this = this;\n        if ((this.state.parents||[]).length>0)\n            items = this.state.parents.map(function(item){\n                return [React.createElement(Breadcrumb, {key: \"bread_\"+item._id, _id: item._id, onDropBookmark: _this.props.onDropBookmark}, item.title), React.createElement(\"li\", {className: \"item separator\", key: item._id+\"_\"}, React.createElement(Icon, {name: \"chevron-right\", size: \"small\"}))];\n            });\n\n        var footer = null;\n\n        if (UserStore.isLogged())\n        if ((this.state.collection._id != -99)&&(typeof BrowserBridge != \"undefined\"))\n            footer = (\n                React.createElement(ClipperAction, {\n                    collection: this.state.collection, \n                    handleBookmarkEdit: this.props.handleBookmarkEdit, \n                    handleFab: this.props.handleFab}\n                    )\n            );\n\n        var titleBar = null;\n        if (this.state.showSearch)\n            titleBar = (\n                React.createElement(\"section\", {className: \"search-bar\"}, \n                    React.createElement(Search, {queries: this.state.queries, onSearchReset: this.handleSearchReset, autoFocus: true})\n                )\n            );\n        else\n            titleBar = (\n                React.createElement(\"section\", {className: \"navigation\"}, \n                    React.createElement(\"ul\", {className: \"path \"+(this.state.collection.parent ? \"\" : \"hidden\")}, \n                        items\n                    ), \n                    React.createElement(\"h1\", null, \n                        React.createElement(\"a\", {href: \"\", title: t.s(\"collectionEdit\"), className: \"path-more\", id: \"clipper-toolbar-setting\", onClick: this.handleCollectionPopover}, UserStore.isLogged() ? this.state.collection.title : \"Raindrop.io\", \n                        React.createElement(Icon, {name: \"arrow-down\", size: \"small\"}))\n                    )\n                )\n            );\n\n        var className = cx({\n            \"clipper-toolbar\": true,\n            \"currentCollectionBackground\": true,\n            \"search-mode\": this.state.showSearch\n        })\n\n        //onMouseOver={this.handleSidebarOver} onMouseLeave={this.handleSidebarLeave}\n        //{this.renderMore()}\n        return (\n                React.createElement(\"div\", {className: className}, \n                    React.createElement(\"header\", {className: UserStore.isLogged() ? \"\" : \"hidden\", id: \"clipper-toolbar-header\"}, \n                        React.createElement(\"section\", {className: \"menu\"}, \n                            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSidebar}, React.createElement(Icon, {name: \"menu\"}))\n                        ), \n                        \n                        titleBar, \n\n                        React.createElement(\"section\", {className: UserStore.isLogged() ? \"actions\" : \"hidden\"}, \n                            React.createElement(\"span\", {className: this.state.showSearch ? \"hidden\" : \"action-icon\", title: t.s(\"sortBy\")}, React.createElement(Select, {arrowIcon: false, items: _sorting, disableTitle: true, selected: this.state.sortSelected, handleChange: this.props.handleSortChange}, React.createElement(Icon, {name: \"sorting\", size: \"mac\"}))), \n\n                            React.createElement(\"a\", {href: \"\", className: this.state.showSearch ? \"hidden\" : \"action-icon\", onClick: this.handleSearchOpen}, React.createElement(Icon, {name: \"search\", size: \"mac\"})), \n                            self!=top ? React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: \"clear\", size: \"mac\"})) : null\n                        )\n                    ), \n\n                    \n\n                    footer, \n\n                    React.createElement(Modal, {position: \"right-top\", isOpened: this.state.viewModal.show, onClose: this.handleViewModalClose, closeOnOutsideClick: true, params: this.state.collection}, \n                        React.createElement(CollectionViewModal, {onChangeView: this.handleChangeView})\n                    )\n                )\n        );\n    }\n});\n\n},{\"../../../actions/Sidebar\":9,\"../Collections/Breadcrumb\":24,\"../Helpers/ClipperAction.js\":39,\"../Helpers/Select.js\":49,\"../Modals/CollectionView\":57,\"../Popovers/CollectionMore\":76,\"../Search/Search.js\":84}],28:[function(require,module,exports){\n/** @jsx React.DOM */\nvar PopoverCollection = require('../Popovers/Collection');\nvar CollectionViewModal = require('../Modals/CollectionView');\nvar Search = require('../Search/Search.js');\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Toolbar\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    getInitialState: function() {\n        return {\n            collectionPopover: false,\n            viewModal: {\n                show: false\n            },\n            queries: this.props.queries||[],\n            showSearch: ((this.props.queries||[]).length>0),\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({\n            queries: nextProps.queries||[],\n            showSearch: ((nextProps.queries||[]).length>0)\n        });\n    },\n\n    componentWillMount: function() {\n        window.addEventListener('macMoreMenu', this.handleCollectionPopover, true);\n        window.macSearchIsActive = true;\n        window.addEventListener('macSearch', this.handleSearch, true);\n    },\n\n    componentWillUnmount: function() {\n        window.removeEventListener('macMoreMenu', this.handleCollectionPopover, true);\n        window.removeEventListener('macSearch', this.handleSearch, true);\n        window.macSearchIsActive = false;\n    },\n\n    handleSearch: function() {\n        if (UserStore.isLogged())\n            this.setState({showSearch: this.state.queries.length>0});\n    },\n\n    handleCollectionPopover: function(e) {\n        if (e)\n            e.preventDefault();\n\n        if (UserStore.isLogged())\n            this.setState({collectionPopover: !this.state.collectionPopover});\n    },\n\n    handleCollectionPopoverClose: function() {\n        this.setState({collectionPopover: false});\n    },\n\n    handleEdit: function(tab) {\n        this.props.handleEditCollection( parseInt(tab) );\n    },\n\n    handleViewModalShow: function() {\n        var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n        temp.show = true;\n        this.setState({viewModal: temp});\n    },\n\n    handleViewModalClose: function() {\n      var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n      temp.show = false;\n      this.setState({viewModal: temp});\n    },\n\n    handleChangeView: function(view) {\n        this.props.handleChangeView(view);\n    },\n\n    handleSearchReset: function()  {\n        if (!this.props.q)\n            this.setState({showSearch: false});\n        this.props.onSearchReset();\n    },\n\n    render: function() {\n        var search = null, style=null;\n        //if ((this.state.showSearch)||((this.props.collection||{})._id==0)) {\n            search = (\n                React.createElement(\"div\", {className: \"clipper-toolbar search-mode\"}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"section\", {className: \"search-bar\"}, \n                            React.createElement(Search, {queries: this.state.queries, onSearchReset: this.handleSearchReset, autoFocus: (this.props.collection||{})._id!=0})\n                        )\n                    )\n                )\n            );\n\n            style = {height: \"38px\"};\n        //}\n\n        return (\n            React.createElement(\"div\", {className: \"desktop-toolbar\", style: style}, \n                React.createElement(\"div\", {id: \"collection-more-placeholder\"}), \n                React.createElement(PopoverCollection, {onClose: this.handleCollectionPopoverClose, \n                      show: this.state.collectionPopover, \n                      attachId: \"collection-more-placeholder\", \n                      collection: this.props.collection, \n                      sortSelected: this.props.sortSelected, \n                      handleSortChange: this.props.handleSortChange, \n                      handleEdit: this.handleEdit, \n                      handleViewModalShow: this.handleViewModalShow, \n                      handleAddFolder: this.props.handleAddFolder}), \n                React.createElement(Modal, {position: \"right-top\", isOpened: this.state.viewModal.show, onClose: this.handleViewModalClose, closeOnOutsideClick: true, params: this.props.collection}, \n                    React.createElement(CollectionViewModal, {onChangeView: this.handleChangeView})\n                ), \n\n                search\n            )\n        );\n    }\n});\n\n},{\"../Modals/CollectionView\":57,\"../Popovers/Collection\":75,\"../Search/Search.js\":84}],29:[function(require,module,exports){\n/** @jsx React.DOM */\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\nvar GroupTabDragDropMixin = require('./GroupTabDragDropMixin');\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/GroupTab\",\n\n    mixins: [DragDropMixin, GroupTabDragDropMixin],\n\n    getInitialState: function() {\n        return {\n          id: this.props.id,\n          active: this.props.active || false\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState({\n          id: nextProps.id,\n          active: nextProps.active || false\n        });\n    },\n\n    handleMore: function(e) {\n        e.preventDefault();\n        Pop.show(\"group\", {\n          id: this.state.id,\n          pin: \"tab-group-\"+this.state.id,\n          force: \"vertical\"\n        });\n    },\n\n    handleAdd: function(e) {\n        e.preventDefault();\n        if (typeof this.props.onAdd == \"function\")\n            this.props.onAdd(this.state.id);\n    },\n\n    render: function() {\n        var className = \"item\"+(this.state.active?\" active\":\"\");\n        //if (this.getDragState('group').isDragging)\n        //  className += \" invisible\";\n\n        return (\n          React.createElement(\"div\", React.__spread({ref: \"group\", \n            className: className, \n            key: \"grouptab_\"+this.state.id, \n            id: \"tab-group-\"+this.state.id}, \n            this.dropTargetFor('collection', 'group'), \n            this.dragSourceFor('group'), \n            {\"data-id\": this.state.id, \n            onClick: this.props.onClick, \n            onContextMenu: this.handleMore}), \n            /*<div className=\"action-icon\" onClick={this.handleAdd}><Icon name=\"add\" size=\"small\" /></div>*/\n            React.createElement(\"div\", {className: \"title\"}, this.props.children), \n            React.createElement(\"div\", {className: \"action-icon\", onClick: this.handleMore}, React.createElement(Icon, {name: \"edit\", size: \"mac\"}))\n          )\n        )\n    }\n});\n\n},{\"../../../modules/ReactDND\":102,\"./GroupTabDragDropMixin\":30}],30:[function(require,module,exports){\nmodule.exports = {\n  statics: {\n    configureDragDrop: function(register) {\n      register('collection', {\n        dropTarget: {\n          over: function(componentReceiver, originItem) {\n            if (typeof componentReceiver.props.onClick == \"function\"){\n              componentReceiver.props.onClick({id: componentReceiver.state.id});\n            }\n\n            if (typeof componentReceiver.props.onDrop == \"function\"){\n              componentReceiver.props.onDrop(originItem._id, componentReceiver.state.id || componentReceiver.props.id, originItem.dragParent);\n            }\n          }\n        }\n      });\n\n      register('group', {\n        dragSource: {\n          beginDrag: function(component) {\n            React.findDOMNode(component.refs.group).classList.add('drag-preview');\n            return {\n              item: {\n                id: component.state.id || component.props.id\n              }\n            };\n          }\n        },\n\n        dropTarget: {\n          over: function(componentReceiver, originItem) {\n            if (typeof componentReceiver.props.onMove == \"function\"){\n              componentReceiver.props.onMove(originItem.id, componentReceiver.state.id || componentReceiver.props.id);\n            }\n          }\n        }\n      });\n    }\n  },\n}\n\n},{}],31:[function(require,module,exports){\n/** @jsx React.DOM */\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\nvar ItemDragDropMixin = require('./ItemDragDropMixin');\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\nvar Popover = require(\"../Popovers/Collection\");\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Item\",\n\n    mixins: [DragDropMixin, ItemDragDropMixin, PureRenderMixin],\n\n    getInitialState: function() {\n        var state = this.props.item;\n        state.showPopover=false;\n        state.mousePos=false;\n        return state;\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState(nextProps.item);\n    },\n\n    handleMore: function(e) {\n        if (e) if (e.preventDefault) e.preventDefault();\n        if (this.isMounted())\n        this.setState({showPopover:true, mousePos: !e.target.classList.contains(\"icon-more\")});\n        /*if (typeof this.props.onMore == \"function\")\n            this.props.onMore(0, this.props.item._id);*/\n    },\n\n    handleShare: function(e) {\n        if (e) if (e.preventDefault) e.preventDefault();\n        Pop.show(\"collection\", {\n          id: this.props.item._id,\n          pin: \"child-collection-\"+this.props.item._id,\n          step: \"sharing\"\n        });\n    },\n\n    handleEdit: function(e, step) {\n        if (e) if (e.preventDefault) e.preventDefault();\n        //this.props.onMore(0, this.props.item._id);\n        Pop.show(\"collection\", {\n          id: this.props.item._id,\n          pin: \"child-collection-\"+this.props.item._id,\n          step: step\n        });\n    },\n\n    handlePopoverClose: function() {\n        if (this.isMounted())\n        this.setState({showPopover:false});\n    },\n\n    render: function() {\n        var cover = consts.defaultCollectionIcon();\n        try{cover = network.fixURL(this.state.cover[0]);}catch(e){}\n\n        var ghostIcon = null;\n        /*if (this.state._id>0)\n            ghostIcon = <img src={cover} className=\"ghost-icon\" alt=\"\" />;*/\n\n        var link = \"#/collection/\"+this.state._id;\n\n        var statusShared = null, statusPublic = null;\n        if (this.state.collaborators && this.state.author)\n            statusShared = React.createElement(Icon, {name: \"shared\", size: \"small\"});\n        else if (this.state.collaborators && !this.state.author)\n            statusShared = React.createElement(Icon, {name: \"public\", size: \"small\"});\n        if (this.state.public)\n            statusPublic = React.createElement(Icon, {name: \"link\", size: \"mac\"});\n\n        var actions = null;\n        if ((this.state.author)/*&&(typeof this.props.onMore == 'function')*/) {\n            actions = (React.createElement(\"div\", {className: \"more\"}, \n                React.createElement(\"a\", {href: \"\", id: \"edit-\"+this.props.item._id, className: \"action-icon icon-more\", onClick: this.handleShare}, React.createElement(Icon, {name: \"share\", size: \"mac\"})), \n                React.createElement(\"a\", {href: \"\", id: \"edit-\"+this.props.item._id, className: \"action-icon icon-more\", onClick: this.handleEdit}, React.createElement(Icon, {name: \"settings\", size: \"mac\"}))\n                \n                /*<a href=\"\" id={\"more-\"+this.props.item._id} className=\"action-icon icon-more\" onClick={this.handleMore}><Icon name=\"more\" size=\"mac\" /></a>*/\n            ));\n        }\n\n        var className=\"card collection-item\"+(this.props.look || \"\");\n        if (this.getDragState('collection').isDragging)\n          className += \" no-opacity\";\n\n        if (this.getDropState('bookmark').isHovering)\n          className += \" drag-hover\";\n\n        //default icons\n        var icon = null, favIconClass = \"favicon\";\n        switch(this.state._id){\n            case -1:\n                icon = React.createElement(Icon, {name: \"inbox\", className: \"icn-orange\"});\n                favIconClass+= \" favicon-svg\";\n            break;\n\n            default:\n                icon = React.createElement(\"img\", {src: cover, className: \"icon\", alt: \"\"});\n            break;\n        }\n\n        return (\n            React.createElement(\"figure\", React.__spread({},  this.dragSourceFor('collection'),  this.dropTargetFor('collection', 'bookmark'), {className: className, ref: \"collection\", id: \"child-collection-\"+this.props.item._id, onContextMenu: this.handleMore}), \n                React.createElement(\"div\", {className: favIconClass}, \n                    ghostIcon, \n                    icon\n                ), \n\n                React.createElement(\"figcaption\", {className: \"about\"}, \n                    React.createElement(\"div\", {className: \"title\"}, this.state.title)\n                ), \n\n                React.createElement(\"div\", {className: \"info\"}, \n                    React.createElement(\"div\", {className: \"count\"}, this.state.count), \n                    statusShared, \n                    statusPublic\n                ), \n\n                actions, \n                React.createElement(\"a\", {href: link, className: \"permalink\"}), \n                React.createElement(Popover, React.__spread({position: this.state.mousePos ? \"left\" : \"\", onClose: this.handlePopoverClose, show: this.state.showPopover, attachId: \"more-\"+this.props.item._id},  {collection:this.props.item}, {onlyBasic: true, handleEdit: this.handleEdit, handleRemove: this.handleRemove, mousePos: this.state.mousePos}))\n            )\n        );\n    }\n});\n\n},{\"../../../modules/ReactDND\":102,\"../Popovers/Collection\":75,\"./ItemDragDropMixin\":32,\"react/addons\":\"react/addons\"}],32:[function(require,module,exports){\nmodule.exports = {\n  statics: {\n    configureDragDrop: function(register) {\n      register('collection', {\n        dragSource: {\n          canDrag: function(component) {\n            if ( (component.state._id || component.props._id) <=0)\n              return false;\n            return true;\n          },\n\n          beginDrag: function(component) {\n            React.findDOMNode(component.refs.collection).classList.add('drag-preview');\n            return {\n              effectsAllowed: [\"move\"],\n              dragPreview: React.findDOMNode(component.refs.collection),\n              item: {\n                _id: component.state._id || component.props._id,\n                dragParent: component.props.dragParent,\n              }\n            };\n          },\n\n          endDrag: function(component, dragEffect) {\n            if (typeof component.props.onEndDrag == \"function\")\n              component.props.onEndDrag(component.state._id || component.props._id);\n          }\n        },\n\n        dropTarget: {\n          over: function(componentReceiver, originItem) {\n            if (originItem._id == (componentReceiver.state._id || componentReceiver.props._id)){\n              return false;\n            }\n\n            if (typeof componentReceiver.props.onMove == \"function\"){\n              componentReceiver.props.onMove(originItem._id, (componentReceiver.state._id || componentReceiver.props._id), originItem.dragParent);\n            }\n          }\n        }\n      });\n\n\n      register('bookmark', {\n        dropTarget: {\n          acceptDrop: function(collection, bookmarkItem) {\n            if (typeof collection.props.onDropBookmark == \"function\")\n              collection.props.onDropBookmark(bookmarkItem._id, collection.state._id || collection.props._id);\n          }\n        }\n      });\n    }\n  },\n}\n\n},{}],33:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsActions = require('../../../actions/Collections');\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Path\",\n\n    getInitialState: function() {\n        return {\n          _id: this.props._id,\n          cover: null,\n          title: null\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      if (this.isMounted())\n        this.setState({\n          _id: nextProps._id\n        });\n    },\n\n    shouldComponentUpdate: function(nextProps, nextState) {\n      if (this.state.title != nextState.title)\n        return true;\n\n      if (this.state.cover != nextState.cover)\n        return true;\n\n      if (this.state._id != nextState._id){\n        return true;\n      }\n\n      return false;\n    },\n\n    onCollectionsChange: function() {\n        if (this.state.title != null)\n          return true;\n\n        this.parseCollection();\n    },\n\n    componentDidMount: function() {\n      this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n\n      if (this.parseCollection()==null)\n        CollectionsStore.onLoadId(this.state._id);\n    },\n\n    componentWillUnmount: function() {\n      this.unsubscribeCollections();\n    },\n\n    parseCollection: function() {\n      var collection = CollectionsStore.getCollection(this.state._id);\n\n      if (collection == null)\n        return null;\n      else{\n        var cover = \"\";//consts.defaultCollectionIcon();\n        if (collection._id>0)\n        try{\n          cover = network.fixURL(collection.cover[0]);\n        }catch(e){}\n        if (this.isMounted())\n        this.setState({title: collection.title, cover: cover});\n      }\n\n      return true;\n    },\n\n    render: function() {\n      return (\n        React.createElement(\"a\", {href: \"#/collection/\"+this.state._id, className: \"from-collection\"}, \n          !this.state.cover ? React.createElement(Icon, {name: network.defaultIcons(this.state._id), className: \"collection-icon\"}) : React.createElement(\"img\", {src: this.state.cover, className: \"collection-icon\", alt: \"\"}), \n          this.state.title\n        )\n      );\n    }\n});\n\n},{\"../../../actions/Collections\":4,\"../../../stores/Collections\":115}],34:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Breadcrumbs = require('./Breadcrumbs.js'),\n    Select = require('../Helpers/Select.js');\n\nvar CollectionViewModal = require('../Modals/CollectionView');\n\nvar _sorting = [\n    {\n        key: \"sort\",\n        value: t.s(\"custom\")\n    },\n    {\n        key: \"lastUpdate\",\n        value: t.s(\"byDate\")\n    },\n    {\n        key: \"title\",\n        value: t.s(\"byName\")\n    }\n]\n\nmodule.exports = React.createClass({\n    displayName: \"Collections/Toolbar\",\n\n    getInitialState: function() {\n        return {\n            collection: this.props.collection,\n            parents: this.props.parents,\n            sortSelected: this.props.sortSelected,\n\n            viewModal: {\n                show: false\n            }\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted())\n        this.setState({\n            collection: nextProps.collection,\n            parents: nextProps.parents,\n            sortSelected: nextProps.sortSelected\n        });\n    },\n\n    handleChangeView: function(view) {\n        this.props.handleChangeView(view);\n    },\n\n    handleEdit: function(e) {\n        e.preventDefault();\n        this.props.handleEditCollection( parseInt(e.target.getAttribute('data-tab')) );\n    },\n\n    handleViewModalShow: function(e) {\n        e.preventDefault();\n        var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n        temp.show = true;\n        if (this.isMounted())\n        this.setState({viewModal: temp});\n    },\n\n    handleViewModalClose: function() {\n      var temp = JSON.parse(JSON.stringify(this.state.viewModal));\n      temp.show = false;\n      if (this.isMounted())\n      this.setState({viewModal: temp});\n    },\n\n    render: function() {\n        if (!UserStore.isLogged())\n            return null;\n\n        return (\n            React.createElement(\"div\", {className: \"collection-toolbar\"}, \n                React.createElement(Modal, {position: \"right-top\", isOpened: this.state.viewModal.show, onClose: this.handleViewModalClose, closeOnOutsideClick: true, params: this.state.collection}, \n                    React.createElement(CollectionViewModal, {onChangeView: this.handleChangeView})\n                ), \n\n                React.createElement(Breadcrumbs, {\n                    collection: this.state.collection, \n                    parents: this.state.parents, \n                    handleEditCollection: this.props.handleEditCollection, \n                    handleAddFolder: this.props.handleAddFolder, \n                    onDropBookmark: this.props.onDropBookmark}\n                    ), \n                React.createElement(\"div\", {className: \"toolbar-icons\"}, \n                    React.createElement(\"span\", {className: \"action-icon\", title: t.s(\"sortBy\")}, React.createElement(Select, {arrowIcon: \"true\", items: _sorting, disableTitle: false, selected: this.state.sortSelected, handleChange: this.props.handleSortChange}, React.createElement(Icon, {name: \"sorting\", size: \"mac\"})))\n                )\n            )\n        );\n        //\n        //<Icon name={this.state.collection.view} /> \n    }\n});\n\n},{\"../Helpers/Select.js\":49,\"../Modals/CollectionView\":57,\"./Breadcrumbs.js\":25}],35:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsStore = require('../../stores/Collections');\n\nvar fab = React.createClass({\n  displayName: \"Fab\",\n\n    getDefaultProps: function() {\n        return {};\n    },\n\n    shouldComponentUpdate: function() {\n      return false;\n    },\n\n    componentDidMount: function() {\n        React.render(React.createElement(_fab, React.__spread({},  this.props)), document.getElementById('app-overlay-action'));\n    },\n\n    componentWillUnmount: function() {\n        var elem = document.getElementById('app-overlay-action');\n        if (elem) elem.removeChild(document.getElementById('fabAppButton'));\n    },\n\n    render: function() {\n        return null;\n    }\n});\n\nvar _fab = React.createClass({\n  displayName: \"_fab\",\n\n    handleClick: function(e) {\n        e.preventDefault();\n        var isSystem = (CollectionsStore.getCurrentId() <= 0);\n\n        Pop.show(\"fab\", {\n            parentId: CollectionsStore.getCurrentId(),\n            pin: \"fabAppButton\",\n            onlyURL: isSystem\n        });\n    },\n\n    render: function() {\n        return (\n            React.createElement(\"a\", {href: \"\", id: \"fabAppButton\", className: \"fab\", style: {position: 'fixed'}, onClick: this.handleClick}, React.createElement(Icon, {name: \"add\", size: \"small\"}))\n        );\n    }\n});\n\nmodule.exports = fab;\n\n},{\"../../stores/Collections\":115}],36:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsActions = require('../../../actions/Collections');\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n    displayName: \"Forms/CollectionsList\",\n\n    scrolled: false,\n\n    getInitialState: function() {\n        return {\n            items: CollectionsStore.getCollections(),\n            childrens: [],\n            user: UserStore.getUser()\n        };\n    },\n\n    onCollectionsChange: function(collections) {\n        this.setState({items: collections});\n    },\n\n    onUserChange: function(user) {\n        this.setState({\n            user: user\n        });\n    },\n\n    scrollToActive: function() {\n        if (this.scrolled) return;\n\n        var activeElem = false;\n        if (this.props.activeCollection)\n            activeElem = document.getElementById(\"cl-collection-\"+this.props.activeCollection);\n        else if (this.props.activeGroup)\n            activeElem = document.getElementById(\"cl-group-\"+this.props.activeGroup);\n\n        if (activeElem){\n            activeElem.scrollIntoView(false);\n            this.scrolled=true;\n        }\n    },\n\n    componentWillMount: function() {\n        CollectionsActions.load();\n    },\n\n    componentDidMount: function() {\n        var _this = this;\n\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n\n        var temp = null;\n        try{temp = JSON.parse(Api.getItem(\"childrens\"));} catch(e) {}\n        if ((temp) && (_this.state.childrens.length == 0)) {\n            _this.state.childrens = _.sortBy(temp, function(item){\n              return item.sort;\n            });\n            _this.setState({childrens: _this.state.childrens});\n        }\n\n        Api.get(\"childrens\", function(json){\n            var childrens = _.sortBy(json.items||[], function(item){\n              return item.sort;\n            });\n\n            _this.setState({childrens: childrens});\n            Api.setItem(\"childrens\", JSON.stringify(childrens));\n        });\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeCollections();\n        this.unsubscribeUser();\n    },\n\n    handleCollectionSelect: function(e) {\n        e.preventDefault();\n        var collection = null, id = parseInt(e.target.getAttribute('data-cid'));\n\n        for(var i in this.state.items)\n            if (this.state.items[i]._id == id){\n                collection = this.state.items[i];\n                break;\n            }\n\n        for(var i in this.state.childrens)\n            if (this.state.childrens[i]._id == id){\n                collection = this.state.childrens[i];\n                break;\n            }\n\n        this.props.onSelectCollection(collection);\n    },\n\n    handleGroupSelect: function(e) {\n        e.preventDefault();\n        var index = parseInt(e.target.getAttribute('data-index'));\n\n        this.props.onSelectGroup(this.state.user.groups[index], index);\n    },\n\n    componentDidUpdate: function() {\n        if(this.props.onUpdate) this.props.onUpdate();\n\n        this.scrollToActive();\n    },\n\n    render: function() {\n        var items = [], _this = this,\n            withGroups = (typeof _this.props.onSelectGroup == 'function');\n\n        var _makeItem = function(item) {\n            var cover = \"https://raindrop.io/other/popup/img/icon-folder.png\";\n            try{cover = network.fixURL(item.cover[0]);}catch(e){}\n\n            return (\n                React.createElement(\"div\", {id: \"cl-collection-\"+item._id, className: \"item\"+((_this.props.activeCollection||0) == item._id ? \" active\":\"\"), style: {paddingLeft: (item.level*20)+\"px\"}}, \n                    React.createElement(\"div\", {className: \"icon\"}, \n                        React.createElement(\"img\", {src: cover, alt: \"\"})\n                    ), \n                    React.createElement(\"div\", {className: \"title\"}, \n                        item.title\n                    ), \n                    React.createElement(\"a\", {href: \"\", className: \"permalink\", \"data-cid\": item._id, onClick: _this.handleCollectionSelect})\n                )\n            );\n        }\n\n        var _makeGroup = function(item, index) {\n            if (withGroups) {\n                var placeholder = null;\n                if (index>0)\n                    placeholder = React.createElement(\"div\", {className: \"section\"});\n                return (\n                    React.createElement(\"div\", null, \n                        placeholder, \n                        React.createElement(\"div\", {id: \"cl-group-\"+index, className: \"item\"+(_this.props.activeGroup == index ? \" active\":\"\")}, \n                            React.createElement(\"div\", {className: \"icon\"}, \n                                React.createElement(Icon, {name: \"group\", size: \"mac\"})\n                            ), \n                            React.createElement(\"div\", {className: \"title\"}, \n                                item.title\n                            ), \n                            React.createElement(\"a\", {href: \"\", className: \"permalink\", \"data-index\": index, onClick: _this.handleGroupSelect})\n                        )\n                    )\n                );\n            }\n            else\n                return React.createElement(\"div\", {className: \"section\"}, item.title);\n        }\n\n        var findChildrens = function(parentId, level) {\n            _this.state.childrens.forEach(function(c){\n                if ((c.parent[\"$id\"]==parentId)&&(c._id != _this.props.skipCollection)) {\n                    c.level = level;\n                    items.push(_makeItem(c));\n                    findChildrens(c._id, level+1);\n                }\n            });\n        }\n\n        if ((this.state.user.groups||[]).length>0)\n        this.state.user.groups.forEach(function(item, index){\n            if ((withGroups)||((item.collections||[]).length>0))\n              items.push(_makeGroup(item, index));\n\n            if ((item.collections||[]).length>0)\n                item.collections.forEach(function(c){\n                    var collection = CollectionsStore.getCollection(c);\n                    if ((collection!=null)&&(collection._id != _this.props.skipCollection)&&(collection.author)) {\n                        collection.level = (withGroups?2:1);\n                        items.push(_makeItem(collection));\n                        findChildrens(collection._id, (withGroups?3:2) );\n                    }\n                });\n        });\n\n        if (!withGroups) {\n            items.push(React.createElement(\"div\", {className: \"section\"}));\n            items.push(_makeItem(CollectionsStore.getCollection(-2)));\n            if (UserStore.isLogged()){\n              items.push(_makeItem(CollectionsStore.getCollection(-1)));\n              items.push(_makeItem(CollectionsStore.getCollection(-99)));\n            }\n        }\n\n        return (\n            React.createElement(\"div\", {className: \"picker-list\"}, \n                items\n            )\n        );\n    }\n});\n\n},{\"../../../actions/Collections\":4,\"../../../stores/Collections\":115}],37:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Avatar\",\n\n  shouldComponentUpdate: function(nextProps) {\n    return (this.props.src != nextProps.src);\n  },\n\n  render: function() {\n      if (this.props.src)\n          return React.createElement(\"img\", {className: \"icn-circle\", src: \"https://www.gravatar.com/avatar/\"+this.props.src+\"?d=mm&s=\"+(this.props.size||24), alt: \"\"});\n      else\n          return React.createElement(Icon, {name: \"default-avatar\"});\n  }\n});\n\n},{}],38:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Checkbox\",\n\n  shouldComponentUpdate: function(nextProps) {\n    return (this.props.active != nextProps.active);\n  },\n\n  handleClick: function(e) {\n    e.preventDefault();\n\n    this.props.onClick(!this.props.active);\n  },\n\n  render: function() {\n    var className = \"checkbox\";\n    if (this.props.active)\n      className += \" active\";\n\n    return (\n      React.createElement(\"a\", {href: \"\", onClick: this.handleClick, className: className}, \n        React.createElement(Icon, {name: \"done\"})\n      )\n    );\n  }\n});\n\n},{}],39:[function(require,module,exports){\nvar BookmarksActions = require(\"../../../actions/Bookmarks\"),\n\tBookmarksStore = require(\"../../../stores/Bookmarks\"),\n    LastBookmarkStore = require(\"../../../stores/LastBookmark\");\n\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n    displayName: \"Helpers/ClipperAction\",\n\n    getInitialState: function() {\n    \treturn {\n    \t\tstep: \"loading\",\n    \t\tbookmark: {}\n    \t}\n    },\n\n    componentWillUnmount: function() {\n        if (typeof this.unsubscribeLastBookmark == \"function\")\n            this.unsubscribeLastBookmark();\n        this.unsubscribeUser();\n        window.bridgeSaveURL = false;\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    \tvar _this = this;\n\n        if ((window.environment||[]).indexOf(\"mobile\")==-1){\n            this.unsubscribeLastBookmark = LastBookmarkStore.listen(this.onLastBookmark);\n\n            if (/*(window.environment.indexOf(\"chrome_popup\")!=-1)||*/(!UserStore.isLogged())) {\n                if (this.isMounted()) this.setState({step: \"unsupported\"});\n            }\n            else{\n            \tBrowserBridge.currentURL(function(url){\n                    if (_this.isMounted()) _this.setState({url: url});\n            \t\tBookmarksActions.loadBookmark({url: url}, function(item){\n            \t\t\tif (_this.isMounted()) _this.setState({step: (item?\"saved\":\"new\"), bookmark: (item||{})});\n            \t\t});\n            \t});\n            }\n\n            window.bridgeNewURL = function(url) {\n                if (_this.isMounted()) _this.setState({step: \"loading\", bookmark: {}, url: url});\n                BookmarksActions.loadBookmark({url: url}, function(item){\n                    if (_this.isMounted()) _this.setState({step: (item?\"saved\":\"new\"), bookmark: (item||{})});\n                });\n            }\n\n            window.bridgeSaveURL = this.handleSaveURL;\n        }else{\n            if (this.isMounted()) this.setState({step: \"new\"});\n        }\n    },\n\n    onUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user\n        });\n    },\n\n    onLastBookmark: function(action) {\n        if (this.state.step == \"unsupported\")\n            return;\n\n        switch(action.name){\n            case \"insert\":\n                var elem = document.getElementById(\"element-\"+action.bookmark._id);\n                if (elem) elem.classList.add(\"is-new\");\n\n                var _this = this;\n                BrowserBridge.currentURL(function(url){\n                    if ((url == action.bookmark.link)||(url == action.bookmark.link+\"/\")||(url+\"/\" == action.bookmark.link)){\n                        _this.setState({step: \"saved\", bookmark: action.bookmark});\n                    }\n                });\n\n                BrowserBridge.updateExtensionIconForURL(action.bookmark.link, true);\n            break;\n\n            case \"remove\":\n                if (action.bookmark._id == this.state.bookmark._id)\n                    this.setState({step: \"new\", bookmark: {}});\n\n                BrowserBridge.updateExtensionIconForURL(action.bookmark.link, false);\n            break;\n        }\n    },\n\n    handleBookmarkEdit: function(e) {\n    \te.preventDefault();\n    \tPop.show(\"bookmark\", {id: this.state.bookmark._id, pin: \"bookmark-edit-clipper\"});\n        //this.props.handleBookmarkEdit(this.state.bookmark._id);\n    },\n\n    handleSaveURL: function(url) {\n        var _this = this;\n        Toasts.show({title: t.s('loading'), text: url});\n        if (this.isMounted()) this.setState({url: url});\n\n        BookmarksActions.parseURL({item: {url: url}}, function(item){\n            if (item){\n                item.collectionId = _this.props.collection._id;\n\n                BookmarksActions.insertBookmark({item: item, toEndOfList: (item.collectionId==-2) }, function(result){\n\n                });\n            }else{\n                Toasts.show({text: t.s('supportOnlyUrls'), status:\"error\"});\n            }\n        });\n    },\n\n    handleFab: function(e) {\n        if (e)\n            if (typeof e.preventDefault != \"undefined\")\n                e.preventDefault();\n        var isSystem = (CollectionsStore.getCurrentId() <= 0);\n\n        Pop.show(\"fab\", {\n            parentId: CollectionsStore.getCurrentId(),\n            pin: \"clipper-add-zone\",\n            onlyURL: isSystem\n        });\n    },\n\n    handleURL: function(e) {\n        e.preventDefault();\n\n        Pop.show(\"fab\", {\n            parentId: CollectionsStore.getCurrentId(),\n            pin: \"clipper-add-zone\",\n            onlyURL: true\n        });\n    },\n\n    handleSave: function(e) {\n    \te.preventDefault();\n\n        //Disable if mobile\n        if ((window.environment||[]).indexOf(\"mobile\")==-1){\n        \tif (this.isMounted()) this.setState({step: \"loading\"});\n\n        \tvar _this = this;\n        \tBrowserBridge.currentURL(function(url){\n                if (_this.isMounted()) _this.setState({url:url});\n\n                var responseFunc = function(item){\n                    var clean = JSON.parse(JSON.stringify(item||{}));\n                    clean = BookmarksStore._prepareBookmark(clean,clean);\n                    clean.collectionId = _this.props.collection._id;\n\n                    BookmarksActions.insertBookmark({item: clean}, function(result){\n                        if (result){\n                            //_this.setState({step: \"saved\", bookmark: (result||{})});\n                        }else{\n                            if (_this.isMounted()) _this.setState({step: \"new\", bookmark: {}});\n                        }\n                    });\n                }\n\n                BrowserBridge.parseCurrentPage(function(item) {\n                    if (!item)\n                        BookmarksActions.parseURL({item: {url:url} }, responseFunc);\n                    else\n                        responseFunc(item);\n                });\n        \t});\n        }else{\n            this.handleFab();\n        }\n    },\n\n    render: function() {\n        var content = null;\n\n    \tswitch(this.state.step){\n    \t\tcase \"loading\":\n    \t\t\tcontent = (\n\t\t    \t\tReact.createElement(\"div\", {className: \"sub\", key: \"loading\"}, \n\t\t                React.createElement(\"section\", {className: \"icon\"}, \n\t\t                    React.createElement(Icon, {name: \"loading\", className: \"rotating-animation\", size: \"mac\"})\n\t\t                ), \n\t\t                React.createElement(\"section\", {className: \"text\"}, \n\t\t                    t.s(\"loading\"), \"...\", \n                            React.createElement(\"div\", {className: \"subinfo\"}, this.state.url||t.s(\"orAlternativeFeed\"))\n\t\t                )\n\t\t            )\n\t\t    \t);\n    \t\tbreak;\n\n    \t\tcase \"new\":\n    \t\t\tcontent = (\n\t\t    \t\tReact.createElement(\"div\", {className: \"sub\", onClick: this.handleSave, key: \"new\"}, \n\t\t                React.createElement(\"section\", {className: \"icon\"}, \n\t\t                    React.createElement(Icon, {name: \"add-box-clean\", size: \"mac\", className: \"currentCollectionBackground\"})\n\t\t                ), \n\t\t                React.createElement(\"section\", {className: \"text\"}, \n\t\t                    t.s(\"saveLink\"), \n                            React.createElement(\"div\", {className: \"subinfo\"}, t.s(\"or\"), \" \", t.s(\"noBookmarksD\").toLowerCase())\n\t\t                )\n\t\t            )\n\t\t    \t);\n    \t\tbreak;\n\n    \t\tcase \"saved\":\n    \t\t\tcontent = (\n\t\t    \t\tReact.createElement(\"div\", {className: \"sub\", id: \"bookmark-edit-clipper\", onClick: this.handleBookmarkEdit, key: \"saved\"}, \n\t\t                React.createElement(\"section\", {className: \"icon\"}, \n\t\t                    React.createElement(Icon, {name: \"done-circle\", size: \"mac\", className: \"icn-green\"})\n\t\t                ), \n\t\t                React.createElement(\"section\", {className: \"text\"}, \n\t\t                    t.s((this.state.bookmark.type||\"link\") + \"Saved\"), \n\t\t                    React.createElement(\"div\", {className: \"subinfo\"}, t.s(\"alreadyInCollectionDD\"))\n\t\t                )\n\t\t            )\n\t\t    \t);\n    \t\tbreak;\n\n            case \"unsupported\":\n                content = /*null;*/(\n                    React.createElement(\"div\", {className: \"sub\", style: {cursor:\"default\"}, key: \"unsupported\"}, \n                        React.createElement(\"section\", {className: \"icon\"}, \n                            React.createElement(Icon, {name: \"clear\", size: \"mac\"})\n                        ), \n                        React.createElement(\"section\", {className: \"text\"}, \n                            t.s(\"unableToRecognizeSpecifiedLink\"), \".\", React.createElement(\"br\", null), \n                            React.createElement(\"a\", {href: \"\", onClick: this.handleURL}, t.s(\"enterLink\"), \" (URL)\")\n                        )\n                    )\n                );\n            break;\n    \t}\n\n        content = [content];\n        content.push(\n            React.createElement(\"div\", {className: \"sub padding\", onClick: this.handleFab, key: \"more\"}, \n                React.createElement(\"section\", {className: \"text\"}, \n                    t.s(\"more\"), \" \", React.createElement(Icon, {name: \"arrow-down\", size: \"small\"})\n                )\n            )\n        );\n\n        return React.createElement(\"footer\", {id: \"clipper-add-zone\"}, content);\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../stores/Bookmarks\":113,\"../../../stores/Collections\":115,\"../../../stores/LastBookmark\":116}],40:[function(require,module,exports){\n/** @jsx React.DOM */\nvar colors = require('../../../modules/colors.js');\n\nmodule.exports = React.createClass({\n    displayName: \"Helpers/Cover\",\n\n    cleanSource: function(src,link) {\n      if (src){\n        return src;\n      }else{\n        return (consts.screenshotService+encodeURIComponent(link||\"\"));\n      }\n    },\n\n    makeNextState: function(props) {\n        var scaleDown = props.scaleDown || null,\n            proportions = null;\n        if (props.src){\n          scaleDown = Api.getItem(\"scaleDown-\"+props.src) || null;\n          proportions = parseFloat(props.proportions||0).toFixed(1) || Api.getItem(\"proportions-\"+props.src) || null;\n        }\n\n        return {\n            src: this.cleanSource(props.src, props.link),\n            domain: props.domain || \"\",\n            scaleDown: scaleDown,\n            width: props.width || 230,\n            className: props.className,\n            //proportions: proportions\n        };\n    },\n\n    getInitialState: function() {\n        return this.makeNextState(this.props);\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState(this.makeNextState(nextProps));\n    },\n\n    handleImgLoadSuccess: function(e) {\n        if (this.isMounted()){\n          var _this = this;\n          if (/*(_this.state.scaleDown==null)&&*/((_this.state.src||\"\").indexOf(\"data:\")!=0))\n          try {\n              var coverScaleDown = ((e.target.parentNode.offsetWidth > e.target.naturalWidth+30) || (e.target.parentNode.offsetHeight > e.target.naturalHeight+30))\n\n              if (_this.state.scaleDown != coverScaleDown) {\n                  if (coverScaleDown) {\n                      Api.setItem(\"scaleDown-\"+_this.state.src, coverScaleDown);\n                      if (_this.isMounted()) _this.setState({scaleDown: coverScaleDown});\n                  }\n              }\n\n              /*if (_this.props.preHeight){\n                Api.setItem(\"proportions-\"+_this.state.src, (e.target.naturalHeight / e.target.naturalWidth).toFixed(1));\n              }*/\n          }catch(e){}\n\n          try{(React.findDOMNode(this.refs.img).parentElement).style.backgroundImage = \"none\";}catch(e){}\n        }\n    },\n\n    handleImgLoadError: function() {\n        if (this.isMounted()){\n          this.setState({src: false});\n\n          try{(React.findDOMNode(this.refs.img).parentElement).style.backgroundImage = \"none\";}catch(e){}\n        }\n    },\n\n\n    shouldComponentUpdate: function(nextProps, nextState) {\n      if (this.state.src != nextState.src)\n        return true;\n\n      if (this.state.domain != nextState.domain)\n        return true;\n\n      if (this.state.scaleDown != nextState.scaleDown)\n        return true;\n\n      return false;\n    },\n\n    render: function() {\n        if (this.state.src) {\n            var className=this.state.className;\n            if ((this.props.preHeight)&&(this.state.proportions!=\"null\")){\n              className += \" with-proportions\";\n            }\n            if (this.state.src.indexOf(consts.screenshotService)==0)\n              className += \" is-screenshot\";\n\n            var retinaWidth = 230;\n            if (this.state.width == 230)\n              retinaWidth = 460;\n            //onLoad={this.handleImgLoadSuccess}\n            return React.createElement(\"img\", {ref: \"img\", className: className, \"data-scale-down\": this.state.scaleDown, \n                        //data-proportions={(this.state.proportions||\"\").toString()}\n                        src: network.thumb(this.state.src, this.state.width), \n                        srcSet: network.thumb(this.state.src, retinaWidth)+\" 2x\", alt: \"\", \n                        onLoad: this.handleImgLoadSuccess, \n                         onError: this.handleImgLoadError});\n        }else if (this.state.domain) {\n            //style={{backgroundImage: \"url(\"+network.favIcon(this.state.domain)+\")\"}}\n            var color = colors.colorFromString(strings.beautifulDomain(this.state.domain));\n            return React.createElement(\"span\", {ref: \"img\", className: this.state.className+\" cover-placeholder\", style: {backgroundColor: \"rgba(\"+color[0]+\",\"+color[1]+\",\"+color[2]+\",.5)\"}}, React.createElement(Icon, {name: \"safari\"}));\n        }else{\n            return React.createElement(\"span\", {ref: \"img\", className: this.state.className+\" cover-placeholder\"});\n        }\n    }\n});\n\n},{\"../../../modules/colors.js\":105}],41:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n    displayName: \"Helpers/CoverSelector\",\n\n    getInitialState: function() {\n        var selected = 0;\n\n        if (typeof this.props.selected == \"undefined\")\n          selected = -1;\n        else\n          selected = this.props.selected;\n\n        return {\n            items: this.props.items || [],\n            selected: selected\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n      var selected = 0;\n\n      if (typeof nextProps.selected == \"undefined\")\n        selected = -1;\n      else\n        selected = nextProps.selected;\n\n      if (this.isMounted()) this.setState({items: nextProps.items, selected: selected});\n    },\n\n    handleSelect: function(e) {\n        e.preventDefault();\n        var sel = parseInt(e.target.getAttribute(\"data-index\"));\n        if (this.isMounted()) this.setState({selected: sel});\n        this.props.onSelect(sel);\n    },\n\n    render: function() {\n        var _this = this;\n        var items = this.state.items.map(function(item,index){\n            var className = \"item\";\n            if (parseInt(_this.state.selected)==parseInt(index))\n                className+=\" active\";\n            if (item==\"\")\n                className+=\" blank\";\n\n            if (_this.props.thumbs) {\n                var i = item.indexOf(\".jpg\");\n                if (i > 0) {\n                    item = item.substr(0, i) + \"-thumb\" + item.substr(i, 1000);\n                }\n            }\n\n            var style = {backgroundImage:\"url(\"+item+\")\"};\n            if (typeof _this.props.imageSize != \"undefined\")\n                style.backgroundSize = _this.props.imageSize;\n\n            return (\n                React.createElement(\"div\", {className: className, style: style, key: \"coveritem_\"+item, id: \"coveritem_\"+index}, \n                    React.createElement(\"a\", {href: \"\", \"data-index\": index, onClick: _this.handleSelect}, React.createElement(Icon, {name: \"done\"}))\n                ));\n        });\n        \n        return (\n            React.createElement(\"div\", {className: \"cover-selector\"}, \n                items, this.props.children\n            )\n        );\n    }\n});\n\n},{}],42:[function(require,module,exports){\n/** @jsx React.DOM */\nvar colors = require('../../../modules/colors.js');\n\nmodule.exports = React.createClass({\n    displayName: \"Helpers/Favicon\",\n\n    _generate: function(props) {\n        var palette = null, show = true, cleanDomain = network.cleanDomain(props.domain);\n\n        if (props.domain||false){\n          palette = Api.getItem(\"palette_\" + props.domain) || null;\n          //show = (palette==null);\n        }\n\n        return {\n            domain: props.domain||\"\",\n            cleanDomain: cleanDomain,\n            show: show,\n            className: props.className||\"\",\n            palette: palette\n        };\n    },\n\n    getInitialState: function() {\n        return this._generate(this.props);\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState(this._generate(nextProps));\n    },\n\n    handleImgLoadError: function() {\n        if (this.isMounted()){\n          if (!this.state.domain)\n            return;\n\n          var color = colors.colorFromString(this.state.domain);\n          color = \"rgb(\"+color[0]+\",\"+color[1]+\",\"+color[2]+\")\";\n\n          Api.setItem(\"palette_\"+this.state.domain, color);\n          if (this.isMounted()) this.setState({show: false, palette: color});\n        }\n    },\n\n    shouldComponentUpdate: function(nextProps, nextState) {\n      if (this.state.show != nextState.show)\n        return true;\n\n      if (this.state.palette != nextState.palette)\n        return true;\n\n      if (this.state.domain != nextState.domain)\n        return true;\n\n      return false;\n    },\n\n    render: function() {\n        if (!this.state.domain){\n            return React.createElement(\"div\", {className: this.state.className+\" default-favicon\"}, React.createElement(\"span\", null));\n        }\n        else if ((this.state.show)||(this.state.palette==null)) {\n            return React.createElement(\"img\", {className: this.state.className, src: network.favIcon(this.state.cleanDomain), onError: this.handleImgLoadError, alt: \"\"});\n        }else{\n            return React.createElement(\"div\", {className: this.state.className+\" default-favicon\", style: {color:\"white\",backgroundColor:this.state.palette}}, React.createElement(\"span\", null, (this.state.cleanDomain||\"&\").substr(0,1)));\n        }\n    }\n});\n\n},{\"../../../modules/colors.js\":105}],43:[function(require,module,exports){\nmodule.exports = React.createClass({\n\tdisplayName: \"Helpers/FileLimit\",\n\trender: function() {\n\t\tvar used = 0, size = 1, proLine = null;\n\t\ttry{\n\t\t\tused = UserStore.getUser().files.used;\n\t\t\tsize = UserStore.getUser().files.size;\n\t\t}catch(e){}\n\n\t\tif (!UserStore.isPro())\n\t\t\tproLine = (React.createElement(\"div\", null, \n\t\t\t\t\"Whant more? \", React.createElement(\"a\", {href: consts.proPage, target: \"_blank\"}, \"Try PRO plan\"), \" with 1 GB of new uploads each month.\"\n\t\t\t));\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"file-limit-widget\", style: this.props.style}, \n\t\t\t\tReact.createElement(\"strong\", null, strings.humanFileSize(used,true)), \" of \", React.createElement(\"strong\", null, strings.humanFileSize(size,true)), \" in this month.\", \n\t\t\t\tproLine, \n\t\t\t\tReact.createElement(\"progress\", {max: size, value: used})\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],44:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Icon\",\n\n  shouldComponentUpdate: function(nextProps) {\n    if (this.props.name != nextProps.name)\n      return true;\n\n    if (this.props.size != nextProps.size)\n      return true;\n\n    if (this.props.style != nextProps.style)\n      return true;\n\n    return false;\n  },\n\n  render: function() {\n      var fullName = this.props.name+(this.props.size ? \"-\"+this.props.size : \"\");\n      var useTag = '<use xlink:href=\"#'+fullName+'\" />',\n          className = \"icn\"+(this.props.size ? \" icn-\"+this.props.size : \"\");\n\n      if (this.props.className)\n        className += \" \"+this.props.className;\n\n      return (\n          React.createElement(\"svg\", {key: \"icon_\"+fullName, className: className, \"data-name\": this.props.name, style: this.props.style||null, dangerouslySetInnerHTML: {__html: useTag}})\n      );\n  }\n});\n\n},{}],45:[function(require,module,exports){\n/** @jsx React.DOM */\nvar UserActions = require('../../../actions/User');\n\nvar onboardSVG = {};\nonboardSVG.bookmarks = require('../../images/onboard/bookmarks.svg');\n/*onboardSVG.clipper = require('../../images/onboard/clipper.svg');\nonboardSVG.sharing = require('../../images/onboard/sharing.svg');\nonboardSVG.start = require('../../images/onboard/start.svg');*/\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Onboard\",\n\n  componentDidMount: function() {\n    this._renderImage();\n  },\n\n  componentDidUpdate: function() {\n    this._renderImage();\n  },\n\n  _renderImage: function() {\n    var _this = this;\n    React.findDOMNode(_this.refs.svg).innerHTML = \"\";\n    //Api.getText('images/onboard/'+this.props.scenario+'.svg', function(svg){\n      React.findDOMNode(_this.refs.svg).innerHTML = onboardSVG[this.props.scenario];\n    //});\n  },\n\n  handleSignIn: function(e) {\n    e.preventDefault();\n\n    UserActions.signIn(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleSignUp: function(e) {\n    e.preventDefault();\n\n    UserActions.signUp(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  render: function() {\n    var content = null;\n    var className = \"onboard onboard-\"+this.props.scenario;\n\n    switch(this.props.scenario) {\n      case \"start\":\n        var welcomeText = \"Welcome to your new home page! Now all your favorite sites and bookmarks here.\";\n        if (window.environment)\n          welcomeText = React.createElement(\"div\", null, t.s(\"welcome\"), \" Raindrop.io\", React.createElement(\"div\", {className: \"external\"}, t.s(\"appDesc\")));\n\n        content = (\n          React.createElement(\"div\", {className: \"about about-blue\"}, \n            React.createElement(\"div\", {className: \"icon\"}, \n              React.createElement(Icon, {name: \"tab\", size: \"big\"})\n            ), \n\n            React.createElement(\"div\", {className: \"text\"}, \n              welcomeText\n            )\n          )\n        );\n      break;\n\n      case \"clipper\":\n        content = (\n          React.createElement(\"div\", {className: \"about about-green\"}, \n            React.createElement(\"div\", {className: \"icon\"}, \n              React.createElement(Icon, {name: \"storm\", size: \"big\"})\n            ), \n\n            React.createElement(\"div\", {className: \"text\"}, \n              React.createElement(\"strong\", null, \"Web Clipper\"), \"  \", t.s(\"extensionDescription\"), \n\n              React.createElement(\"div\", {className: \"external\"}, \n                t.s(\"browserExtensionD\")\n              )\n            )\n          )\n        );\n      break;\n\n      case \"sharing\":\n        content = (\n          React.createElement(\"div\", {className: \"about about-red\"}, \n            React.createElement(\"div\", {className: \"icon\"}, \n              React.createElement(Icon, {name: \"group\", size: \"big\"})\n            ), \n\n            React.createElement(\"div\", {className: \"text\"}, \n              \"Share bookmarks and collaborate with friends and colleagues.\"\n            )\n          )\n        );\n      break;\n\n      case \"bookmarks\":\n        var actions = null;\n        if ((this.props.params||{}).actions)\n          actions = (\n            React.createElement(\"footer\", null, \n              React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSignIn}, t.s(\"signIn\")), \n              React.createElement(\"a\", {href: \"\", className: \"action-icon sign-in\", onClick: this.handleSignUp}, t.s(\"signUp\"))\n            )\n          );\n\n        content = (\n          React.createElement(\"div\", {className: \"about\"}, \n            React.createElement(\"div\", {className: \"icon\"}, \n              React.createElement(Icon, {name: \"bookmark-outline\", size: \"big\"})\n            ), \n\n            React.createElement(\"div\", {className: \"text\"}, \n              t.s(\"welcomeSlide1D\"), \" \", t.s(\"welcomeSlide1DD\"), \n              React.createElement(\"div\", {className: \"external\"}, \n                React.createElement(Icon, {name: \"external\", size: \"small\"}), \" \", React.createElement(\"a\", {href: network.fixURL(\"/welcome\"), target: \"_blank\", className: \"learn-more\"}, t.s(\"howToUse\"))\n              ), \n\n              actions\n            )\n          )\n        );\n      break;\n    }\n\n    if (this.props.className)\n      className += \" \" + this.props.className;\n\n    return (\n      React.createElement(\"div\", {className: className}, \n        React.createElement(\"div\", {className: \"image\"}, \n          React.createElement(\"div\", {id: \"image-svg\", ref: \"svg\"})\n        ), \n\n        content\n      )\n    );\n  }\n});\n\n},{\"../../../actions/User\":14,\"../../images/onboard/bookmarks.svg\":91}],46:[function(require,module,exports){\n/** @jsx React.DOM */\nvar ScrollFixMixin = require('./ScrollFixMixin.js');\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/OverflowScroll\",\n\n  mixins: [ScrollFixMixin],\n\n    getInitialState: function() {\n        return {\n            children: this.props.children\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState({children: nextProps.children});\n    },\n\n\n    render: function(){\n        var wrapClassName = \"overflow-scroll\";\n        if (this.props.className)\n            wrapClassName+=\" \"+this.props.className;\n\n        return React.createElement(\"div\", {className: wrapClassName, style: this.props.style||null, onWheel: this.handleScroll, ref: \"div\"}, this.state.children);\n    }\n});\n\n},{\"./ScrollFixMixin.js\":48}],47:[function(require,module,exports){\nmodule.exports = React.createClass({\n  displayName: \"Helpers/RenderInBody\",\n  componentDidMount: function() {\n    this.popup = document.createElement(\"div\");\n    document.body.appendChild(this.popup);\n    document.body.classList.add(this.props.name+\"-mode\");\n    document.body.classList.add(this.props.name+\"-mode-\"+this.props.category);\n    this._renderLayer();\n  },\n\n\n  componentDidUpdate: function() {\n    this._renderLayer();\n  },\n\n\n  componentWillUnmount: function() {\n    React.unmountComponentAtNode(this.popup);\n    document.body.removeChild(this.popup);\n    document.body.classList.remove(this.props.name+\"-mode\");\n    document.body.classList.remove(this.props.name+\"-mode-\"+this.props.category);\n  },\n\n\n  _renderLayer: function() {\n    React.render(this.props.children, this.popup);\n  },\n  \n  render: function() {\n    // Render a placeholder\n    return React.createElement(\"div\", null);\n  }\n});\n\n},{}],48:[function(require,module,exports){\nmodule.exports = {\n\thandleScroll: function(e, callback) {\n\t\t//firefox hack\n        if ('MozAppearance' in document.documentElement.style){\n            return;\n        }\n        else{\n            var d, dir, stop, div = React.findDOMNode(this.refs.div);\n\n            if (typeof window.getComputedStyle != \"function\")\n                return;\n\n            if (window.getComputedStyle(div,null) == null)\n                return;\n\n            if ((window.getComputedStyle(div,null).getPropertyValue('overflow-y') != \"auto\")&&\n                (window.getComputedStyle(div,null).getPropertyValue('overflow-y') != \"overlay\")&&\n                (window.getComputedStyle(div,null).getPropertyValue('overflow-y') != \"scroll\"))\n                return;\n\n            //if (div.style.overflow==\"\") return;\n            d = e.nativeEvent.wheelDelta || -e.nativeEvent.detail;\n            dir = (d > 0 ? \"up\" : \"down\");\n\n            stop = (dir === \"up\" && div.scrollTop === 0) || (dir === \"down\" && div.scrollTop === div.scrollHeight - div.offsetHeight);\n\n            if ((stop)&&(typeof callback == \"function\"))\n                callback(true);\n            \n            stop && e.preventDefault();\n\n            return;\n        }\n\t}\n}\n\n},{}],49:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Select\",\n\n    getInitialState: function() {\n        return {\n            items: this.props.items || [],\n            selected: this.props.selected || -1,\n            disabled: this.props.disabled || false\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState({\n            items: nextProps.items,\n            selected: nextProps.selected,\n            disabled: nextProps.disabled || false\n        });\n    },\n\n    handleChange: function(e) {\n        var selected = e.target.options[e.target.selectedIndex].value;\n        if (this.isMounted()) this.setState({selected: selected});\n        this.props.handleChange(selected, this.props);\n    },\n\n    render: function() {\n        var _this = this;\n        var items = null, title = this.props.placeholder || \"\";\n        items = this.state.items.map(function(item,index){\n            if ((item.key == _this.state.selected)&&(title==\"\"))\n                title = item.value;\n            return React.createElement(\"option\", {value: item.key, key: \"select_option_\"+item.key}, item.value)\n        });\n\n        var select = null, arrowIcon = null;\n        if (!this.state.disabled) {\n            select = React.createElement(\"select\", {onChange: this.handleChange, defaultValue: _this.state.selected}, items);\n            if (this.props.arrowIcon)\n                arrowIcon = React.createElement(Icon, {name: \"arrow-down\", size: \"small\"});\n        }\n\n        return (\n            React.createElement(\"label\", {className: \"mini-select\"}, \n                React.createElement(\"span\", {className: \"child\"}, this.props.children), \n                React.createElement(\"span\", {className: \"title\"}, this.props.disableTitle ? null : React.createElement(\"span\", {className: \"title-text\"}, title), \" \", arrowIcon), \n                select\n            )\n        );\n    }\n});\n\n},{}],50:[function(require,module,exports){\nmodule.exports = {\n  handleSelectFilter: function(options, filter, currentValues) {\n    var exclude = currentValues.map(function(i) {\n      return i;\n    });\n\n    var filterOption = function(op) {\n      if (exclude.indexOf(op.value) > -1) return false;\n      return (op.value.indexOf(filter)!=-1);\n    };\n    var clean = (options || []).filter(filterOption, this);\n    if (filter.trim()!=\"\")\n      clean.unshift({value: filter, label: filter});\n\n    return clean;\n  },\n\n  handleSelectFocus: function() {\n    document.body.classList.add('selectize-overflow-visible');\n  },\n\n  handleSelectBlur: function() {\n    setTimeout(function(){\n      document.body.classList.remove('selectize-overflow-visible');\n    },50)\n    \n  }\n};\n\n},{}],51:[function(require,module,exports){\n/** @jsx React.DOM */\nvar BookmarksStore = require('../../../stores/Bookmarks');\nvar CollectionsStore = require('../../../stores/Collections');\nvar ChildrensStore = require('../../../stores/Childrens');\nvar ParentsStore = require('../../../stores/Parents');\nvar UserActions = require('../../../actions/User');\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\nvar StatsStore = require('../../../stores/Stats');\n\nvar _configPrefix = \"web_tip_\";\n\nvar handleClipperClick = function(e) {\n  if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n  {\n    e.preventDefault();\n    e.stopPropagation();\n    BrowserBridge.openURL(e.target.href);\n  }\n}\n\nvar _scenarios = [];\nvar os = \"Win\";\nif (strings.getCurrentBrowser().indexOf(\"MacOS\")!=-1)\n  os = \"Mac\";\n\nvar initScenarios = function() {\n  _scenarios = [\n    {\n      name: \"need_login\",\n      color: \"light\",\n      title: t.s(\"welcome\") + \" Raindrop.io\" /*t.s(\"welcomeSlide1D\") + \" \" + t.s(\"welcomeSlide1DD\")*/,\n      text: React.createElement(\"div\", null, t.s(\"welcomeSlide1D\") + \" \" + t.s(\"welcomeSlide1DD\")),\n      actions: function(component) {\n        return (\n          React.createElement(\"div\", null, \n            /*<a href={network.fixURL(\"/welcome\")} className=\"action-icon not-main\">{t.s(\"howToUse\")}</a>*/\n            React.createElement(\"a\", {href: \"\", className: \"action-icon not-main\", onClick: component.handleSignIn}, t.s(\"signIn\")), \n            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: component.handleSignUp}, t.s(\"signUp\"))\n          )\n        )\n      },\n      check: function(scope, component) {\n        if ((!UserStore.isLoading())&&(!UserStore.isLogged())){\n          if (typeof document != \"undefined\")\n            document.body.classList.add(\"authfalse\");\n          return true;\n        }else{\n          if (typeof document != \"undefined\")\n            document.body.classList.remove(\"authfalse\");\n        }\n\n        return false;\n      }\n    },\n    \n    {\n      name: \"no_bookmarks\",\n      color: \"light\",\n      title: t.s(\"collectionEmpty\"),\n      text: null,//Click to <b>plus</b> or <a href={network.settingsURL()+\"/import\"} target=\"_blank\"  onClick={handleClipperClick}>import your exists bookmarks</a>. <span className=\"clipper-hide\">You can also use our <a href={network.settingsURL()+\"/install\"} target=\"_blank\">Web Clipper</a>.</span>\n      actions: function(component) {\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n          return null;\n\n        return (React.createElement(\"div\", null, \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", id: \"tip-handleAddBookmark\", onClick: component.handleAddBookmark}, t.s(\"add\"))\n        ));\n      },\n      check: function(scope, component) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        var isSearch = false;\n\n        if ((CollectionsStore.getCurrentId()<-2)/*||\n            (CollectionsStore.getCurrentId()==0)*/)\n          isSearch = true;\n\n        try{if (component.context.router.getCurrentParams().search)\n          isSearch = true;}catch(e){}\n\n        if (isSearch)\n          return false;\n\n        if ((!BookmarksStore.getIsLoading())&&(!ChildrensStore.getIsLoading()))\n          if ((BookmarksStore.getCount()==0)&&(ChildrensStore.getCount()==0)&&(BookmarksStore.getIsNoMore()))\n            return true;\n\n        return false;\n      }\n    },\n\n    /*{\n      name: \"go_to_pro\",\n      color: \"light\",\n      title: t.s(\"footerProAd\")+\" \"+t.s(\"footerProAdD\"),\n      text: <div>{t.s(\"pro_nesting\")}, {t.s(\"pro_dropbox\").toLowerCase()}, {t.s(\"pro_support\").toLowerCase()} {t.s(\"und\").toLowerCase()} {t.s(\"more\").toLowerCase()}...</div>,\n      actions: function(component) {\n        var _target = \"_self\";\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n            _target = \"_blank\";\n        }\n\n        if ((window.environment||[]).indexOf(\"mac\")==-1)\n          return (<div>\n            <a href={network.settingsURL()+\"/pro\"} target={_target} className=\"action-icon\" onClick={handleClipperClick}>{t.s(\"goToPRO\")}</a>\n          </div>);\n        else\n          return null;\n      },\n      check: function(scope) {\n        if (\n          (StatsStore.getAllCount()>15)\n          &&(!UserStore.isPro())\n          &&((_scenarios[1].showed||0)<=3)\n          &&(parseInt(Api.getItem(\"openCount\")||0)%10 == 0)\n        ){\n          return true;\n        }\n\n        return false;\n      }\n    },*/\n\n    {\n      name: \"not_found\",\n      color: \"light\",\n      title: t.s(\"nothingFound\"),\n      text: null,\n      actions: function(component) {\n        return null;\n      },\n      check: function(scope, component) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        var isSearch = false;\n        if (CollectionsStore.getCurrentId()==0)\n          isSearch = true;\n\n        try{if (component.context.router.getCurrentParams().search) isSearch = true;}catch(e){}\n\n        if (!isSearch)\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if ((BookmarksStore.getCount()==0)&&(BookmarksStore.getIsNoMore()))\n            return true;\n\n        return false;\n      },\n    },\n\n    {\n      name: \"hotkey\",\n      title: t.s(\"helpHotKey\") + (strings.getCurrentBrowser().indexOf(\"opera\")==-1 ? \" (\"+(os == \"Mac\" ? \"Command\" : \"Ctrl\")+\"+E)\" : \"\"),\n      text: React.createElement(\"div\", null, \"Bind it on extensions settings. Also you can save page or image from context menu.\"),\n      closable: true,\n      actions: function(component) {\n        var link = \"chrome://extensions/configureCommands\";\n        if (strings.getCurrentBrowser().indexOf(\"opera\")!=-1)\n          link = \"chrome://settings/configureCommands\";\n        return React.createElement(\"div\", null, React.createElement(\"a\", {href: link, className: \"action-icon\", onClick: component.handleChromeHotKeys}, t.s(\"settings\")))\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (((window.environment||[]).indexOf(\"clipper\")!=-1)&&(strings.getCurrentBrowser().indexOf(\"chrome\")!=-1))\n            return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"change_view\",\n      title: \"Change collection icon and view\",\n      text: React.createElement(\"div\", null, \"Make collection beautiful  change icon and choose the right view (grid, list, magazine or simple)\"),\n      closable: true,\n      actions: function(component) {\n        return React.createElement(\"div\", null, React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: component.handleIconCollection}, t.s(\"changeIcon\")))\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (CollectionsStore.getCurrentId()<=0)\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if (BookmarksStore.getCount()>=3)\n            return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"collaborate\",\n      title: \"Share collection and collaborate\",\n      text: React.createElement(\"div\", null, \"Share URL or invite more members and edit collection together.\"),\n      closable: true,\n      actions: function(component) {\n        return React.createElement(\"div\", null, React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: component.handleSharingCollection}, t.s(\"sharing\")))\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (CollectionsStore.getCurrentId()<=0)\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if (BookmarksStore.getCount()>=5)\n            return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"nested_collection\",\n      //color: \"green\",\n      title: t.s(\"createSubFolder\"),\n      text: React.createElement(\"div\", null, \"You have many bookmarks. Maybe you need create nested collections?\"),\n      closable: true,\n      actions: function(component) {\n        return React.createElement(\"div\", null, React.createElement(\"a\", {href: \"\", className: \"action-icon\", id: \"tip-handleAddFolder\", onClick: component.handleAddFolder}, t.s(\"create\")))\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (CollectionsStore.getCurrentId()<=0)\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if (BookmarksStore.getCount()>=10)\n            return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"batch_edit\",\n      title: \"Batch edit\",\n      text: React.createElement(\"div\", null, \"Check some bookmarks for actions (You can use Shift or Command/Ctrl key with click for selection).\"),\n      closable: true,\n      actions: function() {\n        return null;\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if (BookmarksStore.getCount()>=10)\n            return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"create_collection\",\n      color: \"blue\",\n      title: t.s(\"createFirstCollection\"),\n      text: React.createElement(\"div\", null, \"Create collection for each of your interest.\"),\n      actions: function(component) {\n        return React.createElement(\"div\", null, React.createElement(\"a\", {href: \"\", className: \"action-icon\", id: \"tip-handleAddFolder\", onClick: component.handleAddFolder}, t.s(\"create\")))\n      },\n      check: function(scope, component) {\n        if (scope!=\"collections\")\n          return false;\n\n        if (!(component.props.params||{}).collectionsCount)\n          return true;\n\n        return false;\n      }\n    },\n\n    {\n      name: \"trash_empty\",\n      color: \"light\",\n      title: t.s(\"trashEmpty\"),\n      text: null,\n      actions: function(component) {\n        return null;\n      },\n      check: function(scope) {\n        if (scope!=\"bookmarks\")\n          return false;\n\n        if (CollectionsStore.getCurrentId()!=-99)\n          return false;\n\n        if (!BookmarksStore.getIsLoading())\n          if ((BookmarksStore.getCount()==0)&&(BookmarksStore.getIsNoMore()))\n            return true;\n\n        return false;\n      },\n    }\n  ]\n}\n\n/*if (document)\n    window.addEventListener(\"load\", initScenarios);*/\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Tips\",\n\n  mixins: [PureRenderMixin],\n\n  contextTypes: {\n    router: React.PropTypes.func\n  },\n\n  getInitialState: function() {\n    return {\n      scenario: \"\",\n      force: false\n    }\n  },\n\n  onStoresChanged: function() {\n    var s = \"\";\n\n    if (!UserStore.isLoading()){\n      if (this.props.force){\n        var index = _.findIndex(_scenarios, {name: this.props.force});\n        if (index!=-1)\n          s = _scenarios[index].name;\n      }\n      else\n        for(var i in _scenarios){\n          if ((_scenarios[i].check(this.props.scope,this))&&(! ((UserStore.getUser()||{}).config||{}) [_configPrefix+_scenarios[i].name])) {\n            s = _scenarios[i].name;\n            break;\n          }\n        }\n    }\n\n    if (this.isMounted()) this.setState({scenario: s});\n  },\n\n  componentDidMount: function() {\n    this.onStoresChanged();\n\n    this.unsubscribeBookmarks = BookmarksStore.listen(this.onStoresChanged);\n    this.unsubscribeCollections = CollectionsStore.listen(this.onStoresChanged);\n    this.unsubscribeChildrens = ChildrensStore.listen(this.onStoresChanged);\n    this.unsubscribeParents = ParentsStore.listen(this.onStoresChanged);\n    this.unsubscribeUser = UserStore.listen(this.onStoresChanged);\n  },\n\n  componentWillUnmount: function() {\n    this.unsubscribeBookmarks();\n    this.unsubscribeCollections();\n    this.unsubscribeChildrens();\n    this.unsubscribeParents();\n    this.unsubscribeUser();\n  },\n\n  /*shouldComponentUpdate: function(nextProps, nextState) {\n    if (this.state.scenario != nextState.scenario)\n      return true;\n\n    if (this.props.force != (nextProps.force||false))\n      return true;\n\n    return false;\n  },*/\n\n  handleEditCollection: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"collection\", {\n      id: CollectionsStore.getCurrentId()\n    });\n  },\n\n  handleSharingCollection: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"collection\", {\n      id: CollectionsStore.getCurrentId(),\n      step: \"sharing\"\n    });\n  },\n\n  handleIconCollection: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"collection\", {\n      id: CollectionsStore.getCurrentId(),\n      step: \"icon\"\n    });\n  },\n\n  handleAddFolder: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"collection\", {\n      parentId: CollectionsStore.getCurrentId(),\n      pin: \"tip-handleAddFolder\"\n    });\n  },\n\n  handleAddBookmark: function(e) {\n    e.preventDefault();\n    Pop.show(\"URL\", {\n      parentId: CollectionsStore.getCurrentId(),\n      pin: \"fabAppButton\"\n    });\n  },\n\n  handleCloseTip: function(e) {\n    e.preventDefault();\n    if (e.target){\n      var index = parseInt(e.target.getAttribute(\"data-index\"));\n\n      UserStore.saveConfig({notify: true, name: _configPrefix+_scenarios[index].name});\n    }\n  },\n\n  handleSignIn: function(e) {\n    e.preventDefault();\n\n    UserActions.signIn(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleSignUp: function(e) {\n    e.preventDefault();\n\n    UserActions.signUp(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleChromeHotKeys: function(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (strings.getCurrentBrowser().indexOf(\"opera\")==-1)\n      BrowserBridge.openURL(\"chrome://extensions/configureCommands\");\n  },\n\n  render: function() {\n    if (_scenarios.length==0)\n      initScenarios();\n\n    var scenario = null, index = _.findIndex(_scenarios, {name: this.state.scenario});\n    if (index!=-1)\n      scenario = (_scenarios||[])[index]||null;\n\n    if (scenario!=null){\n      var close = null;\n      if (scenario.closable)\n        close = React.createElement(\"div\", {className: \"close\"}, React.createElement(\"a\", {href: \"\", \"data-index\": index, onClick: this.handleCloseTip}, React.createElement(Icon, {name: \"clear\"}), \" \", React.createElement(\"span\", {className: \"close-text\"}, \"OK\")));\n\n      _scenarios[index].showed = _scenarios[index].showed || 0;\n      _scenarios[index].showed++;\n      return (\n        React.createElement(\"div\", {className: \"tips\", \"data-current-tip\": scenario.name}, \n          React.createElement(\"div\", {className: \"tip tip-color-\"+(scenario.color||\"light\"), id: \"tip-\"+scenario.name}, \n            React.createElement(\"div\", {className: \"content\"}, \n              React.createElement(\"div\", {className: \"icon\"}, \n                React.createElement(\"img\", {src: (window.pathPrefix||\"\") + \"images/tips/\"+scenario.name+\".svg\", alt: \"\"})\n              ), \n\n              React.createElement(\"div\", {className: \"text\"}, \n                React.createElement(\"h3\", null, scenario.title), \n                React.createElement(\"div\", {className: \"info\"}, scenario.text)\n              ), \n\n              React.createElement(\"div\", {className: \"actions\"}, \n                scenario.actions(this)\n              ), \n\n              close\n            )\n          )\n        )\n      );\n    }\n    else\n      return null;\n  }\n});\n\n},{\"../../../actions/User\":14,\"../../../stores/Bookmarks\":113,\"../../../stores/Childrens\":114,\"../../../stores/Collections\":115,\"../../../stores/Parents\":118,\"../../../stores/Stats\":122,\"react/addons\":\"react/addons\"}],52:[function(require,module,exports){\n/** @jsx React.DOM */\nvar ModalFrameStore = require('../../stores/ModalFrame');\nvar FrameModal = require(\"./Modals/Frame\");\n\nmodule.exports = React.createClass({\n    displayName: \"ModalFrame\",\n\n    getInitialState: function() {\n        return {\n            show: false\n        }\n    },\n\n    onModalFrameChange: function(params) {\n        if (!params.url)\n            params={show:false};\n\n        this.setState(params);\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeModalFrame = ModalFrameStore.listen(this.onModalFrameChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeModalFrame();\n    },\n\n    handleFrameClose: function() {\n        this.setState({show: false});\n    },\n\n    render: function() {\n        var _this = this;\n\n        return (\n            React.createElement(\"div\", null, \n                React.createElement(Modal, {isOpened: this.state.show, onClose: this.handleFrameClose, params: this.state}, \n                    React.createElement(FrameModal, null)\n                )\n            )\n        );\n    }\n});\n\n},{\"../../stores/ModalFrame\":117,\"./Modals/Frame\":58}],53:[function(require,module,exports){\n/** @jsx React.DOM */\nvar BookmarkActions = require('../../../actions/Bookmarks');\nvar TagsActions = require('../../../actions/Tags'),\n    TagsStore = require('../../../stores/Tags');\n\nvar Selectize = require('react-select');\nvar SelectMixin = require(\"../Helpers/SelectMixin\");\n\nmodule.exports = React.createClass({\n  displayName: \"Modals/BookmarksAddTags\",\n\n  mixins: [SelectMixin, require(\"./ModalMixin\")],\n\n  getInitialState: function() {\n    return {\n      tags: [],\n      addTags: [],\n      loading: false\n    };\n  },\n\n  onTagsChange: function(tags) {\n      var clean = tags.map(function(tag){\n        return {value: tag._id, label: tag._id};\n      });\n      this.setState({\n          tags: clean\n      });\n  },\n\n  componentWillMount: function() {\n    TagsActions.load();\n  },\n\n  componentDidMount: function() {\n      this.unsubscribeTags = TagsStore.listen(this.onTagsChange);\n  },\n\n  componentWillUnmount: function() {\n      this.unsubscribeTags();\n  },\n\n  handleTagsChange: function(value) {\n    var temp = value.split(\",\");\n    if (temp[0]==\"\")\n      temp = [];\n    this.setState({addTags: temp});\n  },\n\n  handleClose: function(e) {\n    if (e)\n      e.preventDefault();\n    if (!this.state.loading)\n      this.props.closePortal();\n  },\n\n  handleSave: function(e) {\n    var _this = this;\n    e.preventDefault();\n\n    this.setState({loading: true});\n    BookmarkActions.updateSelectedBookmarks({\n      item: {\n        tags: this.state.addTags\n      },\n      silent: true,\n      append: [\"tags\"]\n    }, function(result){\n      if (result)\n        Toasts.show({text: t.s(\"saveSuccess\")});\n      else\n        Toasts.show({text: t.s(\"error\"), status: \"error\"});\n\n      _this.props.closePortal();\n    });\n  },\n\n  render: function() {\n    var loadingBlock = null;\n    if (this.state.loading)\n        loadingBlock = React.createElement(\"div\", {className: \"absoluteLoading\"}, React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null)));\n\n    return (\n        React.createElement(\"div\", {className: \"modal-dialog\"}, \n            React.createElement(\"header\", null, \n                React.createElement(\"div\", {className: \"actionBar\"}, \n                    React.createElement(\"div\", {className: \"actions\"}, \n                        React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                    ), \n                    React.createElement(\"h3\", null, t.s(\"addTags\"))\n                )\n            ), \n\n            React.createElement(\"article\", null, \n              React.createElement(\"form\", {onSubmit: this.handleSave, style: {position:\"relative\"}}, \n                  React.createElement(\"div\", {style: {visibility: (this.state.loading?\"hidden\":null)}}, \n                      React.createElement(\"div\", {className: \"form-editor\"}, \n                          React.createElement(\"div\", {className: \"oneline\"}, \n                              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"tags\"})), \n                              React.createElement(\"div\", {className: \"area\"}, \n                                  React.createElement(\"label\", null, t.s(\"tags\")), \n                                  React.createElement(Selectize, {\n                                      name: \"tags\", \n                                      value: this.state.addTags, \n                                      options: this.state.tags, \n                                      multi: true, \n                                      placeholder: t.s(\"addTags\")+\"...\", \n                                      onChange: this.handleTagsChange, \n                                      filterOptions: this.handleSelectFilter}\n                                  )\n                              )\n                          )\n                      ), \n\n                      React.createElement(\"footer\", null, \n                          React.createElement(\"div\", {className: \"actions\"}, \n                              React.createElement(\"input\", {type: \"submit\", className: \"action-icon active\", value: t.s(\"save\")})\n                          )\n                      )\n                  ), \n\n                  loadingBlock\n              )\n            )\n        )\n    );\n  }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../actions/Tags\":12,\"../../../stores/Tags\":123,\"../Helpers/SelectMixin\":50,\"./ModalMixin\":60,\"react-select\":\"react-select\"}],54:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsList = require(\"../Forms/CollectionsList\");\nvar OverflowScroll = require(\"../Helpers/OverflowScroll\");\nvar BookmarkActions = require('../../../actions/Bookmarks');\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n  mixins: [require(\"./ModalMixin\")],\n  \n  displayName: \"Modals/BookmarksCopy\",\n\n  getInitialState: function() {\n    return {\n      loading: false\n    };\n  },\n\n  handleClose: function(e) {\n    if (e)\n      e.preventDefault();\n    if (!this.state.loading)\n      this.props.closePortal();\n  },\n\n  handleChangeCollection: function(collection) {\n    var _this = this;\n    this.setState({loading:true});\n\n    BookmarkActions.copySelectedBookmarks({\n      collectionId: collection._id\n    }, function(result){\n      if (result)\n        Toasts.show({text: t.s(\"success\")});\n      else\n        Toasts.show({text: t.s(\"error\"), status: \"error\"});\n\n      _this.props.closePortal();\n    });\n  },\n\n  render: function() {\n    var content = null, wrapClassName = \"noMargin\";\n\n    if (this.state.loading){\n      wrapClassName += \" centered-content\";\n      content = (React.createElement(\"div\", null, \n        React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null))\n      ));\n    }else{\n      content = React.createElement(CollectionsList, {\n        onSelectCollection: this.handleChangeCollection});\n    }\n\n    return (\n        React.createElement(\"div\", {className: \"modal-dialog\"}, \n            React.createElement(\"header\", null, \n                React.createElement(\"div\", {className: \"actionBar\"}, \n                    React.createElement(\"div\", {className: \"actions\"}, \n                        React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                    ), \n                    React.createElement(\"h3\", null, t.s(\"selectCollection\"))\n                )\n            ), \n\n            React.createElement(\"article\", null, \n              React.createElement(OverflowScroll, {className: wrapClassName, style: {height: \"400px\"}}, \n                content\n              )\n            )\n        )\n    );\n  }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../stores/Collections\":115,\"../Forms/CollectionsList\":36,\"../Helpers/OverflowScroll\":46,\"./ModalMixin\":60}],55:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsList = require(\"../Forms/CollectionsList\");\nvar OverflowScroll = require(\"../Helpers/OverflowScroll\");\nvar BookmarkActions = require('../../../actions/Bookmarks');\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n  mixins: [require(\"./ModalMixin\")],\n  \n  displayName: \"Modals/BookmarksMove\",\n\n  getInitialState: function() {\n    return {\n      loading: false\n    };\n  },\n\n  handleClose: function(e) {\n    if (e)\n      e.preventDefault();\n    if (!this.state.loading)\n      this.props.closePortal();\n  },\n\n  handleChangeCollection: function(collection) {\n    var _this = this;\n    this.setState({loading:true});\n\n    BookmarkActions.updateSelectedBookmarks({\n      item: {\n        collectionId: collection._id,\n        collection: {\"$id\": collection._id},\n      },\n      showingCollectionId: parseInt(CollectionsStore.getCurrentId()),\n      silent: true\n    }, function(result){\n      if (result)\n        Toasts.show({text: t.s(\"moveSuccess\")});\n      else\n        Toasts.show({text: t.s(\"moveError\"), status: \"error\"});\n\n      _this.props.closePortal();\n    });\n  },\n\n  render: function() {\n    var content = null, wrapClassName = \"noMargin\";\n\n    if (this.state.loading){\n      wrapClassName += \" centered-content\";\n      content = (React.createElement(\"div\", null, \n        React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null))\n      ));\n    }else{\n      content = React.createElement(CollectionsList, {\n        onSelectCollection: this.handleChangeCollection});\n    }\n\n    return (\n        React.createElement(\"div\", {className: \"modal-dialog\"}, \n            React.createElement(\"header\", null, \n                React.createElement(\"div\", {className: \"actionBar\"}, \n                    React.createElement(\"div\", {className: \"actions\"}, \n                        React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                    ), \n                    React.createElement(\"h3\", null, t.s(\"moveSelectedBookmarks\"))\n                )\n            ), \n\n            React.createElement(\"article\", null, \n              React.createElement(OverflowScroll, {className: wrapClassName, style: {height: \"400px\"}}, \n                content\n              )\n            )\n        )\n    );\n  }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../stores/Collections\":115,\"../Forms/CollectionsList\":36,\"../Helpers/OverflowScroll\":46,\"./ModalMixin\":60}],56:[function(require,module,exports){\n/** @jsx React.DOM */\nvar OverflowScroll = require(\"../Helpers/OverflowScroll\");\nvar BookmarkActions = require('../../../actions/Bookmarks');\n\nmodule.exports = React.createClass({\n  displayName: \"Modals/BookmarksRemove\",\n\n  handleClose: function(e) {\n    if (e)\n      e.preventDefault();\n    if (!this.state.loading)\n      this.props.closePortal();\n  },\n\n  componentDidMount: function() {\n    var _this = this;\n\n    BookmarkActions.removeSelectedBookmarks({\n      silent: true\n    },\n    function(result, perm){\n      if (result)\n        Toasts.show({text: t.s(\"bookmarksRemoved\"+perm)});\n      else\n        Toasts.show({text: t.s(\"error\"), status: \"error\"});\n\n      _this.props.closePortal();\n    });\n  },\n\n  render: function() {\n    return (\n        React.createElement(\"div\", {className: \"modal-dialog\"}, \n            React.createElement(\"header\", null, \n                React.createElement(\"div\", {className: \"actionBar\"}, \n                    React.createElement(\"h3\", null, t.s(\"remove\"))\n                )\n            ), \n\n            React.createElement(\"article\", null, \n              React.createElement(OverflowScroll, {className: \"noMargin centered-content\", style: {height: \"400px\"}}, \n                  React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null))\n              )\n            )\n        )\n    );\n  }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../Helpers/OverflowScroll\":46}],57:[function(require,module,exports){\nvar _styles = [\"grid\",\"list\",\"masonry\",\"simple\"];\n\nmodule.exports = React.createClass({\n    mixins: [require(\"./ModalMixin\")],\n\n    displayName: \"Modals/CollectionView\",\n\n    getInitialState: function() {\n        return {\n            view: this.props.view\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({\n            view: nextProps.view\n        });\n    },\n\n    handleClose: function(e) {\n        if (e)\n            e.preventDefault();\n        this.props.closePortal();\n    },\n\n    handleChangeView: function(e) {\n        e.preventDefault();\n        var view = e.target.getAttribute(\"data-view\");\n        this.setState({view: view});\n        this.props.onChangeView(view);\n        this.props.closePortal();\n    },\n\n    handleCover: function() {\n        UserStore.saveConfig({notify: true, name: \"view_cover_disable\", remove: UserStore.getConfig(\"view_cover_disable\")});\n        this.setState({view: this.state.view});\n    },\n\n    handleInvertPosition: function() {\n        UserStore.saveConfig({notify: true, name: \"view_cover_invert_position\", remove: UserStore.getConfig(\"view_cover_invert_position\")});\n        this.setState({view: this.state.view});\n    },\n\n    handleRefresh: function() {\n        window.location.reload();\n    },\n\n    render: function() {\n        var _this = this;\n\n        var styles = _styles.map(function(item,index){\n            return React.createElement(\"a\", {href: \"\", key: \"style_\"+item, className: item==_this.state.view ? \"active\" : \"\", \"data-view\": item, onClick: _this.handleChangeView}, React.createElement(\"img\", {src: (window.pathPrefix||\"\") + \"images/views/\" + item + \".svg\", style: {width:\"80px\",height:\"80px\"}}))\n        });\n\n        /*\n        <div className=\"oneline\" style={{margin:\"0\"}}>\n                            <div className=\"icon\"><Icon name=\"select-all\" /></div>\n                            <div className=\"area\">\n                                <div className=\"checkbox-wrap\" onClick={this.handleCover}>\n                                    <div>Make default for all collections</div>\n                                    <div className={\"extra-checkbox\"+(UserStore.getConfig(\"default_view\")==this.state.view?\" active\":\"\")}></div>\n                                </div>\n                            </div>\n                        </div>\n        */\n\n        return (\n            React.createElement(\"div\", {className: \"modal-dialog\"}, React.createElement(\"div\", {className: \"modal-dialog-wrap\"}, \n                React.createElement(\"header\", null, \n                    React.createElement(\"div\", {className: \"actionBar\"}, \n                        React.createElement(\"div\", {className: \"actions\"}, \n                            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                        ), \n                        React.createElement(\"h3\", null, t.s(\"view\"))\n                    )\n                ), \n\n                React.createElement(\"article\", null, \n                    React.createElement(\"div\", {className: \"img-selector\"}, \n                        styles\n                    )\n\n                    /*<br />\n                    <div className=\"form-editor\">\n                        <div className=\"section\">\n                            {t.s(\"settings\")}\n                        </div>\n                        \n\n                        <div className=\"oneline\" style={{margin:\"0\"}}>\n                            <div className=\"icon\"><Icon name=\"visual\" /></div>\n                            <div className=\"area\">\n                                <div className=\"checkbox-wrap\" onClick={this.handleCover}>\n                                    <div>{t.s(\"cover\")}</div>\n                                    <div className={\"extra-checkbox\"+(!UserStore.getConfig(\"view_cover_disable\")?\" active\":\"\")}></div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className={\"oneline \"+(this.state.view==\"list\"?\"\":\"hidden\")} style={{margin:\"0\"}}>\n                            <div className=\"icon\"><Icon name=\"forward\" /></div>\n                            <div className=\"area\">\n                                <div className=\"checkbox-wrap\" onClick={this.handleInvertPosition}>\n                                    <div>Align cover to right corner</div>\n                                    <div className={\"extra-checkbox\"+(UserStore.getConfig(\"view_cover_invert_position\")?\" active\":\"\")}></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>*/\n                )\n\n\n                    /*<div style={{padding:\"0px 16px\",opacity:0.5,textAlign:\"right\",marginBottom:\"16px\"}}>\n                        * Refresh page for apply changes\n                    </div>*/\n\n            ))\n        );\n    }\n});\n\n},{\"./ModalMixin\":60}],58:[function(require,module,exports){\n/** @jsx React.DOM */\nmodule.exports = React.createClass({\n  mixins: [require(\"./ModalMixin\")],\n  \n  displayName: \"Modals/Frame\",\n\n  handleClose: function(e) {\n      if (e)\n          e.preventDefault();\n      if (typeof this.props.onClose == \"function\")\n        this.props.onClose();\n      this.props.closePortal();\n  },\n\n  render: function() {\n    return (\n      React.createElement(\"div\", {className: \"modal-dialog\"}, \n        React.createElement(\"header\", null, \n            React.createElement(\"div\", {className: \"actionBar\"}, \n                React.createElement(\"div\", {className: \"actions\"}, \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                ), \n                React.createElement(\"h3\", null, this.props.title)\n            )\n        ), \n\n        React.createElement(\"iframe\", {src: this.props.url, width: this.props.width, height: this.props.height, frameBorder: \"0\"})\n      )\n    );\n  }\n});\n\n},{\"./ModalMixin\":60}],59:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nvar _react = require(\"react\");\n\nvar React = _interopRequire(_react);\n\nvar findDOMNode = _react.findDOMNode;\n\nvar shallowEqual = _interopRequire(require(\"react/lib/shallowEqual\"));\n\nvar Key = _interopRequire(require(\"keymaster\"));\n\nvar materialCircleAnim = \"\";\n\nvar Portal = (function (_React$Component) {\n    function Portal() {\n        _classCallCheck(this, Portal);\n\n        _get(Object.getPrototypeOf(Portal.prototype), \"constructor\", this).call(this);\n        this.state = { active: false };\n        this.openPortal = this.openPortal.bind(this);\n        this.closePortal = this.closePortal.bind(this);\n        this.handleOutsideMouseClick = this.handleOutsideMouseClick.bind(this);\n        this.portal = null;\n        this.node = null;\n    }\n\n    _inherits(Portal, _React$Component);\n\n    _createClass(Portal, {\n        componentDidMount: {\n            value: function componentDidMount() {\n                var _this = this;\n\n                if (this.props.closeOnEsc) {\n                    Key(\"esc\", function () {\n                        _this.closePortal();\n                    });\n                }\n\n                if (this.props.closeOnOutsideClick) {\n                    document.addEventListener(\"mousedown\", this.handleOutsideMouseClick);\n                }\n            }\n        },\n        componentWillMount: {\n            value: function componentWillMount() {\n                if (this.props.isOpened) {\n                    this.openPortal();\n                }\n            }\n        },\n        componentWillReceiveProps: {\n            value: function componentWillReceiveProps(newProps) {\n                this.props = newProps;\n                if (newProps.isOpened === undefined) {\n                    if (!this.state.active) {\n                        return;\n                    }this.renderPortal(newProps);\n                } else {\n                    if (newProps.isOpened) {\n                        if ((this.state.active)&&(!newProps.forceUpdated)) {\n                            return;\n                        }this.openPortal();\n                    } else {\n                        if (!this.state.active) {\n                            return;\n                        }this.closePortal();\n                    }\n                }\n            }\n        },\n        componentWillUnmount: {\n            value: function componentWillUnmount() {\n                if (this.props.closeOnEsc) {\n                    Key.unbind(\"esc\");\n                }\n\n                if (this.props.closeOnOutsideClick) {\n                    document.removeEventListener(\"mousedown\", this.handleOutsideMouseClick);\n                }\n\n                this.closePortal();\n            }\n        },\n        shouldComponentUpdate: {\n            value: function shouldComponentUpdate(nextProps, nextState) {\n                return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n            }\n        },\n        renderPortal: {\n            value: function renderPortal(props, alreadyOpened) {\n                if (!this.node) {\n                    this.node = document.createElement(\"div\");\n                    if (props.pinTo) props.position = \"none\";\n                    this.node.className = \"overlay overlay-\"+(props.position||\"\");\n                    document.body.appendChild(this.node);\n                }\n\n                var params = props.params || {};\n                params.closePortal = this.closePortal;\n\n                var animElem = document.getElementById(\"modal-anim-style\");\n                if (animElem) document.body.removeChild(animElem);\n\n                //if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n                    alreadyOpened = true;\n\n                this.portal = React.render(React.cloneElement(props.children, params), this.node, function(){\n                    if ((props.pinTo)&&((window.environment||[]).indexOf(\"clipper\")==-1)) {\n                        var div = document.getElementById(props.pinTo);\n                        var rect = div.getBoundingClientRect();\n                        var modalDiv = document.getElementsByClassName(\"modal-dialog\")[0];\n                        var modalSize = {\n                            w: modalDiv.offsetWidth, h: modalDiv.offsetHeight\n                        }\n                        var newPos = {\n                            left: (rect.left||0), top: (rect.top||0)\n                        }\n                        if (newPos.left+modalSize.w > window.innerWidth)\n                            newPos.left = (window.innerWidth-modalSize.w)-20;\n\n                        if (newPos.left<0)\n                            newPos.left = 20;\n\n                        if (newPos.top+modalSize.h > window.innerHeight)\n                            newPos.top = (window.innerHeight-modalSize.h)-20;\n\n                        if (newPos.top<0)\n                            newPos.top = 20;\n\n                        modalDiv.style.left = newPos.left+\"px\";\n                        modalDiv.style.top = newPos.top+\"px\";\n                    }\n\n                    if (!alreadyOpened){\n                        //anim\n                        var d={x: 0, y: 0, w: 430, h: 430, offsetX: 0, offsetY: 0};\n                        window.mousePos = window.mousePos || {x: parseInt(window.innerWidth/2), y: parseInt(window.innerHeight/2)};\n\n                        try{\n                            d.w = document.getElementsByClassName(\"modal-dialog\")[0].offsetWidth;\n                            d.h = document.getElementsByClassName(\"modal-dialog\")[0].offsetHeight;\n                        }catch(e){}\n\n                        switch(props.position){\n                            case \"left-top\":\n                                mousePos.x += consts.modalMargin;\n                                d.x = consts.modalMargin;\n                                d.y = consts.modalMargin;\n                                break;\n                            case \"right-top\":\n                                mousePos.x += consts.modalMargin;\n                                d.x = window.innerWidth - d.w;\n                                d.y = consts.modalMargin;\n                                break;\n                            case \"right-bottom\":\n                                mousePos.x += consts.modalMargin; mousePos.y += consts.modalMargin;\n                                d.x = window.innerWidth - d.w;\n                                d.y = window.innerHeight - d.h;\n                                break;\n                            default:\n                                //center\n                                d.x = parseInt((window.innerWidth - d.w)/2);\n                                d.y = parseInt((window.innerHeight - d.h)/2);\n                                break;\n                        }\n\n                        d.offsetX = mousePos.x - d.x;\n                        if (mousePos.x < d.x) {\n                            d.x = 0;\n                        }\n                        else {\n                            d.x = parseInt((100 / d.w) * (mousePos.x - d.x));\n                            d.offsetX = d.offsetX - d.w;\n                        }\n\n                        d.offsetY = mousePos.y - d.y;\n                        if (mousePos.y < d.y) {\n                            d.y = 0;\n                        }\n                        else {\n                            d.y = parseInt((100 / d.h) * (mousePos.y - d.y));\n                            d.offsetY = d.offsetY - d.h;\n                        }\n\n                        d.x = (d.x>100 ? 100 : d.x) + \"%\";\n                        d.y = (d.y>100 ? 100 : d.y) + \"%\";\n                        d.start = \"clip-path: circle(0px at \"+d.x+\" \"+d.y+\"); \";\n                        d.start1 = \"shape-inside: circle(0px at \"+d.x+\" \"+d.y+\"); \";\n                        d.start2 = \"\";\n\n                        var transform = \"\";\n                        /*if ((d.x==\"0%\")||(d.x==\"100%\"))\n                            transform += \"translateX(\"+d.offsetX+\"px) \";\n                        if ((d.y==\"0%\")||(d.y==\"100%\"))\n                            transform += \"translateY(\"+d.offsetY+\"px); \";*/\n                        if (transform!=\"\")\n                            d.start2 += \"transform: \"+transform;\n\n                        d.end = \"clip-path: circle(\"+(d.w>d.h?d.w:d.h)+\"px at 50% 50%); \";\n                        d.end1 = \"shape-inside: circle(\"+(d.w>d.h?d.w:d.h)+\"px at 50% 50%); \";\n                        //d.end2 = \"transform: translateX(0) translateY(0); \";\n\n                        animElem = document.createElement(\"style\");\n                        animElem.id = \"modal-anim-style\";\n\n                        var aStates=[\"Show\",\"Close\"], aPrefixes=[\"-webkit-\",\"-moz-\",\"-o-\"], style=\"\";\n                        aStates.forEach(function(state){\n                            aPrefixes.forEach(function(pref){\n                                var p1 = 0, p2=100;\n                                if (state==\"Close\") {\n                                    p1 = 100;\n                                    p2 = 0;\n                                }\n                                style+=\"/* \"+state+\" \"+pref+\" */ @\"+pref+\"keyframes modal\"+state+\" {\"+p1+\"% {\"+pref+d.start+pref+d.start1+pref+d.start2+\"} \"+p2+\"% {\"+pref+d.end+pref+d.end1+pref+d.end2+\"}}  \";\n                            });\n                        })\n                        animElem.innerText = style;\n                        document.body.appendChild(animElem);\n                    }\n                });\n            }\n        },\n        render: {\n            value: function render() {\n                if (this.props.openByClickOn) {\n                    return React.createElement(\n                        \"div\",\n                        { onClick: this.openPortal, className: \"openByClickOn\" },\n                        this.props.openByClickOn\n                    );\n                } else {\n                    return null;\n                }\n            }\n        },\n        openPortal: {\n            value: function openPortal(e) {\n                if (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                var alreadyOpened = this.state.active;\n                this.setState({ active: true });\n                this.renderPortal(this.props, alreadyOpened);\n\n                try{\n                    if (document.body.scrollHeight>window.innerHeight){\n                        var elem = document.querySelector(\"#app-background\");\n                        if (elem) document.body.style.paddingRight = (window.innerWidth - elem.offsetWidth)+\"px\";\n                    }\n                }catch(e){}\n                document.body.classList.add(\"modal-mode\");\n            }\n        },\n        closePortal: {\n            value: function closePortal() {\n                var _this = this;\n                setTimeout(function() {\n                    if (_this.node) {\n                        React.unmountComponentAtNode(_this.node);\n                        document.body.removeChild(_this.node);\n                    }\n                    _this.portal = null;\n                    _this.node = null;\n                    _this.setState({active: false});\n\n                    document.body.classList.remove(\"modal-now-closing\");\n\n                    if (typeof _this.props.onClose != 'undefined') \n                        _this.props.onClose();\n                },190);\n\n                if (_this.node){\n                    document.body.style.paddingRight=0;\n                    document.body.classList.remove(\"modal-mode\");\n                    document.body.classList.add(\"modal-now-closing\");\n                }\n            }\n        },\n        handleOutsideMouseClick: {\n            value: function handleOutsideMouseClick(e) {\n                if (!this.state.active) {\n                    return;\n                }\n                if (isNodeInRoot(e.target, findDOMNode(this.portal))) {\n                    return;\n                }\n                e.stopPropagation();\n                this.closePortal();\n            }\n        }\n    });\n\n    return Portal;\n})(React.Component);\n\nmodule.exports = Portal;\n\nPortal.propTypes = {\n    children: React.PropTypes.element.isRequired,\n    openByClickOn: React.PropTypes.element,\n    closeOnEsc: React.PropTypes.bool,\n    closeOnOutsideClick: React.PropTypes.bool,\n    isOpened: React.PropTypes.bool\n};\n\nfunction isNodeInRoot(node, root) {\n    while (node) {\n        if (node === root) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n},{\"keymaster\":\"keymaster\",\"react\":\"react\",\"react/lib/shallowEqual\":\"react/lib/shallowEqual\"}],60:[function(require,module,exports){\nmodule.exports = {\n\ticonCloseBack: function() {\n\t\tif ((window.environment||[]).indexOf(\"clipper\")!=-1)\n\t\t\treturn \"back\";\n\t\t\n\t\treturn \"clear\";\n\t}\n}\n\n},{}],61:[function(require,module,exports){\n/** @jsx React.DOM */\nvar TagsStore = require('../../../stores/Tags');\n\nmodule.exports = React.createClass({\n    mixins: [require(\"./ModalMixin\")],\n    \n  displayName: \"Modals/GroupEdit\",\n\n    getInitialState: function() {\n        return {\n            index: this.props.index,\n            title: TagsStore.getTags()[this.props.index]._id\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({index: nextProps.index});\n    },\n\n    handleClose: function(e) {\n        if (e)\n            e.preventDefault();\n        this.props.closePortal();\n    },\n\n    handleTitleChange: function(value) {\n        this.setState({title: value});\n    },\n\n    handleRemove: function(e) {\n        if (e)\n            e.preventDefault();\n\n        TagsStore.onRemove({_id: TagsStore.getTags()[this.props.index]._id});\n        this.props.closePortal();\n    },\n\n    handleSave: function(e) {\n        if (e)\n            e.preventDefault();\n\n        TagsStore.onUpdate({_id: TagsStore.getTags()[this.props.index]._id, replace: this.state.title});\n        this.props.closePortal();\n    },\n\n    render: function() {\n        return (\n            React.createElement(\"div\", {className: \"modal-dialog\"}, \n                React.createElement(\"header\", null, \n                    React.createElement(\"div\", {className: \"actionBar\"}, \n                        React.createElement(\"div\", {className: \"actions\"}, \n                            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: this.iconCloseBack()}))\n                        ), \n                        React.createElement(\"h3\", null, t.s(\"tags\"))\n                    )\n                ), \n\n                React.createElement(\"article\", null, \n                    React.createElement(\"form\", {onSubmit: this.handleSave}, \n                        React.createElement(\"div\", {className: \"form-editor\"}, \n                            React.createElement(\"div\", {className: \"oneline\"}, \n                                React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"tag\"})), \n                                React.createElement(\"div\", {className: \"area\"}, \n                                    React.createElement(\"label\", null, t.s(\"name\")), \n                                    React.createElement(\"input\", {type: \"text\", className: \"important\", required: true, autoFocus: true, valueLink: {value: this.state.title, requestChange: this.handleTitleChange}, ref: \"title\"})\n                                )\n                            )\n                        ), \n\n                        React.createElement(\"footer\", null, \n                            React.createElement(\"div\", {className: \"actions left\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"action-icon active\", onClick: this.handleRemove}, t.s(\"remove\"))\n                            ), \n\n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"action-icon active\", onClick: this.handleClose}, t.s(\"cancel\")), \n                                React.createElement(\"input\", {type: \"submit\", className: \"action-icon active\", value: t.s(\"save\")})\n                            )\n                        )\n                    )\n                )\n            )\n        );\n    }\n});\n\n},{\"../../../stores/Tags\":123,\"./ModalMixin\":60}],62:[function(require,module,exports){\n/** @jsx React.DOM */\nvar logoSVG = require('../../../newtab/images/logo-text.svg');\n\nvar BookmarkActions = require('../../../actions/Bookmark');\nvar BookmarkStore = require('../../../stores/Bookmark');\nvar BookmarksActions = require('../../../actions/Bookmarks');\nvar BookmarksStore = require('../../../stores/Bookmarks');\n\nvar BookmarkItem = require('../Bookmarks/Item');\nvar PopoverFont = require('../Popovers/Font');\nvar Favicon = require('../Helpers/Favicon');\nvar ScrollFixMixin = require('../Helpers/ScrollFixMixin.js');\n\nmodule.exports = React.createClass({\n  mixins: [ScrollFixMixin],\n  displayName: \"Modals/Viewer\",\n\n  _getBookmark: function(id) {\n    var item = BookmarksStore.getBookmark(id); \n    if (item == null)\n      item = {}\n    item._id = item._id || id;\n    item.navigation = BookmarksStore._bookmarkNavigation(id);\n\n    if (!item.navigation.next)\n        this.props.loadMore();\n\n    return item;\n  },\n\n  getInitialState: function() {\n    var fontSize = 0, fontColor = \"\", fontFamily = \"\";\n    try {fontSize = UserStore.getUser().config[\"font_size\"] || 0} catch(e){}\n    try {fontColor = UserStore.getUser().config[\"font_color\"] || \"\"} catch(e){}\n    try {fontFamily = UserStore.getUser().config[\"font_family\"] || \"\"} catch(e){}\n    return {\n      item: this._getBookmark(this.props.id),\n      fontSize: fontSize,\n      fontColor: fontColor,\n      fontFamily: fontFamily,\n      fontPopover: false\n    }\n  },\n\n  handleClose: function(e) {\n    if (e)\n        e.preventDefault();\n\n    this.props.closePortal();\n  },\n\n  handleFont: function(e) {\n    if (e)\n        e.preventDefault();\n\n    this.setState({fontPopover: true});\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    this.setState({item: this._getBookmark(nextProps.id)});\n    BookmarkActions.load(nextProps.id);\n  },\n\n  onBookmarkChange: function(bookmark) {\n    if (bookmark._id == this.state.item._id){\n      bookmark.navigation = BookmarksStore._bookmarkNavigation(bookmark._id);\n\n      this.setState({item: bookmark});\n    }\n  },\n\n  onBookmarksChange: function() {\n    this.state.item.navigation = BookmarksStore._bookmarkNavigation(this.state.item._id);\n    this.setState({item: this.state.item});\n  },\n\n  componentWillMount: function() {\n    BookmarkActions.load(this.props.id);\n  },\n\n  componentDidMount: function() {\n    this.unsubscribeBookmark = BookmarkStore.listen(this.onBookmarkChange);\n    this.unsubscribeBookmarks = BookmarkStore.listen(this.onBookmarksChange);\n  },\n\n  componentWillUnmount: function() {\n    this.unsubscribeBookmark();\n    this.unsubscribeBookmarks();\n  },\n\n  componentDidUpdate: function() {\n\n  },\n\n  handleFontClose: function() {\n    this.setState({fontPopover: false});\n  },\n\n  handleIncrementFont: function(e) {\n    e.preventDefault();\n    if (this.state.fontSize<9){\n      UserStore.onUpdateConfig({font_size: this.state.fontSize+1});\n      this.setState({fontSize: this.state.fontSize+1});\n    }\n  },\n\n  handleDicrementFont: function(e) {\n    e.preventDefault();\n    if (this.state.fontSize>0){\n      UserStore.onUpdateConfig({font_size: this.state.fontSize-1});\n      this.setState({fontSize: this.state.fontSize-1});\n    }\n  },\n\n  handleFontColor: function(c) {\n    UserStore.onUpdateConfig({font_color: c});\n    this.setState({fontColor: c});\n  },\n\n  handleFontFamily: function(f) {\n    UserStore.onUpdateConfig({font_family: f});\n    this.setState({fontFamily: f});\n  },\n\n  handleBookmarkEdit: function(e) {\n    e.preventDefault();\n    Pop.show(\"bookmark\", {\n        id: this.state.item._id,\n        pin: \"bookmark-viewer-edit-\"+this.state.item._id,\n        force: \"vertical\"\n    });\n    //this.props.handleBookmarkEdit(this.state.item._id);\n  },\n\n  render: function() {\n    var prev = null, next = null;\n    if (this.state.item.navigation.prev)\n      prev = (React.createElement(\"a\", {href: \"#\"+this.props.router.getCurrentPathname()+\"?viewer=\"+this.state.item.navigation.prev, className: \"nav-left action-icon\"}, \n          React.createElement(Icon, {name: \"left\"})\n        ));\n    if (this.state.item.navigation.next)\n      next = (React.createElement(\"a\", {href: \"#\"+this.props.router.getCurrentPathname()+\"?viewer=\"+this.state.item.navigation.next, className: \"nav-right action-icon\"}, \n          React.createElement(Icon, {name: \"right\"})\n        ));\n\n    var html = null;\n    if (this.state.item.type==\"link\")\n      html = React.createElement(\"div\", {style: {paddingTop: \"10px\"}}, React.createElement(\"div\", {className: \"bookmarks\"}, React.createElement(BookmarkItem, {item: this.state.item, view: \"list\"})));\n    else\n      html = (\n        React.createElement(\"div\", {className: \"text-viewer-raindrop\"}, \n          React.createElement(\"article\", {dangerouslySetInnerHTML: {__html: this.state.item.html||\"\"}}), \n          React.createElement(\"br\", null), \n          React.createElement(\"a\", {href: this.state.item.link, target: network.linkTarget(), className: \"read-more\"}, t.s(\"viewOn\"), \" \", strings.beautifulDomain(this.state.item.domain))\n        )\n      );\n\n    var fontSize = this.state.fontSize;\n\n    if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n      fontSize = 0;\n\n    return (\n      React.createElement(\"div\", {className: \"modal-dialog modal-fullsize vfontcolor-\"+this.state.fontColor}, \n        React.createElement(\"header\", null, \n            React.createElement(\"div\", {className: \"actionBar\"}, \n                React.createElement(\"div\", {className: \"actions\"}, \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon viewer-raindrop-logo\", onClick: this.handleClose}, React.createElement(\"span\", {className: \"logo-text\", dangerouslySetInnerHTML: {__html: logoSVG}})), \n                    prev, next\n                ), \n\n                React.createElement(\"h3\", {className: \"center\"}, \"\"), \n\n                React.createElement(\"div\", {className: \"actions right\"}, \n                    React.createElement(\"a\", {href: this.state.item.link, target: \"_blank\", className: \"action-icon\"}, React.createElement(Icon, {name: \"open-link\", size: \"mac\"})), \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleFont, id: \"font-select-link\"}, React.createElement(Icon, {name: \"font\", size: \"mac\"}), \" \", React.createElement(Icon, {name: \"arrow-down\", size: \"small\"})), \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleBookmarkEdit, id: \"bookmark-viewer-edit-\"+this.state.item._id}, React.createElement(Icon, {name: \"edit\", size: \"mac\"})), \n                    React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: \"clear\", size: \"mac\"}))\n                )\n            )\n        ), \n\n        React.createElement(\"div\", {className: \"navi\"}, prev, next), \n\n        React.createElement(\"section\", {id: \"main-viewer-frame-raindrop\", onWheel: this.handleScroll, ref: \"div\", className: \"typography-viewer-raindrop typography-viewer-raindrop-type\"+this.state.item.type+\" vfontsize-\"+fontSize+\" vfontfamily-\"+this.state.fontFamily}, \n          React.createElement(\"div\", null, \n            React.createElement(\"h1\", null, this.state.item.title), \n\n            React.createElement(\"div\", {className: \"domain\"}, \n              React.createElement(\"div\", {className: \"favicon\"}, \n                React.createElement(Favicon, {domain: this.state.item.domain})\n              ), \n              React.createElement(\"div\", {className: \"title\"}, \n                strings.beautifulDomain(this.state.item.domain), \n                React.createElement(\"div\", {className: \"subinfo\"}, moment(this.state.item.lastUpdate).format(\"ll\"))\n              ), \n              React.createElement(\"a\", {href: this.state.item.link, target: network.linkTarget()})\n            ), \n\n            html, \n\n            React.createElement(\"br\", null)\n\n          )\n        ), \n\n        React.createElement(PopoverFont, {onClose: this.handleFontClose, \n                      show: this.state.fontPopover, \n                      attachId: \"font-select-link\", \n                      fontColor: this.state.fontColor, \n                      fontFamily: this.state.fontFamily, \n                      handleIncrementFont: this.handleIncrementFont, \n                      handleDicrementFont: this.handleDicrementFont, \n                      handleFontColor: this.handleFontColor, \n                      handleFontFamily: this.handleFontFamily})\n      )\n    );\n  }\n});\n\n},{\"../../../actions/Bookmark\":1,\"../../../actions/Bookmarks\":2,\"../../../newtab/images/logo-text.svg\":110,\"../../../stores/Bookmark\":112,\"../../../stores/Bookmarks\":113,\"../Bookmarks/Item\":18,\"../Helpers/Favicon\":42,\"../Helpers/ScrollFixMixin.js\":48,\"../Popovers/Font\":77}],63:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsStore = require('../../../stores/Collections');\nvar Favicon = require('../Helpers/Favicon.js');\nvar Cover = require('../Helpers/Cover.js');\n\nvar TagsActions = require('../../../actions/Tags'),\n    TagsStore = require('../../../stores/Tags');\n\nvar Selectize = require('react-select');\nvar SelectMixin = require(\"../Helpers/SelectMixin\");\nvar Textarea = require('react-textarea-autosize');\n\nvar ParentsActions = require('../../../actions/Parents');\nvar BookmarkActions = require('../../../actions/Bookmarks');\nvar BookmarksStore = require('../../../stores/Bookmarks');\n\nvar CollectionsList = require(\"../Forms/CollectionsList\");\nvar BookmarkIcon = require('./Bookmark/Icon.js');\n\n_collectionIdChanged = false;\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/Form/Bookmark\",\n\n    mixins: [SelectMixin],\n\n    getInitialState: function() {\n        return {\n            step: \"form\",\n            tags: [],\n            item: BookmarksStore.getBookmark(this.props.id) || {},\n            loading: false\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        var item = BookmarksStore.getBookmark(nextProps.id);\n        this._testItem(item, nextProps.id);\n        if (this.isMounted()) this.setState({\n            item: item\n        });\n    },\n\n    onCollectionsChange: function() {\n        if (this.isMounted())this.setState({\n            item: this.state.item\n        });\n    },\n\n    onTagsChange: function(tags) {\n        var clean = tags.map(function(tag){\n          return {value: tag._id, label: tag._id};\n        });\n        if (this.isMounted()) this.setState({\n            tags: clean\n        });\n    },\n\n    componentWillMount: function() {\n      TagsActions.load();\n    },\n\n    componentDidMount: function() {\n        this._testItem(this.state.item, this.props.id);\n        this.focusMainInput();\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        this.unsubscribeTags = TagsStore.listen(this.onTagsChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeCollections();\n        this.unsubscribeTags();\n    },\n\n    _testItem: function(item, _id) {\n        var _this = this;\n        if (Object.keys(item).length==0)\n            BookmarkActions.loadBookmark({_id: _id}, function(item){\n                if (_this.isMounted()) {\n                    try{item.cover = item.media[item.coverId].link;}catch(e){}\n                    _this.setState({item: item});\n                }\n            })\n    },\n\n    focusMainInput: function() {\n        var _this = this;\n        setTimeout(function() {\n            var el = React.findDOMNode(_this.refs.title);\n            if (el){\n                el.focus();\n                el.setSelectionRange(el.value.length, el.value.length);\n            }\n        }, 300);\n    },\n\n    handleOpenCollectionsList: function(e) {\n        e.preventDefault();\n        if (this.isMounted()) this.setState({step: \"collection\"});\n    },\n\n    handleOpenIcons: function(e) {\n        e.preventDefault();\n        if (this.isMounted()) this.setState({step: \"icons\"});\n    },\n\n    handleChangeCollection: function(collection) {\n        _collectionIdChanged = (this.state.item.collectionId != collection._id);\n        this.state.item.collectionId = collection._id;\n        if (this.isMounted()) this.setState({item: this.state.item, step: \"form\"});\n        this.focusMainInput();\n    },\n\n    handleTypeChange: function(e) {\n        this.state.item.type = e.target.value;\n        if (this.isMounted()) this.setState({item: this.state.item, step: \"form\"});\n    },\n\n    handleTitleChange: function(e) {\n        this.state.item.title = e.target.value;\n        if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    handleTitleReset: function(e) {\n        e.preventDefault();\n        React.findDOMNode(this.refs.title).value=\"\";\n        this.state.item.title = \"\";\n        if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    handleExcerptChange: function(e) {\n        this.state.item.excerpt = e.target.value;\n        if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    handleLinkChange: function(e) {\n        this.state.item.link = e.target.value;\n        if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    handleExcerptReset: function(e) {\n        e.preventDefault();\n        React.findDOMNode(this.refs.excerpt).value=\"\";\n        this.state.item.excerpt = \"\";\n        if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    handleTagsChange: function(value) {\n      this.state.item.tags = value.split(\",\");\n      if (this.state.item.tags[0]==\"\")\n        this.state.item.tags = [];\n      if (this.isMounted()) this.setState({item: this.state.item});\n    },\n\n    goToForm: function(e) {\n        if (e)e.preventDefault();\n        if (this.isMounted()) this.setState({step: \"form\"});\n        this.focusMainInput();\n    },\n\n    handleSave: function(e){\n        e.preventDefault();\n\n        var _this = this;\n\n        if (this.isMounted()) this.setState({loading: true});\n        BookmarkActions.updateBookmark({item: {\n          _id: this.state.item._id,\n          title: this.state.item.title,\n          excerpt: this.state.item.excerpt,\n          tags: this.state.item.tags,\n          collectionId: this.state.item.collectionId,\n          type: this.state.item.type,\n          media: this.state.item.media,\n          cover: this.state.item.coverId,\n          coverId: this.state.item.coverId\n        }, silent: this.props.silent}, function(result){\n          if (result)\n            _this.handleSaveSuccess((_collectionIdChanged ? _this.state.item.collectionId : undefined));\n          else\n            if (_this.isMounted()) _this.setState({loading: false});\n        });\n    },\n\n    handleRemoveBookmark: function(e) {\n        e.preventDefault();\n        var _this = this;\n\n        BookmarkActions.removeBookmark({item: this.state.item, silent: this.props.silent}, function(result){\n          if (result){\n            _this.handleClose();\n          }\n        });\n    },\n\n    handleSaveSuccess: function(cId) {\n        ParentsActions.reset();\n        this.handleClose();\n\n        if ((typeof cId != 'undefined')&&(!this.props.silent)) {\n          window.location.hash=\"#/collection/\"+cId;\n          //this.props.router.transitionTo('collection', {cId: cId});\n        }\n    },\n\n    setMedia: function(media,index) {\n        if (media) this.state.item.media = media;\n        this.state.item.coverId = index;\n        this.state.item.cover = this.state.item.media[this.state.item.coverId].link;\n        if (this.isMounted()) this.setState({step: \"form\", item: this.state.item});\n    },\n\n    handleClose: function(e) {\n        if (e) e.preventDefault();\n        if (typeof this.props.onClose == \"function\")\n            this.props.onClose();\n        else\n            Pop.close();\n    },\n\n    componentDidUpdate: function() {\n        if (typeof this.props.onUpdate == \"function\")\n            this.props.onUpdate();\n    },\n\n    render: function() {\n        var _this = this;\n\n        //Change collection\n        if (this.state.step == \"collection\"){\n            return (\n                React.createElement(\"div\", {className: \"pop-content\"}, \n                React.createElement(\"div\", {className: \"pop-sticky-header\"}, \n                    React.createElement(\"div\", {className: \"sticky-header\"}, \n                        React.createElement(\"header\", null, \n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"but default onlyicons\", onClick: this.goToForm}, React.createElement(Icon, {name: \"back\", size: \"mac\"}))\n                            ), \n                            React.createElement(\"div\", {className: \"max title center\"}, \n                                t.s(\"selectCollection\")\n                            ), \n                            React.createElement(\"div\", {className: \"actions\"})\n                        )\n                    ), \n\n                    React.createElement(CollectionsList, {\n                        activeCollection: this.state.item.collectionId, \n                        onSelectCollection: this.handleChangeCollection, \n                        onCancel: this.goToForm})\n                )\n                )\n            );\n        }\n\n        //Change icons\n        if (this.state.step == \"icons\"){\n            return React.createElement(BookmarkIcon, {\n                                bookmark: this.state.item, \n                                goToForm: this.goToForm, \n                                onUpdate: this.props.onUpdate, \n                                setMedia: this.setMedia});\n        }\n\n        //Edit bookmark\n        var collection = CollectionsStore.getCollection(this.state.item.collectionId);\n        if (collection==null) {\n            CollectionsStore.onLoadId(this.state.item.collectionId);\n            collection = {title: \"\"};\n        }\n\n        var cover = consts.defaultCollectionIcon();\n        try{cover = network.fixURL(collection.cover[0]);}catch(e){}\n\n        var hideUnnecessary = ((this.state.item||{}).collectionId == -2);\n\n        var coverDots = null;\n        try{coverDots = this.state.item.media.map(function(c,index){\n            if (index<7)\n            return React.createElement(\"span\", {className: _this.state.item.coverId == index ? \"active\" : null});\n        }); if (coverDots.length<=1) coverDots = null;}catch(e){}\n\n        var loading = ((Object.keys(this.state.item).length==0)||(this.state.loading));\n\n        var text = {\n            save: t.s(\"save\"),\n            cancel: t.s(\"cancel\")\n        }\n\n        return (\n        React.createElement(\"div\", null, \n            React.createElement(\"div\", {className: (this.props.isSubContent ? \"pop-sub-content\":\"pop-content\")+\" \"+(loading ? \"invisible\" : null)}, \n                React.createElement(\"form\", {onSubmit: this.handleSave}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"div\", {className: \"max title\", style: {marginRight:0}}, \n                            React.createElement(Textarea, {required: true, value: this.state.item.title, onChange: this.handleTitleChange, ref: \"title\", placeholder: t.s(\"enterTitle\"), rows: \"1\"}), \n                            React.createElement(Textarea, {className: \"small\" + (hideUnnecessary?\" hidden\":\"\"), value: this.state.item.excerpt, onChange: this.handleExcerptChange, ref: \"excerpt\", placeholder: t.s(\"enterDescription\"), rows: \"1\"})\n                        ), \n\n                        React.createElement(\"div\", {className: \"cover\", onClick: this.handleOpenIcons}, \n                            React.createElement(Cover, {src: this.state.item.cover, link: this.state.item.link, domain: this.state.item.domain, className: \"cover-img\"}), \n                            React.createElement(\"div\", {className: \"dots\"}, coverDots)\n                        )\n                    ), \n\n                    React.createElement(\"div\", {className: \"entries\"}, \n                        React.createElement(\"div\", {className: \"row\"}, \n                            React.createElement(\"div\", {className: \"title\"}, t.s(\"collection\")), \n                            React.createElement(\"div\", {className: \"content\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"block-link\", onClick: this.handleOpenCollectionsList}, React.createElement(\"img\", {className: \"small-icon\", src: cover, alt: \"\"}), collection.title)\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"row \" + (hideUnnecessary?\" hidden\":\"\")}, \n                            React.createElement(\"div\", {className: \"title\"}, t.s(\"tags\")), \n                            React.createElement(\"div\", {className: \"content max\"}, \n                                React.createElement(Selectize, {\n                                    name: \"tags\", \n                                    value: this.state.item.tags, \n                                    options: this.state.tags, \n                                    multi: true, \n                                    placeholder: t.s(\"addTags\")+\"...\", \n                                    onChange: this.handleTagsChange, \n                                    onFocus: this.handleSelectFocus, \n                                    onBlur: this.handleSelectBlur, \n                                    filterOptions: this.handleSelectFilter}\n                                )\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"row\"}, \n                            React.createElement(\"div\", {className: \"title\"}, \"URL\"), \n                            React.createElement(\"div\", {className: \"content\"}, \n                                React.createElement(Textarea, {className: \"small\", value: this.state.item.link, readOnly: \"true\", ref: \"link\", placeholder: t.s(\"enterLink\"), rows: \"1\"})\n                            )\n                        )\n                    ), \n\n                    React.createElement(\"footer\", null, \n                        React.createElement(\"input\", {type: \"submit\", className: \"but accent pull-right\", value: text.save}), \n                        React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, text.cancel), \n                        \n                        React.createElement(\"a\", {href: \"\", className: \"but \", onClick: this.handleRemoveBookmark}, t.s(\"remove\")), \n                        React.createElement(\"label\", {className: \"but select onlyicons \" + (hideUnnecessary?\" hidden\":\"\"), title: t.s(this.state.item.type), style: {marginRight:0}}, \n                            React.createElement(Icon, {name: this.state.item.type, size: this.state.item.type == \"link\" ? \"mac\" : null}), \n                            React.createElement(Icon, {name: \"arrow-down\", size: \"small\"}), \n\n                            React.createElement(\"select\", {value: this.state.item.type, onChange: this.handleTypeChange}, \n                                React.createElement(\"option\", {value: \"link\"}, t.s(\"link\")), \n                                React.createElement(\"option\", {value: \"article\"}, t.s(\"article\")), \n                                React.createElement(\"option\", {value: \"image\"}, t.s(\"image\")), \n                                React.createElement(\"option\", {value: \"video\"}, t.s(\"video\"))\n                            )\n                        )\n                    )\n                )\n            ), \n\n            React.createElement(\"div\", {className: \"pop-loader \"+(loading ? null : \"hidden\")})\n        ));\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../actions/Parents\":7,\"../../../actions/Tags\":12,\"../../../stores/Bookmarks\":113,\"../../../stores/Collections\":115,\"../../../stores/Tags\":123,\"../Forms/CollectionsList\":36,\"../Helpers/Cover.js\":40,\"../Helpers/Favicon.js\":42,\"../Helpers/SelectMixin\":50,\"./Bookmark/Icon.js\":64,\"react-select\":\"react-select\",\"react-textarea-autosize\":\"react-textarea-autosize\"}],64:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CoverSelector = require(\"../../Helpers/CoverSelector\");\n\nvar V = require('validator');\nvar MiniSearch = require(\"../../Search/Mini\");\nvar Iconfinder = require(\"../../../../modules/Iconfinder\");\n\nmodule.exports = React.createClass({\n    displayName: \"Bookmark/Icon\",\n\n    getInitialState: function() {\n        return {\n            bookmark: this.props.bookmark,\n            search: \"\",\n            icons: [],\n            loading: false,\n            haveMore: true\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({\n            bookmark: nextProps.bookmark\n        });\n    },\n\n    handleChangeIcon: function(index, withMedia) {\n      var update = {_id: this.state.bookmark._id, cover: index, coverId: index, coverEnabled: true};\n      if (withMedia){\n        update.media = withMedia;\n      }else{\n        //    \n        if (this.state.search!=\"\"){\n          update.media = this.state.bookmark.media || [];\n          update.media.push({link: this.state.icons[index], type: \"image\"});\n          update.cover = update.media.length - 1;\n          update.coverId = update.cover;\n        }\n        //            \n        else if ((this.state.bookmark.collectionId == -2) && (typeof this.state.bookmark.media[index] == \"undefined\")){\n          update.media = this.state.bookmark.media || [];\n          update.media.push({link: network.favIcon((this.state.bookmark.domain)), type: \"image\"});\n          update.cover = update.media.length - 1;\n          update.coverId = update.cover;\n        }\n      }\n\n      this.props.setMedia(update.media, update.coverId);\n      //BookmarkActions.updateBookmark({item: update});\n    },\n\n    handleScreenshot: function(e) {\n        var _this = this;\n        e.preventDefault();\n\n        var addScreenshot = function(mediaItem) {\n          var item = JSON.parse(JSON.stringify(_this.state.bookmark)),\n            coverIndex = -1;\n\n          item.media = item.media || [];\n\n          for(var i in item.media)\n            if (item.media[i].screenshot){\n              coverIndex = i;\n              break;\n            }\n\n          if (coverIndex == -1){\n            item.media.push(mediaItem);\n            item.coverId = item.media.length - 1;\n          }\n          else{\n            item.media[coverIndex] = mediaItem;\n            item.coverId = coverIndex;\n          }\n\n          item.coverEnabled = true;\n          _this.setState({bookmark: item});\n          _this.handleChangeIcon(item.coverId, item.media);\n        }\n\n        var serverScreen = function() {\n          addScreenshot({link: consts.screenshotService+encodeURIComponent(_this.state.bookmark.link), type: \"image\", screenshot: true});\n        }\n\n        if (typeof BrowserBridge != \"undefined\"){\n          BrowserBridge.currentURL(function(url) {\n            if (_this.state.bookmark.link == url)\n              BrowserBridge.capturePage(function(dataURI){\n                if (dataURI)\n                  addScreenshot({link: dataURI, type: \"image\", screenshot: true, dataURI: true});\n                else\n                  serverScreen();\n              });\n            else{\n              serverScreen();\n            }\n          });\n        }\n        else\n          serverScreen();\n    },\n\n    handleSearch: function(s) {\n      this.setState({search:s, loading: true});\n\n      var _this = this;\n      Iconfinder.search(s, 0, function(icons) {\n        _this.setState({icons: icons, loading: false, haveMore: true});\n      });\n    },\n\n    handleNextSearchPage: function(e) {\n      e.preventDefault();\n      var _this = this;\n      this.setState({haveMore:false});\n      Iconfinder.search(this.state.search, 1, function(icons) {\n        _this.setState({icons: _this.state.icons.concat(icons), loading: false});\n      });\n    },\n\n    handleURL: function(e) {\n      e.preventDefault();\n      var URL = prompt(t.s(\"enterLink\"));\n      if (V.isURL(URL)){\n        this.state.bookmark.media = this.state.bookmark.media || [];\n        this.state.bookmark.media.push({link: URL, type: \"image\"});\n        this.setState({bookmark: this.state.bookmark});\n\n        var _this = this;\n        setTimeout(function(){\n          _this.handleChangeIcon(_this.state.bookmark.media.length-1, _this.state.bookmark.media);\n        },200);\n      }else{\n        Toasts.show({text: t.s(\"serverincorrect url\"), status:\"error\"});\n      }\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n        var _this = this, wrapClassName = \"\", content = null, loadMore = null, icons = [];\n\n        if (this.state.search==\"\"){\n          icons = (this.state.bookmark.media||[]).map(function(item, index){\n              return network.fixURL(item.link);\n          });\n\n          if (this.state.bookmark.collectionId == -2)\n            icons.push(network.favIcon((this.state.bookmark.domain)));\n        }else{\n          icons = (this.state.icons||[]).map(function(item, index){\n              return network.fixURL(item);\n          });\n\n          if (this.state.haveMore)\n          loadMore = React.createElement(\"div\", {className: \"btn btn-card show-more-button show-more-button-visible\"}, t.s(\"more\"), React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleNextSearchPage}));\n        }\n\n        ///BUTTONS\n        var actionButtons = [\n          (React.createElement(\"div\", {className: \"action-item action-item-gray\"}, \n            React.createElement(\"a\", {href: \"\", onClick: this.handleURL}, \n              React.createElement(Icon, {name: \"add\"}), \n              React.createElement(\"span\", null, \"URL\")\n            )\n          ))\n        ];\n\n        var haveScreenshot = false;\n        try{\n          haveScreenshot = (_.findIndex(this.state.bookmark.media||[], {screenshot: true})!=-1);\n        }catch(e) {}\n        if (!haveScreenshot)\n          actionButtons.unshift(\n            React.createElement(\"div\", {className: \"action-item\"}, \n              React.createElement(\"a\", {href: \"\", onClick: this.handleScreenshot}, \n                React.createElement(Icon, {name: \"web\"}), \n                React.createElement(\"span\", null, t.s(\"clickToMakeScreenshot\"))\n              )\n            )\n          );\n\n\n        ///CONTENT\n        if (this.state.loading){\n          content = React.createElement(\"div\", {className: \"centered-content\"}, React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null)));\n          loadMore = null;\n        }\n        else{\n          var selected = (this.state.search==\"\" ? this.state.bookmark.coverId : -1);\n          if (typeof (this.state.bookmark.media||[])[this.state.bookmark.coverId] == undefined )\n            selected = -1;\n\n          content = React.createElement(CoverSelector, {items: icons, selected: selected, onSelect: this.handleChangeIcon}, actionButtons);\n        }\n\n        return (\n          React.createElement(\"div\", {className: \"pop-content\"}, \n            React.createElement(\"div\", {className: \"pop-sticky-header\"}, \n                React.createElement(\"div\", {className: \"sticky-header\"}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"div\", {className: \"actions\"}, \n                            React.createElement(\"a\", {href: \"\", className: \"but default onlyicons\", onClick: this.props.goToForm}, React.createElement(Icon, {name: \"back\", size: \"mac\"}))\n                        ), \n                        React.createElement(\"div\", {className: \"max title center\"}, \n                            React.createElement(MiniSearch, {onChange: this.handleSearch})\n                        ), \n                        React.createElement(\"div\", {className: \"actions\"})\n                    )\n                ), \n\n                content, loadMore\n            )\n          )\n        );\n    }\n});\n\n},{\"../../../../modules/Iconfinder\":101,\"../../Helpers/CoverSelector\":41,\"../../Search/Mini\":81,\"validator\":\"validator\"}],65:[function(require,module,exports){\n/** @jsx React.DOM */\nvar BookmarksActions = require('../../../actions/Bookmarks');\nvar CollectionsActions = require('../../../actions/Collections');\nvar CollectionsStore = require('../../../stores/Collections');\nvar CollectionsList = require(\"../Forms/CollectionsList\");\nvar ParentsActions = require('../../../actions/Parents');\nvar Upgrade = require(\"../Bookmarks/Upgrade\");\n\nvar CollectionIcon = require(\"./Collection/Icon\"),\n    CollectionSharing = require(\"./Collection/Sharing\");\n\nvar Textarea = require('react-textarea-autosize');\n\nvar _defaultItem = {};\nvar setDefaults = function() {\n    _defaultItem = {\n        _id: 0,\n        title: t.s(\"collectionNew\"),\n        view: \"list\",\n        group: 0,\n        empty: true,\n        blank: true\n    };\n}\n\nif (document)\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\nelse\n    setDefaults();\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/Collection\",\n\n    updateCover: false,\n\n    getInitialState: function() {\n        var item;\n        var disableNested = false;\n        _defaultItem.group = this.props.group || 0;\n\n        if (this.props.id || this.props.forceEdit) {\n            var item = {\n                _id: parseInt(this.props.id || 0),\n                empty: true\n            };\n\n            collection = CollectionsStore.getCollection(this.props.id);\n            if (collection == null)\n                CollectionsStore.onLoadId(this.props.id);\n            else {\n                item = JSON.parse(JSON.stringify(collection));\n            }\n        }\n\n        var loading = (/*!(item||{})._id ||*/ (item||{}).empty);\n        if (!item)\n            loading = false;\n\n        item = item || JSON.parse(JSON.stringify(_defaultItem));\n        if (item.blank){\n            if ((this.props.parentId||0)>0){\n                item.title = t.s(\"nestedCollections\").split(\" \")[0] + \" \" + t.s('collection').toLowerCase();\n\n                if (!UserStore.isPro())\n                    disableNested = true;\n            }\n        }\n\n        return {\n            step: (this.props.step ? this.props.step : \"form\"),\n            loading: loading,\n            item: item,\n            collaboratorsText: \"\",\n            disableNested: disableNested\n        };\n    },\n\n    onCollectionsChange: function() {\n        var temp = null;\n\n        if ((this.state.item.empty)&&(this.state.item._id)){\n            collection = CollectionsStore.getCollection(this.state.item._id);\n            if (collection != null)\n              temp = JSON.parse(JSON.stringify(collection));\n        }\n\n        if (temp!=null)\n          this.setState({\n              item: temp,\n              loading: false\n          });\n\n        this.setState({step: this.state.step});\n    },\n\n    componentDidMount: function() {\n        var _this = this;\n\n        this.focusMainInput();\n\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n\n        if ((this.props.parentId||0)>0){\n            this.handleChangeCollection( {_id: this.props.parentId} );\n        }\n\n        if (this.state.item._id)\n            Api.get(\"collection/\"+this.state.item._id+\"/collaborators\", function(json){\n                if (json.items){\n                    var members = 0, viewers = 0;\n                    for(var i in json.items)\n                        if (json.items[i].role==\"member\") members++;\n                        else if ((json.items[i].role==\"owner\")&&(_this.state.item.public)) members++;\n                        else if (json.items[i].role==\"viewer\") viewers++;\n\n                    var collaboratorsText = \"\";\n                    if ((members)||(viewers))\n                        collaboratorsText = t.s(\"und\") + \" \" + parseInt(members+viewers)+\" \"+t.s(\"members\").toLowerCase();\n\n                    if (viewers)\n                        collaboratorsText += \" (\" + viewers+\" \"+t.s(\"role_viewer\").toLowerCase() + \")\";\n\n                    if (collaboratorsText)\n                        _this.setState({collaboratorsText: collaboratorsText});\n                }\n            });\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeCollections();\n    },\n\n    focusMainInput: function() {\n        var _this = this;\n        setTimeout(function() {\n            var input = React.findDOMNode(_this.refs.title);\n            if (input){\n                input.focus();\n                if (_this.state.item._id==0)\n                    input.setSelectionRange(0, input.value.length);\n                else\n                    input.setSelectionRange(input.value.length, input.value.length);\n            }\n        }, 0);\n    },\n\n    handleTitleChange: function(value) {\n        this.state.item.title = value;\n        this.setState({item: this.state.item});\n    },\n\n    handleExcerptChange: function(e) {\n        this.state.item.excerpt = e.target.value;\n        this.setState({item: this.state.item});\n    },\n\n    handleOpenCollectionsList: function(e) {\n        e.preventDefault();\n        this.setState({step: \"parent\"});\n    },\n\n    handleOpenIcons: function(e) {\n        e.preventDefault();\n        if ((this.state.item.author && this.state.item._id>=0)||(this.state.item.blank))\n            this.setState({step: \"icons\"});\n    },\n\n    handleOpenSharing: function(e) {\n        e.preventDefault();\n        this.setState({step: \"sharing\"});\n    },\n\n    handleChangeCollection: function(collection) {\n        if (UserStore.isPro()){\n          this.state.item.parentId = collection._id;\n          delete this.state.item.group;\n        }\n\n        this.setState({item: this.state.item, step: \"form\"});\n        this.focusMainInput();\n    },\n\n    handleChangeGroup: function(group, index) {\n        this.state.item.group = index;\n        delete this.state.item.parentId;\n\n        this.setState({item: this.state.item, step: \"form\"});\n        this.focusMainInput();\n    },\n\n    goToForm: function(e) {\n        e.preventDefault();\n        this.setState({step: \"form\"});\n        this.focusMainInput();\n    },\n\n    handleCollectionSave: function(cId) {\n        ParentsActions.reset();\n        if ((this.state.item._id==0)||(cId == CollectionsStore.getCurrentId()))\n            window.location.hash=\"#/collection/\"+cId+\"?d=\"+new Date().getTime();\n        //this.props.router.transitionTo('collection', {cId: this.state.cId}, {d: new Date().getTime() });\n        Pop.close();\n    },\n\n    handleSave: function(e) {\n        e.preventDefault();\n\n        var _this = this;\n\n        if (this.state.item._id==0)\n            CollectionsActions.insertCollection({\n                item: this.state.item\n            }, function(cId){\n                if (cId>0)\n                    _this.handleCollectionSave(cId);\n                else\n                    _this.setState({loading:false});\n            });\n        else {\n            var toUpdate = {\n                _id: this.state.item._id,\n                title: this.state.item.title,\n                excerpt: this.state.item.excerpt,\n                parentId: this.state.item.parentId,\n                group: this.state.item.group,\n                view: this.state.item.view\n            };\n\n            if (this.updateCover){\n                toUpdate.cover = this.state.item.cover;\n                toUpdate.cover_path = this.state.item.cover_path;\n            }\n\n            CollectionsActions.updateCollection({\n                item: toUpdate\n            }, function (cId) {\n                if (cId > 0) {\n                    _this.handleCollectionSave(cId);\n                }else\n                    _this.setState({loading:false});\n            });\n        }\n\n        this.setState({loading: true});\n    },\n\n    handleRemoveCollection: function(e) {\n        e.preventDefault();\n        var _this = this, lastId = this.state.item._id;\n\n        CollectionsActions.removeCollection({\n            item: this.state.item\n        }, function(result){\n            if (result){\n                if (CollectionsStore.getCurrentId() == lastId){\n                    window.location.hash=\"#/?reset=true&d=\"+new Date().getTime();\n                    //this.props.router.transitionTo('app', {}, {reset: \"true\"});\n                }\n\n                Pop.close();\n            }\n        });\n    },\n\n    setCover: function(cover, cover_path) {\n        this.updateCover = true;\n        this.state.item.cover = [cover];\n        this.state.item.cover_path = cover_path;\n        this.setState({item: this.state.item, step: \"form\"});\n    },\n\n    handleChangeView: function(e) {\n        e.preventDefault();\n\n        this.state.item.view = e.target.getAttribute(\"data-view\");\n        this.setState({item: this.state.item});\n\n        if (CollectionsStore.getCurrentId() == this.state.item._id)\n        //if (this.state.collection.view != this.state.item.view) {\n            BookmarksActions.clearSelect();\n\n            CollectionsActions.updateCollection({\n                item: {_id: this.state.item._id, view: this.state.item.view},\n                silent: true\n            });\n        //}\n    },\n\n    handleClose: function(e) {\n        e.preventDefault();\n        Pop.close();\n    },\n\n    handleRSS: function(e) {\n        var link = consts.host + \"/collection/\" + this.state.item._id + \"/feed\";\n        if (e.target.value==\"private\"){\n            link = consts.host + \"/feed/\" + this.state.item.uniqKey;\n        }\n        window.open(link);\n    },\n\n    handleSubFolder: function(e) {\n        e.preventDefault();\n        Pop.close();\n        Pop.show(\"collection\", {\n            parentId: this.state.item._id,\n            pin: this.props.pin,\n            force: this.props.force\n        })\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n        if (this.state.disableNested)\n            return (\n                React.createElement(\"div\", {className: (this.props.isSubContent ? \"pop-sub-content\":\"pop-content\")}, \n                    React.createElement(Upgrade, {view: \"list\", force: \"true\", title: t.s(\"createSubFolder\"), excerpt: t.s(\"onlyInPro\") + \". \" + t.s(\"footerProAd\") + \" \" +t.s(\"footerProAdD\")}), \n\n                    React.createElement(\"footer\", null, \n                        React.createElement(\"a\", {href: consts.proPage, target: \"_blank\", className: \"but accent pull-right\"}, t.s(\"goToPRO\")), \n                        React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, t.s(\"cancel\")), \n\n                        removeCollection\n                    )\n                )\n            );\n\n        var loading = this.state.loading;\n\n        if (!loading){\n            //Change collection\n            if (this.state.step == \"parent\"){\n                return (\n                    React.createElement(\"div\", {className: \"pop-content\"}, \n                    React.createElement(\"div\", {className: \"pop-sticky-header\"}, \n                        React.createElement(\"div\", {className: \"sticky-header\"}, \n                            React.createElement(\"header\", null, \n                                React.createElement(\"div\", {className: \"actions\"}, \n                                    React.createElement(\"a\", {href: \"\", className: \"but default onlyicons\", onClick: this.goToForm}, React.createElement(Icon, {name: \"back\", size: \"mac\"}))\n                                ), \n                                React.createElement(\"div\", {className: \"max title center\"}, \n                                    t.s(\"parent\")\n                                ), \n                                React.createElement(\"div\", {className: \"actions\"})\n                            )\n                        ), \n\n                        React.createElement(CollectionsList, {\n                            skipCollection: this.state.item._id, \n                            activeCollection: this.state.item.parentId, \n                            activeGroup: this.state.item.group, \n                            onSelectCollection: this.handleChangeCollection, \n                            onSelectGroup: this.handleChangeGroup, \n                            onCancel: this.goToForm})\n                    )\n                    )\n                );\n            }\n\n            //Change icons\n            if (this.state.step == \"icons\"){\n                return React.createElement(CollectionIcon, {\n                                    collection: this.state.item, \n                                    goToForm: this.goToForm, \n                                    onUpdate: this.props.onUpdate, \n                                    setCover: this.setCover});\n            }\n\n            //Sharing\n            if (this.state.step == \"sharing\"){\n                return React.createElement(CollectionSharing, {\n                                    collection: this.state.item, \n                                    goToForm: this.goToForm, \n                                    onUpdate: this.props.onUpdate});\n            }\n        }\n        \n\n        var parent = null, parentLabel = \"\", cover = null;\n\n        if (typeof this.state.item.parentId == 'number') {\n            parent = CollectionsStore.getCollection(this.state.item.parentId);\n            parentLabel = t.s(\"collection\");\n            if (parent == null) {\n                CollectionsStore.onLoadId(this.state.item.parentId);\n            }else{\n                cover = \"https://raindrop.io/other/popup/img/icon-folder.png\";\n                try{cover = network.fixURL(parent.cover[0]);}catch(e){}\n                cover = React.createElement(\"img\", {src: cover, alt: \"\", className: \"small-icon\"});\n            }\n        }else if (typeof this.state.item.group == 'number') {\n            try{\n              parent = {\n                  isGroup: true,\n                  title: UserStore.getUser().groups[this.state.item.group].title\n              };\n            }catch(e){}\n            parentLabel = t.s(\"group\");\n            cover = React.createElement(Icon, {name: \"group\", size: \"mac\", className: \"content-icon\"});\n        }\n\n        if (parent==null){\n            parent = {\n                title: \"\"\n            }\n        }\n\n        var collectionCover = consts.defaultCollectionIcon();\n        try{collectionCover = network.fixURL(this.state.item.cover[0]);}catch(e){}\n\n        var removeCollection = null;\n        if (this.state.item._id>0)\n            removeCollection = React.createElement(\"a\", {href: \"\", className: \"but \", onClick: this.handleRemoveCollection}, t.s(\"remove\"));\n\n        var viewDesc = \"\";\n        switch(this.state.item.view){\n            case \"grid\":\n                viewDesc = t.s(\"visualBookmarks\");\n            break;\n\n            case \"masonry\":\n                viewDesc = t.s(\"visualBookmarks\") + \" (Moodboard)\";\n            break;\n\n            case \"simple\":\n                viewDesc = t.s(\"icon\") + \", \" + t.s(\"title\").toLowerCase() + \" \" + t.s(\"und\") + \" \" + t.s(\"tags\").toLowerCase();\n            break;\n\n            default:\n                viewDesc = t.s(\"cover\") + \", \" + t.s(\"title\").toLowerCase() + \", \" + t.s(\"description\").toLowerCase() + \" \" + t.s(\"und\") + \" \" + t.s(\"tags\").toLowerCase();\n            break;\n        }\n\n        return (\n        React.createElement(\"div\", null, \n            React.createElement(\"div\", {className: (this.props.isSubContent ? \"pop-sub-content\":\"pop-content\")+\" \"+(loading ? \"invisible\" : null)}, \n                React.createElement(\"form\", {onSubmit: this.handleSave}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"div\", {className: \"max title\", style: {marginRight:0}}, \n                            React.createElement(\"input\", {type: \"text\", className: \"important\", required: true, autoFocus: true, valueLink: {value: this.state.item.title, requestChange: this.handleTitleChange}, ref: \"title\"}), \n                            \n                            React.createElement(\"div\", {className: \"sublinks\" + (this.state.item._id <= 0 ? \" hidden\" : \"\")}, \n                                React.createElement(\"a\", {href: consts.host+\"/collection/\"+this.state.item._id, target: \"_blank\", className: \"but \" + (this.state.item.public ? \"\" : \"hidden\")}, React.createElement(Icon, {name: \"link\", size: \"mac\"}), \" \", t.s(\"link\")), \n\n                                React.createElement(\"label\", {className: \"but select\"}, \n                                    React.createElement(Icon, {name: \"rss\", size: \"mac\"}), \" RSS\", \n\n                                    React.createElement(\"select\", {value: \"-1\", onChange: this.handleRSS}, \n                                        this.state.item.public ? React.createElement(\"option\", {value: \"public\"}, t.s(\"publicRSSfeed\")) : null, \n                                        React.createElement(\"option\", {value: \"private\"}, t.s(\"privateRSSfeed\")), \n                                        React.createElement(\"option\", {value: \"-1\", disabled: true}, t.s('feedWarning'))\n                                    )\n                                )\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"cover\", onClick: this.handleOpenIcons}, \n                            React.createElement(\"img\", {src: collectionCover, alt: \"\", className: \"cover-img cover-small\"})\n                        )\n                    ), \n\n                    React.createElement(\"div\", {className: \"entries\"}, \n                        React.createElement(\"div\", {className: \"row\"}, \n                            React.createElement(\"div\", {className: \"title\"}, parentLabel), \n                            React.createElement(\"div\", {className: \"content\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"block-link\", onClick: this.handleOpenCollectionsList}, cover, parent.title)\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"row\" + (this.state.item._id <= 0 ? \" hidden\" : \"\")}, \n                            React.createElement(\"div\", {className: \"title wrap-text\"}, t.s(\"sharing\")), \n                            React.createElement(\"div\", {className: \"content\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"block-link\", onClick: this.handleOpenSharing}, React.createElement(Icon, {name: this.state.item.public ? \"link\" : \"lock\", size: \"mac\", className: \"content-icon\"}), t.s((this.state.item.public ? \"accessViaLink\" : \"privateD\")), \" \", this.state.collaboratorsText), \n                                React.createElement(\"br\", null)\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"row\"}, \n                            React.createElement(\"div\", {className: \"title \", style: {paddingTop:\"10px\"}}, t.s(\"view\")), \n                            React.createElement(\"div\", {className: \"content max\"}, \n                                React.createElement(\"div\", {className: \"stag\"}, \n                                    React.createElement(\"a\", {href: \"\", className: this.state.item.view == \"list\" ? \"active\" : null, \"data-view\": \"list\", onClick: this.handleChangeView}, React.createElement(Icon, {name: \"list\", size: \"mac\"})), \n                                    React.createElement(\"a\", {href: \"\", className: this.state.item.view == \"grid\" ? \"active\" : null, \"data-view\": \"grid\", onClick: this.handleChangeView}, React.createElement(Icon, {name: \"grid\", size: \"mac\"})), \n                                    React.createElement(\"a\", {href: \"\", className: this.state.item.view == \"simple\" ? \"active\" : null, \"data-view\": \"simple\", onClick: this.handleChangeView}, React.createElement(Icon, {name: \"simple\", size: \"mac\"})), \n                                    React.createElement(\"a\", {href: \"\", className: this.state.item.view == \"masonry\" ? \"active\" : null, \"data-view\": \"masonry\", onClick: this.handleChangeView}, React.createElement(Icon, {name: \"masonry\", size: \"mac\"}))\n                                ), \n\n                                React.createElement(\"div\", {className: \"subinfo\", style: {marginTop:\"8px\"}}, viewDesc)\n                            )\n                        )\n                    ), \n\n                    React.createElement(\"div\", {className: \"nice-action\" + (!this.state.item.author || this.state.item._id <= 0 ? \" hidden\" : \"\")}, \n                        React.createElement(\"a\", {href: \"\", className: \"block-link\", onClick: this.handleSubFolder}, React.createElement(Icon, {name: \"folder-add\", size: \"mac\", className: \"content-icon\"}), t.s(\"createSubFolder\"))\n                    ), \n\n                    React.createElement(\"footer\", null, \n                        React.createElement(\"input\", {type: \"submit\", className: \"but accent pull-right \"+((!this.state.item.author || this.state.item._id<0) && !this.state.item.blank  ? \"hidden\" : \"\"), value: this.state.item._id > 0 ? t.s(\"save\") : t.s(\"createNewCollection\")}), \n                        React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, t.s(\"cancel\")), \n\n                        removeCollection\n                    )\n                )\n            ), \n\n            React.createElement(\"div\", {className: \"pop-loader \"+(loading ? null : \"hidden\")})\n        ));\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../actions/Collections\":4,\"../../../actions/Parents\":7,\"../../../stores/Collections\":115,\"../Bookmarks/Upgrade\":23,\"../Forms/CollectionsList\":36,\"./Collection/Icon\":66,\"./Collection/Sharing\":67,\"react-textarea-autosize\":\"react-textarea-autosize\"}],66:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CoverSelector = require(\"../../Helpers/CoverSelector\");\n\nmodule.exports = React.createClass({\n    displayName: \"Collection/Icon\",\n\n    scrolled: false,\n\n    getInitialState: function() {\n        return {\n            icons: [],\n            selected: -1,\n            theme: 0,\n            path: \"\",\n            collection: this.props.collection,\n            step: false\n        }\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({\n            collection: nextProps.collection\n        });\n    },\n\n    componentDidMount: function() {\n        var _this = this;\n\n        var temp = null, path = \"\";\n        try{temp = JSON.parse(Api.getItem(\"coverTemplates\")); path = Api.getItem(\"coverTemplatesPath\");} catch(e) {}\n        if ((temp) && (this.state.icons.length == 0)) {\n            this.state.icons = temp;\n            var f = _this.findSelected();\n            this.setState({icons: this.state.icons, path: path, theme: f.theme, selected: f.selected});\n        }\n\n        Api.get(\"coverTemplates\", function(json){\n            var items = [];\n            items.push({\n                name: \"defaults\",\n                items: json.items\n            });\n\n            for(var i in json.pro)\n                items.push({\n                    name: i,\n                    items: json.pro[i]\n                });\n\n            _this.state.icons = items;\n            var f = _this.findSelected();\n\n            Api.setItem(\"coverTemplates\", JSON.stringify(items));\n            Api.setItem(\"coverTemplatesPath\", json.path);\n            _this.setState({icons: items, path: json.path, theme: f.theme, selected: f.selected});\n        });\n    },\n\n    findSelected: function() {\n        var selected = -1, theme = 0, _this = this;\n        this.state.icons.forEach(function(t,ti){\n            t.items.forEach(function(icn,ii){\n                if (icn==(_this.state.collection.cover_path||-1)){\n                    selected = ii;\n                    theme = ti;\n                }\n            });\n        });\n\n        return {\n            selected: selected,\n            theme: theme\n        }\n    },\n\n    handleChangeIcon: function(index) {\n        var cover_path = this.state.icons[this.state.theme].items[index];\n\n        /*CollectionsActions.updateCollection({\n            item: {\n                _id: this.state.collection._id,\n                cover: [ this.state.path+cover_path+\".png\" ],\n                cover_path: cover_path\n            }\n        }, function (cId) {});*/\n        this.props.setCover(this.state.path+cover_path+\".png\", cover_path);\n\n        this.setState({collection: this.state.collection, selected: index});\n    },\n\n    handleChangeTheme: function(theme) {\n        var f = this.findSelected();\n        var selected = -1;\n        if (f.theme == theme)\n            selected = f.selected;\n\n        this.setState({theme: theme, selected: selected, step: false});\n    },\n\n    scrollToActive: function() {\n        if (this.scrolled) return;\n\n        var activeElem = document.getElementById(\"coveritem_\"+this.state.selected);\n\n        if (activeElem){\n            activeElem.scrollIntoView(false);\n            this.scrolled=true;\n        }\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n        this.scrollToActive();\n    },\n\n    handleThemes: function(e) {\n        e.preventDefault();\n        this.scrolled = false;\n        this.setState({step: !this.state.step});\n    },\n\n    render: function() {\n        var content = null, wrapClassName=\"\", _this = this;\n\n        var toolbar = React.createElement(\"div\", {className: \"mini-tab\"}, React.createElement(\"a\", {className: \"item\"}, React.createElement(\"img\", {src: \"about:blank\", style: {width:\"32px\",height:\"32px\"}, alt: \"\"})))\n\n        if (this.state.step){\n            var icons = this.state.icons.map(function(item, index){\n                return network.fixURL(_this.state.path+item.items[parseInt(item.items.length/2)]+\".png\");\n            });\n\n            content = React.createElement(CoverSelector, {items: icons, selected: this.state.theme, onSelect: this.handleChangeTheme, imageSize: \"64px 64px\"});\n        }\n        else\n        if (this.state.path!=\"\"){\n            var icons = this.state.icons[this.state.theme].items.map(function(item, index){\n                return network.fixURL(_this.state.path+item+\".png\");\n            });\n\n            content = React.createElement(CoverSelector, {items: icons, selected: this.state.selected, onSelect: this.handleChangeIcon, imageSize: \"64px 64px\"});\n\n            //themes\n            var themes = this.state.icons.map(function(item,index){\n                return (\n                    React.createElement(\"a\", {href: \"\", className: \"item\"+(_this.state.theme==index?\" active\":\"\"), \"data-index\": index, onClick: _this.handleChangeTheme}, \n                        React.createElement(\"img\", {src: network.fixURL(_this.state.path+item.items[parseInt(item.items.length/2)]+\".png\"), style: {width:\"32px\",height:\"32px\"}, alt: \"\"})\n                    ));\n            });\n        }else{\n            content = React.createElement(\"div\", {className: \"centered-content\"}, React.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null)));\n        }\n\n        return (\n            React.createElement(\"div\", {className: \"pop-content\"}, \n                React.createElement(\"div\", {className: \"pop-sticky-header\"}, \n                    React.createElement(\"div\", {className: \"sticky-header\"}, \n                        React.createElement(\"header\", null, \n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"but default onlyicons\", onClick: this.props.goToForm}, React.createElement(Icon, {name: \"back\", size: \"mac\"}))\n                            ), \n                            React.createElement(\"div\", {className: \"max title center\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"but \"+(this.state.step ? \"active\" : \"\"), onClick: this.handleThemes}, t.s(\"selectAIconSet\"), \" \", React.createElement(Icon, {name: \"arrow-down\", size: \"small\"}))\n                            ), \n                            React.createElement(\"div\", {className: \"actions\"})\n                        )\n                    ), \n\n                    content\n                )\n            )\n        );\n    }\n});\n\n},{\"../../Helpers/CoverSelector\":41}],67:[function(require,module,exports){\nvar CollectionsActions = require('../../../../actions/Collections');\nvar Avatar = require(\"../../Helpers/Avatar\");\n\nvar _roles = [\n    {\n        key: \"owner\",\n        value: t.s(\"role_owner\")\n    },\n    {\n        key: \"member\",\n        value: t.s(\"role_member\")\n    },\n    {\n        key: \"viewer\",\n        value: t.s(\"role_viewer\")\n    }\n];\n\nmodule.exports = React.createClass({\n    displayName: \"Collection/Sharing\",\n\n    mixins: [strings.inputSelectAllMixin],\n\n    getInitialState: function() {\n        return {\n            collection: this.props.collection,\n            collaborators: [],\n            invite: {\n                emails: \"\",\n                role: \"member\",\n                loading: false\n            }\n        }\n    },\n\n    componentDidMount: function() {\n        this.loadCollaborators();\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.state.collection = nextProps.collection;\n        this.loadCollaborators();\n\n        this.setState({\n            collection: nextProps.collection\n        });\n    },\n\n    loadCollaborators: function(force) {\n        var _this = this, link = \"collection/\"+this.state.collection._id+\"/collaborators\";\n\n        //frome cache\n        if (this.state.collaborators.length==0){\n            var temp = null;\n            try{temp = JSON.parse(Api.getItem(link));} catch(e) {}\n            if (temp)\n                this.setState({collaborators: temp||[]});\n        }\n\n        if ((this.state.collaborators.length==0)||(typeof force != 'undefined'))\n            Api.get(link, function(json){\n                _this.setState({collaborators: json.items||[]});\n                Api.setItem(link, JSON.stringify(json.items||[]));\n            });\n    },\n\n    handleChangePublic: function(e) {\n        e.preventDefault();\n        this.state.collection.public = !this.state.collection.public;\n\n        CollectionsActions.updateCollection({\n            item: {\n                _id: this.state.collection._id,\n                public: this.state.collection.public\n            },\n            silent: true\n        }, function (cId) {});\n\n        this.setState({collection: this.state.collection});\n    },\n\n    handleChangeRole: function(e) {\n        var role = e.target.value,\n            userId = parseInt(e.target.getAttribute(\"data-userid\"));\n\n        var _this = this;\n        Api.put(\"collection/\"+this.state.collection._id+\"/role\", {accesslevel: role, userId: userId}, function(json){\n            if (json.result){\n                _this.loadCollaborators(true);\n                /*var index = _.findIndex(_this.state.collaborators, { userId: parseInt(params.userId) });\n                if (index!=-1)\n                    _this.state.collaborators[index].role = role;\n                    _this.setState({collaborators: _this.state.collaborators});*/\n            }\n        });\n    },\n\n    handleRemoveRole: function(e) {\n        e.preventDefault();\n        this.handleChangeRole(\"\", {userId: e.target.getAttribute(\"data-userid\")});\n    },\n\n    handleUnshareCollection: function(e) {\n        e.preventDefault();\n\n        var _this = this;\n        Api.put(\"collection/\"+this.state.collection._id+\"/unshare\", {}, function(json){\n            //if (json.result){\n                Toasts.show({text: t.s(\"unshareSuccess\"), title: _this.state.collection.title});\n                _this.loadCollaborators(true);\n            //}\n        });\n    },\n\n    handleEmailsChange: function(value) {\n        this.state.invite.emails = value;\n        this.setState({invite: this.state.invite});\n    },\n\n    handleChangeInviteRole: function(e) {\n        this.state.invite.role = e.target.value;\n        this.setState({invite: this.state.invite});\n    },\n\n    handleSendInvites: function(e) {\n        e.preventDefault();\n        var _this = this;\n\n        this.state.invite.loading = true;\n        this.setState({invite: this.state.invite});\n\n        Api.get(\"collection/\"+this.state.collection._id+\"/invite?emails=\"+this.state.invite.emails+\"&accesslevel=\"+this.state.invite.role, function(json){\n            if (json.result){\n                _this.state.invite.emails = \"\";\n\n                Toasts.show({title: t.s(\"invitesSendTo\"), text: json.emails.join(\", \") });\n            }else{\n                Toasts.show({text: t.s(\"error\"), status: \"error\"});\n            }\n\n            _this.state.invite.loading = false;\n            _this.setState({invite: _this.state.invite});\n        });\n    },\n\n    renderMember: function(item,first) {\n        var actions = t.s(\"role_\"+item.role);\n        if (item.role!=\"owner\" && this.state.collection.author)\n            actions = (\n                React.createElement(\"label\", {className: \"but select default onlyicons\"}, \n                    React.createElement(Icon, {name: \"settings\", size: \"mac\"}), \n                    React.createElement(Icon, {name: \"arrow-down\", size: \"small\"}), \n\n                    React.createElement(\"select\", {value: item.role, \"data-userid\": item._id, onChange: this.handleChangeRole}, \n                        React.createElement(\"optgroup\", {label: t.s(\"withAccessLevel\")}, \n                            item.role==\"owner\" ? React.createElement(\"option\", {value: \"owner\"}, t.s(\"role_owner\")) : null, \n                            React.createElement(\"option\", {value: \"member\"}, t.s(\"role_member\")), \n                            React.createElement(\"option\", {value: \"viewer\"}, t.s(\"role_viewer\"))\n                        ), \n\n                        React.createElement(\"optgroup\", {label: \"\"}, \n                            React.createElement(\"option\", {value: \"\"}, t.s(\"remove\"))\n                        )\n                    )\n                )\n            );\n\n        return (\n            React.createElement(\"div\", {className: \"item \"+(first?\"first\":\"\")}, \n                React.createElement(\"div\", {className: \"icon\"}, \n                    React.createElement(Avatar, {src: item.email_MD5, size: \"64\"})\n                ), \n\n                React.createElement(\"div\", {className: \"title\"}, \n                    item.fullName, \n                    React.createElement(\"input\", {type: \"text\", value: item.email, readonly: true, onFocus: this.handleSelectAll, onMouseUp: this.handleSelectAll})\n                ), \n\n                React.createElement(\"div\", {className: \"actions\"}, \n                    actions\n                )\n            )\n        );\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n        var _this = this, collaborators = [], members = [], viewers = [];\n\n        members = this.state.collaborators.filter(function(item){\n            return ((item.role == \"owner\")||(item.role == \"member\"));\n        });\n\n        viewers = this.state.collaborators.filter(function(item){\n            return (item.role == \"viewer\");\n        });\n\n        //Members\n        if (members.length>0){\n            collaborators.push(React.createElement(\"div\", {className: \"separator\"}, t.s(\"role_members\")));\n            members.forEach(function(item,index) {collaborators.push(_this.renderMember(item, index==0));});\n        }\n\n        //Viewers\n        if (viewers.length>0){\n            collaborators.push(React.createElement(\"div\", {className: \"separator\"}, t.s(\"role_viewer\")));\n            viewers.forEach(function(item,index) {collaborators.push(_this.renderMember(item, index==0));});\n        }\n\n        //Unshare button\n        var unshare = null;\n        if (this.state.collection.user[\"$id\"] == UserStore.getUser()._id)\n            unshare = React.createElement(\"a\", {href: \"\", className: \"but\", onClick: this.handleUnshareCollection}, t.s(\"unshareCollection\"));\n\n        //Invite\n        var invite = null;\n        if (this.state.invite.emails.trim()!=\"\") {\n            unshare = null;\n\n            if (!this.state.invite.loading)\n                invite = React.createElement(\"a\", {href: \"\", className: \"but accent pull-right\", onClick: this.handleSendInvites}, t.s(\"sendInvites\"));\n            else\n                invite = React.createElement(\"div\", {className: \"pull-right\"}, t.s(\"loading\"));\n        }\n\n    \treturn (\n    \t\tReact.createElement(\"div\", {className: \"pop-content\"}, \n                React.createElement(\"div\", {className: \"pop-sticky-header\"}, \n                    React.createElement(\"div\", {className: \"sticky-header\"}, \n                        React.createElement(\"header\", null, \n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"a\", {href: \"\", className: \"but default onlyicons\", onClick: this.props.goToForm}, React.createElement(Icon, {name: \"back\", size: \"mac\"}))\n                            ), \n                            React.createElement(\"div\", {className: \"max title center\"}, \n                                t.s(\"sharing\")\n                            ), \n                            React.createElement(\"div\", {className: \"actions\"})\n                        )\n                    ), \n\n                    React.createElement(\"div\", {className: \"list\"}, \n                        React.createElement(\"div\", {className: \"item first\"}, \n                            React.createElement(\"div\", {className: \"icon\"}, \n                                React.createElement(\"div\", {className: \"icon-link\"}, React.createElement(Icon, {name: \"link\", size: \"mac\"}))\n                            ), \n\n                            React.createElement(\"div\", {className: \"title\"}, \n                                t.s(\"accessViaLink\"), \n                                React.createElement(\"input\", {type: \"text\", className: this.state.collection.public ? \"\" : \"hidden\", readOnly: true, autoFocus: true, value: network.fixURL(\"/collection/\"+this.state.collection._id||\"\"), onFocus: this.handleSelectAll, onMouseUp: this.handleSelectAll})\n                            ), \n\n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"div\", {onClick: this.handleChangePublic, className: \"extra-checkbox\"+(this.state.collection.public?\" active\":\"\")})\n                            )\n                        ), \n\n                        collaborators, \n\n\n                        React.createElement(\"div\", {className: \"separator\"}, t.s(\"inviteMorePeople\")), \n\n                        React.createElement(\"div\", {className: \"item first\"}, \n                            React.createElement(\"div\", {className: \"icon\"}, \n                                React.createElement(Icon, {name: \"add-box-clean\", size: \"mac\", className: \"icn-blue\"})\n                            ), \n\n                            React.createElement(\"div\", {className: \"title\"}, \n                                React.createElement(\"textarea\", {placeholder: t.s(\"enterEmails\"), disabled: this.state.invite.loading, valueLink: {value: this.state.invite.emails, requestChange: this.handleEmailsChange}})\n                            )\n                        ), \n\n                        React.createElement(\"div\", {className: \"item \" + (!invite ? \"hidden\" : null)}, \n                            React.createElement(\"div\", {className: \"icon\"}, \n                                React.createElement(Icon, {name: \"lock\", size: \"mac\", className: \"icn-blue\"})\n                            ), \n\n                            React.createElement(\"div\", {className: \"title\"}, \n                                \"\"\n                            ), \n\n                            React.createElement(\"div\", {className: \"actions\"}, \n                                React.createElement(\"label\", {className: \"but select default\"}, \n                                    t.s(\"role_\"+this.state.invite.role), \n                                    React.createElement(Icon, {name: \"arrow-down\", size: \"small\"}), \n\n                                    React.createElement(\"select\", {value: this.state.invite.role, onChange: this.handleChangeInviteRole}, \n                                        React.createElement(\"optgroup\", {label: t.s(\"withAccessLevel\")}, \n                                            React.createElement(\"option\", {value: \"member\"}, t.s(\"role_member\")), \n                                            React.createElement(\"option\", {value: \"viewer\"}, t.s(\"role_viewer\"))\n                                        )\n                                    )\n                                )\n                            )\n                        ), \n\n                        React.createElement(\"footer\", {className: !invite && !unshare ? \"hidden\" : null}, \n                            invite, \n                            unshare\n                        )\n                    )\n                )\n            )\n    \t);\n    }\n});\n\n},{\"../../../../actions/Collections\":4,\"../../Helpers/Avatar\":37}],68:[function(require,module,exports){\nvar URL = require(\"./URL\"),\n\tCollection = require(\"./Collection\"),\n    File = require(\"./File\");\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/Fab\",\n\n    getInitialState: function() {\n    \tvar tab = parseInt(this.props.tab || Api.getItem(\"fab-modal-tab\") || 1);\n    \tif (this.props.onlyURL){\n    \t\ttab = 1;\n    \t}\n\n    \treturn {\n    \t\ttab: tab,\n    \t\thideTabs: (this.props.onlyURL ? true : false)\n    \t}\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    handleChangeTab: function(e) {\n        e.preventDefault();\n        var tab = parseInt(e.target.getAttribute(\"data-tab\"));\n        this.setState({tab: tab});\n\n        Api.setItem(\"fab-modal-tab\", tab);\n    },\n\n    render: function() {\n    \tvar Component = URL;\n    \tswitch(this.state.tab) {\n    \t\tcase 2: Component = Collection; break;\n            case 3: Component = File; break;\n    \t}\n\n    \tvar tabs = null;\n    \tif (!this.state.hideTabs)\n    \t\ttabs = (\n    \t\t\tReact.createElement(\"div\", {className: \"simple-tab\"}, \n    \t\t\t\tReact.createElement(\"a\", {href: \"\", \"data-tab\": \"1\", className: \"item \"+(this.state.tab==1?\"active\":\"\"), onClick: this.handleChangeTab}, \"URL\"), \n    \t\t\t\tReact.createElement(\"a\", {href: \"\", \"data-tab\": \"2\", className: \"item \"+(this.state.tab==2?\"active\":\"\"), onClick: this.handleChangeTab}, t.s(\"nestedCollections\")), \n                    React.createElement(\"a\", {href: \"\", \"data-tab\": \"3\", className: \"item \"+(this.state.tab==3?\"active\":\"\"), onClick: this.handleChangeTab}, \"File\")\n                )\n    \t\t);\n\n    \treturn (React.createElement(\"div\", null, \n    \t\tReact.createElement(\"div\", {className: \"pop-content\"}, \n    \t\t\ttabs, \n    \t\t\tReact.createElement(Component, React.__spread({},  this.props, {isSubContent: true}))\n    \t\t)\n    \t));\n    }\n});\n\n},{\"./Collection\":65,\"./File\":69,\"./URL\":73}],69:[function(require,module,exports){\nvar FileLimit = require(\"../Helpers/FileLimit\");\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/File\",\n\n    handleFile: function(e) {\n        var clean = dropfiles.validateFiles(React.findDOMNode(this.refs.file).files);\n        window.dropFiles({files: clean});\n\n        if (clean.length>0)\n            Pop.close();\n    },\n\n    handleClose: function(e) {\n        if (e) if (typeof e.preventDefault != \"undefined\") e.preventDefault();\n        Pop.close();\n    },\n\n    componentDidMount: function() {\n        window.addEventListener(\"fileDropped\", this.handleClose, true);\n    },\n\n    componentWillUnmount: function() {\n        window.removeEventListener(\"fileDropped\", this.handleClose, true);\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n    \treturn (\n            React.createElement(\"div\", {className: (this.props.isSubContent ? \"pop-sub-content\":\"pop-content\")}, \n        \t\tReact.createElement(\"form\", {style: {position:\"relative\"}}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"div\", {className: \"max title\"}, \n                            React.createElement(\"div\", null, t.s(\"select\")+\" \"+t.s(\"dropFilesHere\").toLowerCase()), \n                            React.createElement(\"div\", {style: {marginTop: \"2px\", opacity: .7, fontSize: \"13px\"}}, dropfiles.getHumanAcceptString())\n                        )\n                    ), \n\n                    React.createElement(\"div\", {className: \"entries\"}, \n                        React.createElement(\"div\", {className: \"row \"}, \n                            React.createElement(\"div\", {className: \"title\"}, \"Used\"), \n                            React.createElement(\"div\", {className: \"content max\"}, \n                                React.createElement(FileLimit, {style: {marginTop: \"-4px\"}})\n                            )\n                        )\n                    ), \n\n        \t\t\tReact.createElement(\"footer\", null, \n                        React.createElement(\"label\", {className: \"file-block but accent pull-right\"}, \n                            t.s(\"select\"), \n                            React.createElement(\"input\", {type: \"file\", multiple: \"multiple\", accept: dropfiles.getAcceptString(), placeholder: \"\", ref: \"file\", onChange: this.handleFile})\n                        ), \n                        React.createElement(\"a\", {href: \"\", className: \"but default pull-right\", onClick: this.handleClose}, t.s(\"cancel\"))\n                    )\n        \t\t)\n            )\n    \t);\n    }\n});\n\n},{\"../Helpers/FileLimit\":43}],70:[function(require,module,exports){\n/** @jsx React.DOM */\nvar UserActions = require('../../../actions/User');\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/Group\",\n\n    getInitialState: function() {\n        return {\n            step: \"form\",\n            id: this.props.id,\n            item: {\n                title: t.s(\"newString\")+\" \"+t.s(\"group\").toLowerCase()\n            }\n        };\n    },\n\n    componentWillMount: function() {\n        if (this.state.id!=-1){\n            this.state.item.title = UserStore.getGroup(this.state.id).title;\n        }\n    },\n\n    componentDidMount: function() {\n        this.focusMainInput();\n    },\n\n    focusMainInput: function() {\n        var _this = this;\n        setTimeout(function() {\n            var input = React.findDOMNode(_this.refs.title);\n            if (input){\n                input.focus();\n                if (_this.state.id==-1)\n                    input.setSelectionRange(0, input.value.length);\n                else\n                    input.setSelectionRange(input.value.length, input.value.length);\n            }\n        }, 0);\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        this.setState({id: nextProps.id});\n    },\n\n    handleTitleChange: function(value) {\n        this.state.item.title = value;\n        this.setState({item: this.state.item});\n    },\n\n    handleSave: function(e){\n        e.preventDefault();\n\n        if (this.state.id==-1){\n            UserActions.insertGroup({item: this.state.item}, function(result) {\n              if (result)\n                window.location.reload();\n            });\n        }else{\n            UserActions.updateGroup({item: this.state.item, id: this.state.id});\n        }\n\n        Pop.close();\n    },\n\n    handleRemoveGroup: function(e) {\n        e.preventDefault();\n\n        UserActions.removeGroup({id: this.state.id});\n        Pop.close()\n    },\n\n    handleClose: function(e) {\n        e.preventDefault();\n        Pop.close();\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n        var removeGroup = null;\n        if (this.state.id!=-1)\n            removeGroup = React.createElement(\"a\", {href: \"\", className: \"but\", onClick: this.handleRemoveGroup}, t.s(\"remove\"));\n\n        return (\n            React.createElement(\"div\", {className: \"pop-content\"}, \n                React.createElement(\"form\", {onSubmit: this.handleSave}, \n                    React.createElement(\"header\", null, \n                        React.createElement(\"div\", {className: \"max title\"}, \n                            React.createElement(\"input\", {type: \"text\", className: \"important\", required: true, autoFocus: true, valueLink: {value: this.state.item.title, requestChange: this.handleTitleChange}, ref: \"title\"})\n                        )\n                    ), \n\n                    React.createElement(\"footer\", null, \n                        React.createElement(\"input\", {type: \"submit\", className: \"but accent pull-right\", value: this.state.id > 0 ? t.s(\"save\") : t.s(\"create\")}), \n                        React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, t.s(\"cancel\")), \n\n                        removeGroup\n                    )\n                )\n            )\n        );\n    }\n});\n\n},{\"../../../actions/User\":14}],71:[function(require,module,exports){\nvar PopStore = require('../../../stores/Pop');\nvar gap = 10;\nvar updateTimeout = null,\n    attached = false;\nvar OverflowScroll = require(\"../Helpers/OverflowScroll\");\n\nif ((window.environment||[]).indexOf(\"clipper\")!=-1)\n    gap = 0;\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/Pop\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tparams: PopStore.getParams()\n\t\t}\n\t},\n\n\tcomponentDidMount: function() {\n\t\tthis.unsubscribePop = PopStore.listen(this.onPopChange);\n\t\twindow.addEventListener(\"resize\", this.afterComponentsUpdate);\n        window.addEventListener(\"scroll\", this.afterComponentsUpdate);\n        window.addEventListener(\"wheel\", this.afterComponentsUpdate);\n\t},\n\n\tcomponentWillUnmount: function() {\n        this.unsubscribePop();\n        window.removeEventListener(\"resize\", this.afterComponentsUpdate);\n        window.removeEventListener(\"scroll\", this.afterComponentsUpdate);\n        window.removeEventListener(\"wheel\", this.afterComponentsUpdate);\n    },\n\n    onPopChange: function(params) {\n    \tvar _this = this;\n\n    \tif (params == false){\n    \t\t//document.body.classList.add(\"pop-mode-will-close\");\n    \t\t//setTimeout(function(){\n    \t\t\t_this.setState({params: params});\n    \t\t//\tdocument.body.classList.remove(\"pop-mode-will-close\");\n    \t\t//},200);\n    \t}else\n    \t\tthis.setState({params: params});\n    },\n\n    afterComponentsUpdate: function() {\n        this.updatePosition();\n    \t//clearTimeout(updateTimeout);\n    \t//updateTimeout = setTimeout(this.updatePosition, 0);\n    },\n\n    updatePosition: function() {\n    \tvar body = React.findDOMNode(this.refs.body);\n    \tif (!body) return;\n\n\n    \tvar positions = [],\n            points = {},\n    \t\thavePlace = ((body.offsetWidth < window.innerWidth)&&(body.offsetHeight < window.innerHeight)),\n    \t\tpinVisible = false,\n    \t\tdir = \"\";\n\n    \tvar pin = document.getElementById(this.state.params.pin);\n\n    \t//Possible positions\n    \tif (pin){\n    \t\tvar rect = pin.getBoundingClientRect();\n    \t\tpinVisible = (((window.innerHeight + window.pageYOffset) > (rect.top+window.scrollY)) && ((window.pageYOffset - window.innerHeight) < (rect.top + window.scrollY + pin.offsetHeight) ));\n    \t\n    \t\tif ((body.offsetHeight < rect.top)&&(havePlace)&&(pinVisible)){\n                points.top = rect.top;\n\t    \t\tpositions.push(\"top\");\n            }\n\n\t    \tif ((body.offsetWidth < rect.left)&&(havePlace)&&(pinVisible)){\n                points.left = rect.left;\n\t    \t\tpositions.push(\"left\");\n            }\n\n\t    \tif (((rect.left + pin.offsetWidth + body.offsetWidth) < window.innerWidth)&&(havePlace)&&(pinVisible)){\n                points.right = window.innerWidth - (rect.left + pin.offsetWidth);\n\t    \t\tpositions.push(\"right\");\n            }\n\n\t    \tif (((rect.top + pin.offsetHeight + body.offsetHeight) < window.innerHeight)&&(havePlace)&&(pinVisible)){\n                points.bottom = window.innerHeight - (rect.top + pin.offsetHeight);\n\t    \t\tpositions.push(\"bottom\");\n            }\n    \t}\n\n    \tif ((havePlace)/*&&(pinVisible)*/) {\n    \t\tpositions.push(\"center\");\n            points.center = 0;\n        }\n\n        var max = -1;\n\n        if (this.state.params.force == \"vertical\") {\n            if (points.bottom)\n                points.bottom+=10000;\n            else if (points.top)\n                points.top+=10000;\n        }\n\n        for(var i in points)\n            if (points[i]>max){\n                max = points[i];\n                dir = i;\n            }\n\n        /*if (dir==\"\"){\n            Pop.close();\n            return;\n        }*/\n\n    \t//Make magic\n    \t//body.removeAttribute(\"style\");\n    \tbody.setAttribute(\"data-dir\", dir);\n\n    \tswitch(dir) {\n    \t\tcase \"top\":\n    \t\t\tbody.style.bottom = parseInt(window.innerHeight - rect.top - gap)+\"px\";\n                body.style.top = \"\";\n    \t\tbreak;\n\n    \t\tcase \"bottom\":\n    \t\t\tbody.style.top = parseInt(rect.top + pin.offsetHeight - gap)+\"px\";\n                body.style.bottom = \"\";\n    \t\tbreak;\n\n    \t\tcase \"left\":\n    \t\t\tbody.style.right = parseInt(window.innerWidth - rect.left + gap)+\"px\";\n                body.style.left = \"\";\n    \t\tbreak;\n\n    \t\tcase \"right\":\n    \t\t\tbody.style.left = parseInt(rect.left + pin.offsetWidth - gap)+\"px\";\n                body.style.right = \"\";\n    \t\tbreak;\n\n    \t\tcase \"center\":\n    \t\t\tbody.style.left = parseInt((window.innerWidth / 2) - (body.offsetWidth/2))+\"px\";\n    \t\t\tbody.style.top = parseInt((window.innerHeight / 2) - (body.offsetHeight/2)) + \"px\";\n                body.style.right = \"\";\n                body.style.bottom = \"\";\n    \t\tbreak;\n\n    \t\tdefault:\n    \t\t\tbody.style.left = 0;\n    \t\t\tbody.style.top = 0;\n                body.style.right = \"\";\n                body.style.bottom = \"\";\n    \t\tbreak;\n    \t}\n\n    \tvar arrow = React.findDOMNode(this.refs.arrow);\n    \t//arrow.removeAttribute(\"style\");\n\n    \tswitch(dir) {\n    \t\tcase \"left\":\n    \t\tcase \"right\":\n    \t\t\tvar tempTop = parseInt(rect.top + (pin.offsetHeight/2) - (body.offsetHeight/2));\n    \t\t\tif ((tempTop+body.offsetHeight) > window.innerHeight)\n    \t\t\t\ttempTop = window.innerHeight - body.offsetHeight - gap;\n    \t\t\tif (tempTop<0) tempTop = gap;\n    \t\t\tbody.style.top = tempTop + \"px\";\n\n    \t\t\tarrow.style.top = parseInt( rect.top - tempTop + (pin.offsetHeight/2) + 5 )+\"px\";\n                arrow.style.left = \"\";\n    \t\tbreak;\n\n    \t\tcase \"top\":\n    \t\tcase \"bottom\":\n    \t\t\tvar tempLeft = parseInt(rect.left + (pin.offsetWidth/2) - (body.offsetWidth/2));\n    \t\t\tif ((tempLeft+body.offsetWidth) > window.innerWidth)\n    \t\t\t\ttempLeft = window.innerWidth - body.offsetWidth - gap;\n    \t\t\tif (tempLeft<0)\n    \t\t\t\ttempLeft = gap;\n    \t\t\tbody.style.left = tempLeft + \"px\";\n\n    \t\t\tarrow.style.left = parseInt(rect.left - tempLeft + (pin.offsetWidth/2))+\"px\";\n                arrow.style.top = \"\";\n    \t\tbreak;\n    \t}\n    },\n\n    componentDidUpdate: function() {\n    \tthis.afterComponentsUpdate();\n    \t//body.offsetWidth;\n    },\n\n    canCloseSmoothly: function() {\n        return true/*((this.state.params.name!=\"URL\")&&(this.state.params.name!=\"fab\"))*/;\n    },\n\n    handleBeyondClick: function(e) {\n        var body = React.findDOMNode(this.refs.body);\n        if (!body) return;\n\n        var rect = body.getBoundingClientRect();\n\n        var mouseOver = ((e.clientX > rect.left) && (e.clientX < (rect.left+body.offsetWidth)) && (e.clientY > rect.top) && (e.clientY < (rect.top+body.offsetHeight)));\n\n\t\t//if (e.target.id==\"pop-body-black\")\n        if (!mouseOver)\n            if (this.canCloseSmoothly())\n\t\t\t Pop.close();\n\t},\n\n    handleGlobalKeyPress: function(e) {\n        if (e.keyCode==27)\n            //if (this.canCloseSmoothly())\n                Pop.close();\n    },\n\n\trender: function() {\n\t\tif (!this.state.params){\n            //if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n                document.body.classList.remove(\"pop-mode\");\n            document.body.removeEventListener(\"mousedown\", this.handleBeyondClick);\n            document.removeEventListener(\"keyup\", this.handleGlobalKeyPress);\n\n            attached = false;\n\t\t\treturn null;\n\t\t}\n\n        var bodyBlack = null;\n        if (((window.environment||[]).indexOf(\"clipper\")!=-1)||(!this.canCloseSmoothly())) {\n            document.body.classList.add(\"pop-mode\");\n            bodyBlack = React.createElement(\"div\", {id: \"pop-body-black\", onMouseDown: this.handleBeyondClick});\n        }\n\n        if (!attached){\n            attached = true;\n            document.body.addEventListener(\"mousedown\", this.handleBeyondClick);\n            document.addEventListener(\"keyup\", this.handleGlobalKeyPress);\n        }\n\n\t\tvar Component = null;\n\t\tswitch(this.state.params.name){\n\t\t\tcase \"bookmark\": Component = require(\"./Bookmark\"); break;\n            case \"collection\": Component = require(\"./Collection\"); break;\n            case \"group\": Component = require(\"./Group\"); break;\n            case \"URL\": Component = require(\"./URL\"); break;\n            case \"fab\": Component = require(\"./Fab\"); break;\n            case \"saveas\": Component = require(\"./SaveAs\"); break;\n\t\t}\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {key: \"pop\"}, \n\t\t\t\tbodyBlack, \n\t\t\t\tReact.createElement(\"div\", {id: \"pop-body\", \"data-name\": this.state.params.name, ref: \"body\"}, \n\t\t\t\t\tReact.createElement(\"div\", {id: \"pop-arrow\", ref: \"arrow\"}), \n\t\t\t\t\tReact.createElement(OverflowScroll, null, \n\t\t\t\t\t\tComponent ? React.createElement(Component, React.__spread({},  this.state.params, {onUpdate: this.afterComponentsUpdate})) : null\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../../stores/Pop\":119,\"../Helpers/OverflowScroll\":46,\"./Bookmark\":63,\"./Collection\":65,\"./Fab\":68,\"./Group\":70,\"./SaveAs\":72,\"./URL\":73}],72:[function(require,module,exports){\nvar BookmarksActions = require('../../../actions/Bookmarks');\nvar CollectionsStore = require('../../../stores/Collections');\nvar ParentsStore = require('../../../stores/Parents');\nvar checking = false;\nvar canEdit = true;\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/SaveAs\",\n\n    getInitialState: function() {\n        return {\n            id: 0,\n            step: \"loading\"\n        }\n    },\n\n    onUserChange: function() {\n        this.checkURL();\n    },\n\n    onCollectionsChange: function() {\n        if (this.isMounted())this.setState({\n            id: this.state.id\n        });\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        this.checkURL();\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n        this.unsubscribeCollections();\n    },\n\n    checkURL: function() {\n        if (checking) return;\n        if (!UserStore.isLogged()) return;\n        if (this.state.step == \"edit\") return;\n\n        checking = true;\n\n        var _this = this;\n        var _query = this.props.query;\n        if (_query.url){\n            BookmarksActions.loadBookmark({url: _query.url, nohtml: true}, function(bookmark) {\n                if (bookmark){\n                    checking = false;\n                    _this.setState({step: \"edit\", id: bookmark._id, item: bookmark, already: true})\n                }\n                else\n                    BookmarksActions.parseURL({item: {url: _query.url}}, function(item){\n                        checking = false;\n\n                        if (item){\n                            item.collectionId = parseInt(Api.getItem(\"last_collection\")||0)||-1;\n\n                            BookmarksActions.insertBookmark({item: item, silent: true}, function(result){\n                                if (result){\n                                    _this.setState({step: \"edit\", id: result._id, item: item});\n                                }else{\n                                    Api.removeItem(\"last_collection\");\n                                    _this.setState({step: \"unsupported\"});\n                                }\n                            });\n                        }else{\n                            _this.setState({step: \"unsupported\"});\n                            Toasts.show({text: t.s('supportOnlyUrls'), step:\"error\"});\n                        }\n                    });\n            });\n        }\n    },\n\n    handleEdit: function(e) {\n        if (!canEdit) return;\n        if (e) e.preventDefault();\n        Pop.show(\"bookmark\", {id: this.state.id, silent: true, onClose: this.props.onClose});\n    },\n\n    handleClose: function(e) {\n        if (e) e.preventDefault();\n        if (typeof this.props.onClose == \"function\")\n            this.props.onClose();\n        else\n            Pop.close();\n    },\n\n    closeOver: function() {\n        canEdit = false;\n    },\n\n    closeLeave: function() {\n        canEdit = true;\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n        var content = React.createElement(\"div\", {className: \"content\"});\n        \n        switch(this.state.step){\n            case \"unsupported\":\n                content = (\n                    React.createElement(\"div\", {className: \"content\", onClick: this.handleClose}, \n                        React.createElement(\"div\", {className: \"cover\"}, \n                            React.createElement(Icon, {name: \"minus-box-clean\", size: \"mac\"})\n                        ), \n\n                        React.createElement(\"div\", {className: \"title\"}, \n                            React.createElement(\"strong\", null, t.s(\"error\")), \n                            React.createElement(\"div\", {className: \"subinfo\"}, t.s(\"serverundefined\"))\n                        ), \n\n                        React.createElement(\"a\", {href: \"\", className: \"close\"}, \n                            React.createElement(Icon, {name: \"clear\", size: \"mac\"})\n                        )\n                    )\n                );\n            break;\n\n            case \"edit\":\n                var collection = CollectionsStore.getCollection(this.state.item.collectionId);\n                if (collection==null) {\n                    CollectionsStore.onLoadId(this.state.item.collectionId);\n                    collection = {title: \"\"};\n                }\n\n                var cover = consts.defaultCollectionIcon();\n                try{cover = network.fixURL(collection.cover[0]);}catch(e){}\n\n                var savedText = t.s(this.state.item.type+\"Saved\")+\" \"+t.s(\"to\");\n                if (this.state.already)\n                    savedText = t.s(\"alreadyInCollection\");\n\n                content = (\n                    React.createElement(\"div\", {className: \"content\", onClick: this.handleEdit}, \n                        React.createElement(\"div\", {className: \"cover\"}, \n                            React.createElement(\"img\", {className: \"small-icon\", src: cover, alt: \"\"})\n                        ), \n\n                        React.createElement(\"div\", {className: \"title\"}, \n                            React.createElement(\"strong\", null, savedText, \" \", React.createElement(\"b\", null, collection.title)), \n                            React.createElement(\"div\", {className: \"subinfo\"}, t.s(\"alreadyInCollectionD\"))\n                        ), \n\n                        React.createElement(\"a\", {href: \"\", className: \"close\", onClick: this.handleClose, onMouseOver: this.closeOver, onMouseLeave: this.closeLeave}, \n                            React.createElement(Icon, {name: \"done-circle\", size: \"mac\"})\n                        )\n                    )\n                );\n            break;\n        }\n\n        var className = \"\";\n        if (this.state.step == \"loading\")\n            className = \"mini\";\n        else if (this.state.step == \"edit\")\n            className = \"done\";\n\n        return (\n            React.createElement(\"div\", {className: \"pop-saver \"+className}, \n                React.createElement(Icon, {name: \"preloader-circle\", className: \"colorful-preloader\", size: \"big\"}), \n                content\n            )\n        );\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../stores/Collections\":115,\"../../../stores/Parents\":118}],73:[function(require,module,exports){\nvar BookmarksActions = require('../../../actions/Bookmarks');\nvar ParentsStore = require('../../../stores/Parents');\n\nmodule.exports = React.createClass({\n    displayName: \"Pop/URL\",\n\n    getInitialState: function() {\n        var cid = parseInt(this.props.parentId || -1);\n\n        return {\n            loading: false,\n            item: {\n                url: \"\",\n                collectionId: cid\n            }\n        };\n    },\n\n    componentDidMount: function() {\n        this.focusMainInput();\n    },\n\n    focusMainInput: function() {\n        var _this = this;\n        setTimeout(function() {\n            var a = React.findDOMNode(_this.refs.url);\n            if (a) a.focus();\n        }, 0);\n    },\n\n    handleURLChange: function(value) {\n        this.state.item.url = value;\n        this.setState({item: this.state.item});\n    },\n\n    handleSave: function(e) {\n        e.preventDefault();\n\n        var _this = this;\n        this.setState({loading: true});\n\n        BookmarksActions.parseURL({item: this.state.item}, function(item){\n            if (item){\n                item.collectionId = _this.state.item.collectionId;\n                var dontAdd = (parseInt(item.collectionId) != parseInt(_this.props.parentId));\n\n                BookmarksActions.insertBookmark({item: item, dontAdd: dontAdd, possibleWithoutAuth: (item.collectionId==-2), toEndOfList: (item.collectionId==-2) }, function(result){\n                    if (result){\n                        if (item.collectionId != -2){\n\t\t\t\t          ParentsStore.reset();\n\t\t\t\t          window.location.hash=\"#/collection/\"+item.collectionId;\n\t\t\t\t          //this.props.router.transitionTo('collection', {cId: cId});\n\t\t\t\t        }\n\t\t\t\t        else{\n\t\t\t\t          window.location.hash=\"#/\";\n\t\t\t\t          //this.props.router.transitionTo('app');\n\t\t\t\t          BookmarksActions.saveAllSort();\n\t\t\t\t        }\n\n\t\t\t\t        Pop.close();\n                    }\n                    _this.setState({loading: false});\n                });\n            }else{\n                _this.setState({loading: false});\n                Toasts.show({text: t.s('supportOnlyUrls'), status:\"error\"});\n            }\n        });\n    },\n\n    handleClose: function(e) {\n        e.preventDefault();\n        Pop.close();\n    },\n\n    componentDidUpdate: function() {\n        this.props.onUpdate();\n    },\n\n    render: function() {\n    \treturn (React.createElement(\"div\", null, \n    \t\tReact.createElement(\"div\", {className: (this.props.isSubContent ? \"pop-sub-content\":\"pop-content\")+\" \"+(this.state.loading ? \"invisible\" : null)}, \n\t            React.createElement(\"form\", {onSubmit: this.handleSave}, \n\t                React.createElement(\"header\", null, \n\t                    React.createElement(\"div\", {className: \"max title\"}, \n\t                        React.createElement(\"input\", {type: \"text\", className: \"important\", required: true, autoFocus: true, valueLink: {value: this.state.item.url, requestChange: this.handleURLChange}, ref: \"url\", placeholder: t.s(\"enterLink\") + \" (URL)\"})\n\t                    )\n\t                ), \n\n\t                React.createElement(\"div\", {className: \"entries\"}, \n                        React.createElement(\"div\", {className: \"row \"}, \n                            React.createElement(\"div\", {className: \"title\"}, t.s(\"more\")), \n                            React.createElement(\"div\", {className: \"content max\"}, \n                                React.createElement(\"a\", {href: consts.getImportLink(), target: \"_blank\", className: \"block-link\"}, React.createElement(Icon, {name: \"import\", size: \"mac\", className: \"content-icon icn-blue\"}), t.s(\"importBookmarks\")), \n                                React.createElement(\"br\", null), \n                                React.createElement(\"a\", {href: network.settingsURL()+\"/install\", target: \"_blank\", className: \"block-link\"}, React.createElement(Icon, {name: \"install\", size: \"mac\", className: \"content-icon icn-green\"}), t.s(\"browserExtension\"), \", \", t.s(\"mobileApp\").toLowerCase())\n                            )\n                        )\n                    ), \n\n\t                React.createElement(\"footer\", null, \n\t                    React.createElement(\"input\", {type: \"submit\", className: \"but accent pull-right\", value: t.s(\"add\")}), \n\t                    React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, t.s(\"cancel\"))\n\t                )\n\t            )\n\t        ), \n\t        React.createElement(\"div\", {className: \"pop-loader \"+(this.state.loading ? null : \"hidden\")}, \n\t        \tReact.createElement(\"div\", {className: \"pop-content\"}, React.createElement(\"a\", {href: \"\", onClick: this.handleClose, className: \"but default pull-right\"}, t.s(\"cancel\")))\n\t        )\n        ));\n    }\n});\n\n},{\"../../../actions/Bookmarks\":2,\"../../../stores/Parents\":118}],74:[function(require,module,exports){\nvar PopoverMixin = require(\"./Mixin\");\n\n\nmodule.exports = React.createClass({\n\tdisplayName: \"Popovers/Bookmark\",\n\n\tmixins: [PopoverMixin],\n\n\thandleClick: function(e) {\n\t\te.preventDefault();\n\t},\n\n\thandleCopyToClipboard: function(e) {\n\t\te.preventDefault();\n\t\tstrings.copyTextToClipboard(this.props.link);\n\t\tthis.props.onClose();\n\t},\n\n\thandleEdit: function(e) {\n\t\te.preventDefault();\n\t\tthis.props.handleEdit(e);\n\t\tthis.props.onClose();\n\t},\n\n\thandleRemove: function(e) {\n\t\te.preventDefault();\n\t\tthis.props.handleRemove(e);\n\t\tthis.props.onClose();\n\t},\n\n\trender: function() {\n\t\tif (this.props.show)\n    \t\treturn this._makeWrap(\n    \t\t\tReact.createElement(\"div\", {className: \"picker-list\"}, \n    \t\t\t\t/*<div className=\"section\" style={{margin:0}}>{this.props.link}</div>*/\n\n\t  \t\t\t\tReact.createElement(\"div\", {className: \"item\"}, \n\t  \t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"open-link\", size: \"mac\"})), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tt.s(\"openInBrowser\")\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.createElement(\"a\", {href: this.props.link, target: \"_blank\", className: \"permalink\", onClick: this.props.onClose})\n\t\t\t        ), \n\n\t\t\t        React.createElement(\"div\", {className: \"item\"}, \n\t\t\t        \tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"link\", size: \"mac\"})), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tt.s(\"copyLinkToClipboard\")\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleCopyToClipboard})\n\t\t\t        ), \n\n\t\t\t        React.createElement(\"div\", {className: \"separator\"}), \n\n\t\t\t        React.createElement(\"div\", {className: \"item\"}, \n\t\t\t        \tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"edit\", size: \"mac\"})), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tt.s(\"edit\")\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleEdit})\n\t\t\t        ), \n\n\t\t\t        React.createElement(\"div\", {className: \"item\"}, \n\t\t\t        \tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"trash\", size: \"mac\"})), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tt.s(\"remove\")\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleRemove})\n\t\t\t        )\n\t  \t\t\t)\n    \t\t);\n    \telse\n    \t\treturn null;\n\t}\n});\n\n},{\"./Mixin\":78}],75:[function(require,module,exports){\nvar PopoverMixin = require(\"./Mixin\");\nvar CollectionsStore = require('../../../stores/Collections');\n\nvar _sorting = [];\n\nvar setDefaults = function() {\n  _sorting = [\n      {\n          key: \"sort\",\n          value: t.s(\"custom\")\n      },\n      {\n          key: \"lastUpdate\",\n          value: t.s(\"byDate\")\n      },\n      {\n          key: \"title\",\n          value: t.s(\"byName\")\n      }\n  ];\n}\n\nif (document)\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\nelse\n    setDefaults();\n\nmodule.exports = React.createClass({\n  displayName: \"Popovers/Collection\",\n\n  mixins: [PopoverMixin],\n\n  handleSortChange: function(e) {\n    if (e) if (e.preventDefault) e.preventDefault();\n    this.props.handleSortChange(e.target.getAttribute(\"data-sort\"));\n    this.props.onClose();\n  },\n\n  handleEdit: function(e) {\n    if (e) if (e.preventDefault) e.preventDefault();\n    this.props.handleEdit();\n    this.props.onClose();\n  },\n\n  handleShare: function(e) {\n    if (e) if (e.preventDefault) e.preventDefault();\n    this.props.handleEdit(undefined, \"sharing\");\n    this.props.onClose();\n  },\n\n  handleViewModalShow: function(e) {\n    if (e) if (e.preventDefault) e.preventDefault();\n    this.props.handleViewModalShow();\n    this.props.onClose();\n  },\n\n  handleAddFolder: function(e) {\n    if (e) if (e.preventDefault) e.preventDefault();\n    this.props.handleAddFolder();\n    this.props.onClose();\n  },\n\n  render: function() {\n    if (this.props.show){\n      var _this = this;\n      var sort = _sorting.map(function(item){\n        return (\n          React.createElement(\"div\", {className: \"item\"}, \n              React.createElement(\"div\", {className: \"icon\"}, (_this.props.sortSelected == item.key ? React.createElement(Icon, {name: \"done\"}):null)), \n              React.createElement(\"div\", {className: \"title\", style: {textTransform: \"capitalize\"}}, \n                  item.value\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", \"data-sort\": item.key, onClick: _this.handleSortChange})\n          )\n        );\n      });\n      if ((this.props.collection._id == 0)||\n          (this.props.collection._id == -99))\n        sort.splice(0,1);\n\n      var onlyBasic = this.props.onlyBasic;\n\n      return this._makeWrap(\n        React.createElement(\"div\", {className: \"picker-list\"}, \n          /*<div className=\"section\" style={{margin:0}}>{this.props.collection.title}</div>*/\n\n          React.createElement(\"div\", {className:  ((window.environment||[]).indexOf(\"mobile\")!=-1) ? \"hidden\" : \"item\"}, \n              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"open-link\", size: \"mac\"})), \n              React.createElement(\"div\", {className: \"title\"}, \n                  t.s(\"openInBrowser\")\n              ), \n              React.createElement(\"a\", {href: network.fixURL(\"/app#/collection/\"+this.props.collection._id), target: \"_blank\", onClick: this.props.onClose, className: \"permalink\"})\n          ), \n\n          React.createElement(\"div\", {className: this.props.collection.author && !onlyBasic ? \"item\" : \"hidden\"}, \n              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"folder-add\", size: \"mac\"})), \n              React.createElement(\"div\", {className: \"title\"}, \n                  t.s(\"createSubFolder\")\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleAddFolder})\n          ), \n\n          React.createElement(\"div\", {className: this.props.collection.author ? \"item\" : \"hidden\"}, \n              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"edit\", size: \"mac\"})), \n              React.createElement(\"div\", {className: \"title\"}, \n                  t.s(\"collectionEdit\")\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleEdit})\n          ), \n\n          React.createElement(\"div\", {className: this.props.collection.author ? \"item\" : \"hidden\"}, \n              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"share\", size: \"mac\"})), \n              React.createElement(\"div\", {className: \"title\"}, \n                  t.s(\"sharing\")\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleShare})\n          ), \n\n          React.createElement(\"div\", {className: !onlyBasic ? \"item\" : \"hidden\"}, \n              React.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: this.props.collection.view})), \n              React.createElement(\"div\", {className: \"title\"}, \n                  t.s(\"view\")\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleViewModalShow})\n          ), \n          \n          React.createElement(\"span\", {className: !onlyBasic ? \"\" : \"hidden\"}, \n          React.createElement(\"div\", {className: \"separator\"}), \n          React.createElement(\"div\", {className: \"section\"}, t.s(\"collectionsSorting\")), \n          sort\n          )\n        )\n      );\n    }\n    else\n      return null;\n  }\n});\n\n},{\"../../../stores/Collections\":115,\"./Mixin\":78}],76:[function(require,module,exports){\nvar PopoverMixin = require(\"./Mixin\");\nvar CollectionsStore = require('../../../stores/Collections');\n\nvar _sorting = [];\n\nvar setDefaults = function() {\n  _sorting = [\n      {\n          key: \"sort\",\n          value: t.s(\"custom\")\n      },\n      {\n          key: \"lastUpdate\",\n          value: t.s(\"byDate\")\n      },\n      {\n          key: \"title\",\n          value: t.s(\"byName\")\n      }\n  ];\n}\n\nif (document)\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\nelse\n    setDefaults();\n\nmodule.exports = React.createClass({\n  displayName: \"Popovers/Collection\",\n\n  mixins: [PopoverMixin],\n\n  handleSortChange: function(e) {\n    e.preventDefault();\n    this.props.handleSortChange(e.target.getAttribute(\"data-sort\"));\n    this.props.onClose();\n  },\n\n  handleEdit: function(e) {\n    e.preventDefault();\n    this.props.handleEdit();\n    this.props.onClose();\n  },\n\n  handleShare: function(e) {\n    e.preventDefault();\n    this.props.handleEdit(undefined,\"sharing\");\n    this.props.onClose();\n  },\n\n  handleViewModalShow: function(e) {\n    e.preventDefault();\n    this.props.handleViewModalShow();\n    this.props.onClose();\n  },\n\n  handleAddFolder: function(e) {\n    e.preventDefault();\n    this.props.handleAddFolder();\n    this.props.onClose();\n  },\n\n  render: function() {\n    if (this.props.show){\n      var _this = this;\n      var sort = _sorting.map(function(item){\n        return (\n          React.createElement(\"div\", {className: \"item\"}, \n              React.createElement(\"div\", {className: \"icon\"}, (_this.props.sortSelected == item.key ? React.createElement(Icon, {name: \"done\"}):null)), \n              React.createElement(\"div\", {className: \"title\", style: {textTransform: \"capitalize\"}}, \n                  item.value\n              ), \n              React.createElement(\"a\", {href: \"\", className: \"permalink\", \"data-sort\": item.key, onClick: _this.handleSortChange})\n          )\n        );\n      });\n      if ((this.props.collection._id == 0)||\n          (this.props.collection._id == -99))\n        sort.splice(0,1);\n\n      var onlyBasic = this.props.onlyBasic;\n\n      var fastLinks = [];\n      if (this.props.collection.author){\n        fastLinks.push(\n          React.createElement(\"a\", {href: \"\", onClick: this.handleEdit, className: \"item\"}, \n              React.createElement(\"span\", {className: \"icon blue\"}, React.createElement(Icon, {name: \"edit\"})), \n              React.createElement(\"span\", {className: \"title\"}, t.s(\"collectionEdit\"))\n          )\n        );\n\n        fastLinks.push(\n          React.createElement(\"a\", {href: \"\", onClick: this.handleShare, className: \"item\"}, \n              React.createElement(\"span\", {className: \"icon tomato\"}, React.createElement(Icon, {name: \"share\"})), \n              React.createElement(\"span\", {className: \"title\"}, t.s(\"sharing\"))\n          )\n        );\n      }\n\n      if ((window.environment||[]).indexOf(\"mobile\")==-1){\n        fastLinks.push(\n          React.createElement(\"a\", {href: network.fixURL(\"/app#/collection/\"+this.props.collection._id), target: \"_blank\", onClick: this.props.onClose, className: \"item\"}, \n              React.createElement(\"span\", {className: \"icon asphalt\"}, React.createElement(Icon, {name: \"open-link\"})), \n              React.createElement(\"span\", {className: \"title\"}, t.s(\"openInBrowser\"))\n          )\n        );\n      }\n\n      if (this.props.collection.author && !onlyBasic){\n        fastLinks.push(\n          React.createElement(\"a\", {href: \"\", onClick: this.handleAddFolder, className: \"item\"}, \n              React.createElement(\"span\", {className: \"icon green\"}, React.createElement(Icon, {name: \"folder-add\"})), \n              React.createElement(\"span\", {className: \"title\"}, t.s(\"createSubFolder\"))\n          )\n        );\n      }\n\n    \treturn this._makeWrap(\n      React.createElement(\"div\", null, \n        React.createElement(\"div\", {className: \"fast-links\"}, \n          fastLinks\n        ), \n\n        React.createElement(\"div\", {className: \"picker-list\"}, \n          React.createElement(\"div\", {className: \"section\"}, t.s(\"view\"))\n        ), \n\n        React.createElement(\"div\", {className: \"picker-list\"}, \n          React.createElement(\"span\", {className: !onlyBasic ? \"\" : \"hidden\"}, \n          React.createElement(\"div\", {className: \"separator\"}), \n          React.createElement(\"div\", {className: \"section\"}, t.s(\"collectionsSorting\")), \n          sort\n          )\n        )\n      )\n      );\n    }\n    else\n      return null;\n  }\n});\n\n},{\"../../../stores/Collections\":115,\"./Mixin\":78}],77:[function(require,module,exports){\nvar PopoverMixin = require(\"./Mixin\");\n\nmodule.exports = React.createClass({\n  displayName: \"Popovers/Font\",\n\n  mixins: [PopoverMixin],\n\n  handleFontColor: function(e) {\n    e.preventDefault();\n    this.props.handleFontColor(e.target.getAttribute(\"data-color\"));\n  },\n\n  handleFontFamily: function(e) {\n    e.preventDefault();\n    this.props.handleFontFamily(e.target.getAttribute(\"data-family\"));\n  },\n\n  render: function() {\n    if (this.props.show)\n    \treturn this._makeWrap(\n        React.createElement(\"div\", null, \n          React.createElement(\"div\", {className: \"font-edit popover-font-size\"}, \n            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.props.handleDicrementFont}, React.createElement(Icon, {name: \"minus-box-clean\", size: \"mac\"})), \n            React.createElement(\"div\", null, t.s(\"fontSize\")), \n            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.props.handleIncrementFont}, React.createElement(Icon, {name: \"add-box-clean\", size: \"mac\"}))\n          ), \n\n          React.createElement(\"div\", {className: \"font-edit\"}, \n            React.createElement(\"a\", {href: \"\", className: \"item orange \"+(this.props.fontColor == \"\" ? \"active\" : \"\"), \"data-color\": \"\", onClick: this.handleFontColor}, React.createElement(Icon, {name: \"sun\", size: \"big\"})), \n            React.createElement(\"a\", {href: \"\", className: \"item red \"+(this.props.fontColor == \"sunset\" ? \"active\" : \"\"), \"data-color\": \"sunset\", onClick: this.handleFontColor}, React.createElement(Icon, {name: \"sunset\", size: \"big\"})), \n            React.createElement(\"a\", {href: \"\", className: \"item \"+(this.props.fontColor == \"night\" ? \"active\" : \"\"), \"data-color\": \"night\", onClick: this.handleFontColor}, React.createElement(Icon, {name: \"moon\", size: \"big\"}))\n          ), \n\n          React.createElement(\"div\", {className: \"font-edit\"}, \n            React.createElement(\"a\", {href: \"\", className: \"family \"+(this.props.fontFamily == \"\" ? \"active\" : \"\"), \"data-family\": \"\", onClick: this.handleFontFamily}, \"Aa\"), \n            React.createElement(\"a\", {href: \"\", className: \"family georgia \"+(this.props.fontFamily == \"georgia\" ? \"active\" : \"\"), \"data-family\": \"georgia\", onClick: this.handleFontFamily}, \"Aa\"), \n            React.createElement(\"a\", {href: \"\", className: \"family helvetica \"+(this.props.fontFamily == \"helvetica\" ? \"active\" : \"\"), \"data-family\": \"helvetica\", onClick: this.handleFontFamily}, \"Aa\"), \n            React.createElement(\"a\", {href: \"\", className: \"family verdana \"+(this.props.fontFamily == \"verdana\" ? \"active\" : \"\"), \"data-family\": \"verdana\", onClick: this.handleFontFamily}, \"Aa\")\n          )\n        )\n      );\n    else\n      return null;\n  }\n});\n\n},{\"./Mixin\":78}],78:[function(require,module,exports){\nvar RenderInBody = require(\"../Helpers/RenderInBody\");\n\nmodule.exports = {\n\thandleBeyondClick: function(e) {\n\t\tif (e.target.className==\"popover\")\n\t\t\tthis.props.onClose();\n\t},\n\n\thandleContext: function(e){\n\t\te.preventDefault();\n\t\tthis.props.onClose();\n\t},\n\n\thandleWeel: function(e) {\n\t\te.preventDefault();\n\t\treturn;\n\t},\n\n\t_makeWrap: function(html) {\n\t    var div = document.getElementById(this.props.attachId);\n\t    var rect = {};\n\t    if (div == null) div = {}; else rect = div.getBoundingClientRect();\n\n\t    var fixPosition = this.props.position;\n\n\t    if (this.props.mousePos){\n\t      var pos = {\n\t        left: window.mousePos.x, top: window.mousePos.y\n\t      }\n\t    }\n\t    else{\n\t  \t\tvar pos = {\n\t  \t\t\tleft: rect.left||0, top: rect.top||0\n\t  \t\t};\n\t  \t\tpos.top += div.offsetHeight;\n\t    }\n\n\t    //fix position\n\t    if (pos.left<200) {\n\t    \tfixPosition = \"left\";\n\t    }\n\t    else if ((pos.left+200 > window.innerWidth)&&(fixPosition==\"left\")) {\n\t    \tfixPosition = \"\";\n\t    \t//pos.left = pos.left - 300;\n\t    }\n\n\t    if (pos.top+300 > window.innerHeight)\n\t    \tpos.top = pos.top - 150;\n\n\t\treturn (\n\t\t\tReact.createElement(RenderInBody, {name: \"popover\", category: (this.props.attachId||\"\")}, React.createElement(\"div\", {className: \"popover\", id: \"popover-for-\"+(this.props.attachId||\"\"), onClick: this.handleBeyondClick, onContextMenu: this.handleContext, onWheel: this.handleWeel}, \n\t\t\t\tReact.createElement(\"div\", {className: \"popover-wrap\", style: {top: pos.top+\"px\", left: pos.left+\"px\", width: div.offsetWidth}}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"popover-body popover-pos-\"+fixPosition}, \n\t\t\t\t\t\thtml\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t))\n\t\t);\n\n\t    return null;\n\t}\n};\n\n},{\"../Helpers/RenderInBody\":47}],79:[function(require,module,exports){\nvar PopoverMixin = require(\"./Mixin\");\nvar UserActions = require('../../../actions/User');\n\nmodule.exports = React.createClass({\n  displayName: \"Popovers/Collection\",\n\n  mixins: [PopoverMixin],\n\n  handleLogOut: function(e) {\n    e.preventDefault();\n    var _this = this;\n\n    UserActions.logOut(function(){\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleClick: function(e) {\n  \tif ((window.environment||[]).indexOf(\"clipper\")!=-1)\n  \t{\n  \t\te.preventDefault();\n  \t\te.stopPropagation();\n  \t\tBrowserBridge.openURL(e.target.href);\n  \t}\n  \t\n  \tthis.props.onClose();\n  },\n\n  render: function() {\n  \tvar sURL = network.settingsURL();\n  \tvar _target = \"_self\";\n  \tif ((window.environment||[]).indexOf(\"clipper\")!=-1){\n  \t\t_target = \"_blank\";\n  \t}\n\n  \tvar pro=null;\n  \tif ((window.environment||[]).indexOf(\"mac\")==-1)\n  \tpro = (\n  \t\tReact.createElement(\"div\", {className: \"item \" + (UserStore.isLogged() ? \"\" : \"hidden\")}, \t\n  \t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"pro\", size: \"mac\"})), \n\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\tReact.createElement(\"strong\", null, t.s(\"upgradeAccount\"))\n\t\t\t), \n\t\t\tReact.createElement(\"a\", {href: sURL + \"/pro\", target: _target, className: \"permalink\", onClick: this.handleClick})\n        )\n  \t);\n\n  \tif (this.props.show)\n\t  \treturn this._makeWrap(\n\t  \t\tReact.createElement(\"div\", {className: \"picker-list\"}, \n\t  \t\t\tReact.createElement(\"div\", {className: \"section\", style: {margin:0}}, UserStore.getUser().email||UserStore.getUser().fullName||t.s(\"settings\")), \n\n\t  \t\t\tpro, \n\n\t  \t\t\tReact.createElement(\"div\", {className: \"item \" + (UserStore.isLogged() ? \"\" : \"hidden\")}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"settings\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"settings\") + \" \" + t.s(\"und\") + \" \" + t.s(\"profile\").toLowerCase()\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: sURL, target: _target, className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"item \" + (((window.environment||[]).indexOf(\"clipper\")==-1) && ((window.environment||[]).indexOf(\"mac\")==-1) ? \"\" : \"hidden\")}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"web\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"background\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/interface\", className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"separator\"}), \n\n\t\t        React.createElement(\"div\", {className: \"item \" + (UserStore.isLogged() ? \"\" : \"hidden\")}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"import\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"importBookmarks\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: sURL+\"/import\", target: _target, className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"item \" + (UserStore.isLogged() ? \"\" : \"hidden\")}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"export\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"exportBookmarks\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: sURL+\"/export\", target: _target, className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"separator\"}), \n\n\t\t        React.createElement(\"div\", {className: \"item\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"install\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"install\"), \n\t\t\t\t\t\tReact.createElement(\"div\", {style: {fontSize: \"13px\", opacity: \".7\"}}, \n\t\t\t\t\t\t\tt.s(\"browserExtension\"), React.createElement(\"br\", null), \n\t\t\t\t\t\t\tt.s(\"und\"), \" \", t.s(\"mobileApp\").toLowerCase()\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: sURL+\"/install\", target: _target, className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"item\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"help\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"help\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: sURL+\"/help\", target: _target, className: \"permalink\", onClick: this.handleClick})\n\t\t        ), \n\n\t\t        React.createElement(\"div\", {className: \"item \" + (UserStore.isLogged() ? \"actions\" : \"hidden\")}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"icon\"}, React.createElement(Icon, {name: \"exit\", size: \"mac\"})), \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\tt.s(\"logOut\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleLogOut})\n\t\t        )\n\t  \t\t)\n\t  \t);\n  \telse\n  \t\treturn null;\n  }\n});\n\n},{\"../../../actions/User\":14,\"./Mixin\":78}],80:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Cover = require(\"../Helpers/Cover\"),\n    Favicon = require(\"../Helpers/Favicon\");\n\nmodule.exports = React.createClass({\n  displayName: \"Search/Item\",\n\n    getInitialState: function() {\n        return {item: this.props.item, active: this.props.active, index: this.props.index};\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState({item:nextProps.item, active:nextProps.active, index:nextProps.index});\n    },\n\n    handleClick: function(e) {\n        var result = this.props.onClick(this.props.item.gist, (this.props.item.gist == \"word\" ? this.props.item.title : this.props.item._id));\n        if (!result)\n            e.preventDefault();\n    },\n\n    render: function() {\n        function createMarkup(html) { return {__html: html}; };\n\n        var favicon = (this.state.item.domain?React.createElement(Favicon, {domain: this.state.item.domain||\"\", className: \"icon\"}):null);\n        var cover = React.createElement(Cover, {src: this.state.item.image, className: \"image\", width: \"100\"});\n\n        if (this.state.item.icon){\n            if (this.state.item.icon.indexOf(\"http\")==0)\n                cover = React.createElement(\"div\", {className: \"small-icon\", style: {backgroundImage: \"url('\"+this.state.item.icon+\"')\"}});\n            else\n                cover = React.createElement(Icon, {name: this.state.item.icon})\n        }\n\n        var excerpt = null;\n        if (this.state.item.excerpt)\n          excerpt = React.createElement(\"div\", {className: \"excerpt\", dangerouslySetInnerHTML: createMarkup(this.state.item.excerpt||\"\")});\n\n        var className = \"item searchResultItem\";\n        if (this.state.active)\n          className += \" active\";\n        if (this.state.item.className)\n          className += \" \"+this.state.item.className;\n\n        return (\n            React.createElement(\"figure\", {className: className, id: \"searchResultItem_\"+this.state.index}, \n                React.createElement(\"div\", {className: \"cover\"}, \n                    cover, \n                    favicon\n                ), \n                React.createElement(\"figcaption\", {className: \"about\"}, \n                    React.createElement(\"div\", {className: \"title\", dangerouslySetInnerHTML: createMarkup(this.state.item.title)}), \n                    excerpt\n                ), \n\n                React.createElement(\"a\", {href: this.state.item.link||null, \n                    className: \"permalink searchResultItemLink\", id: \"searchResultItemLink_\"+this.state.index, \n                    onClick: this.state.item.link ? null : this.handleClick, \n                    \"data-noclick\": !this.state.item.link, \n                    onMouseDown: this.state.item.link ? null : this.handleClick})\n            )\n        );\n    }\n});\n\n},{\"../Helpers/Cover\":40,\"../Helpers/Favicon\":42}],81:[function(require,module,exports){\nmodule.exports = React.createClass({\n\tdisplayName: \"Search/Mini\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tquery: \"\"\n\t\t};\n\t},\n\n\tcomponentDidMount:function() {\n\t\tReact.findDOMNode(this.refs.input).addEventListener(\"keyup\", this.handleKey);\n\t},\n\n\tcomponentWillUnmount:function() {\n\t\tReact.findDOMNode(this.refs.input).removeEventListener(\"keyup\", this.handleKey);\n\t},\n\n\thandleKey: function(e) {\n\t\tif (e.keyCode == 27)\n\t\t\tthis.handleReset(e);\n\t},\n\n\thandleChange: function(e) {\n\t\tif (this.isMounted()) this.setState({query: e.target.value || \"\"});\n\t},\n\n\thandleSubmit: function(e) {\n\t\te.preventDefault();\n\t\tthis.props.onChange(this.state.query);\n\t},\n\n\thandleReset: function(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tReact.findDOMNode(this.refs.input).value = \"\";\n\t\tif (this.isMounted()) this.setState({query: \"\"});\n\t\tthis.props.onChange(\"\");\n\t},\n\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"form\", {className: \"mini-search\", onSubmit: this.handleSubmit}, \n\t\t\t\tReact.createElement(\"label\", null, \n\t\t\t\t\tReact.createElement(Icon, {name: \"search\", size: \"mac\"}), \n\t\t\t\t\tReact.createElement(\"input\", {type: \"text\", placeholder: t.s(\"defaultCollection-0\") + (this.props.placeholder? \" (\" + this.props.placeholder + \")...\" : \"\"), ref: \"input\", onChange: this.handleChange}), \n\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"action-icon \"+(this.state.query==\"\" ? \"hidden\" : \"\"), onClick: this.handleReset}, React.createElement(Icon, {name: \"clear\", size: \"mac\"}))\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],82:[function(require,module,exports){\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n\tdisplayName: \"Search/Query\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tfocus: false\n\t\t}\n\t},\n\n\tchangeQuery: function(e) {\n\t\tthis.props.changeQuery(this.props.index, e.target.value);\n\t},\n\n\thandleClick: function(e) {\n\t\te.preventDefault();\n\t},\n\n\thandleFocus: function() {\n\t\tif (this.isMounted()) this.setState({focus: true});\n\t},\n\n\thandleBlur: function() {\n\t\tif (this.isMounted()) this.setState({focus: false});\n\t},\n\n\thandleRemove: function(e) {\n\t\tif (e) e.preventDefault();\n\t\tthis.props.changeQuery(this.props.index, null);\n\t},\n\n\thandleKey: function(e) {\n\t\tswitch(e.keyCode){\n\t\t\tcase 46: //delete\n\t\t\tcase 8: //backspace\n\t\t\t\tthis.handleRemove(e);\n\t\t\tbreak;\n\n\t\t\tcase 37: //left\n\t\t\t\tthis.props.focusOnQuery(this.props.index-1);\n\t\t\tbreak;\n\n\t\t\tcase 39: //right\n\t\t\t\tthis.props.focusOnQuery(this.props.index+1);\n\t\t\tbreak;\n\n\t\t\tcase 38: //up\n\t\t\tcase 40: //down\n\t\t\t\tReact.findDOMNode(this.refs.select).focus();\n\t\t\tbreak;\n\t\t}\n\t},\n\n\trender: function() {\n\t\tvar className = \"\", showSelect = true;\n\t\tvar tagTitle = t.s(\"tags\").substr(0, (t.s(\"tags\")).length -1);\n\n\t\tvar keyString = _.capitalize(t.s(\"all\")), valString = \"\";\n\n\t\ttry{valString = String(this.props.item.val);} catch(e) {}\n\n\t\tvar canBeDomain = (valString.match(new RegExp(/^((?:(?:(?:\\w[\\.\\-\\+]?)*)\\w)+)((?:(?:(?:\\w[\\.\\-\\+]?){0,62})\\w)+)\\.(\\w{2,6})$/)));\n\t\tvar canBeType = (valString.match(new RegExp(/(image|video|link|article|note|document)/i)));\n\n\t\tswitch(this.props.item.key){\n\t\t\tcase \"type\":\n\t\t\t\tkeyString = t.s(\"type\");\n\t\t\t\tvalString = t.s(this.props.item.val);\n\t\t\tbreak;\n\n\t\t\tcase \"domain\":\n\t\t\t\tkeyString = t.s(\"sites\");\n\t\t\tbreak;\n\n\t\t\tcase \"tag\":\n\t\t\t\tkeyString = tagTitle;\n\t\t\tbreak;\n\n\t\t\tcase \"collection\":\n\t\t\t\tkeyString = t.s(\"collection\");\n\t\t\t\tvalString = t.s(\"inCollection\");\n\t\t\t\tvalString = valString.charAt(0).toUpperCase() + valString.slice(1);\n\t\t\t\t/*try{\n\t\t\t\t\tvalString = CollectionsStore.getCollection(CollectionsStore.getCurrentId()).title;\n\t\t\t\t}catch(e){}*/\n\t\t\t\tshowSelect = false;\n\t\t\tbreak;\n\t\t}\n\n\t\tif (this.state.focus)\n\t\t\tclassName+=\" query-focus\";\n\n\t\tvar select = null;\n\t\tif (showSelect)\n\t\t\tselect = [\n\t\t\t\tReact.createElement(Icon, {name: \"arrow-down\", size: \"small\"}),\n\t\t\t\t(\n\t\t\t\t\tReact.createElement(\"select\", {ref: \"select\", tabIndex: \"-1\", value: this.props.item.key, onChange: this.changeQuery}, \n                        canBeType ? React.createElement(\"option\", {value: \"type\"}, t.s(\"type\")) : null, \n                        React.createElement(\"option\", {value: \"tag\"}, tagTitle), \n                        canBeDomain ? React.createElement(\"option\", {value: \"domain\"}, t.s(\"sites\")) : null, \n                        React.createElement(\"option\", {value: \"word\"}, _.capitalize(t.s(\"all\")))\n                    )\n\t\t\t\t)\n\t\t\t];\n\n\t\treturn (\n\t\t\tReact.createElement(\"figure\", {className: className}, \n                showSelect ? React.createElement(\"label\", {className: \"type\"}, \n                    keyString, select\n                ) : null, \n                React.createElement(\"a\", {href: \"\", id: \"focus-zone-\"+this.props.index, onClick: this.handleClick, onDoubleClick: this.handleRemove, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyDown: this.handleKey, className: \"text\"}, \n                    valString\n                )\n            )\n\t\t);\n\t}\n});\n\n},{\"../../../stores/Collections\":115}],83:[function(require,module,exports){\nvar ScrollFixMixin = require('../Helpers/ScrollFixMixin.js');\nvar Item = require(\"./Item.js\");\n\nvar StatsStore = require('../../../stores/Stats'),\n    StatsActions = require('../../../actions/Stats'),\n    TagsActions = require('../../../actions/Tags'),\n    TagsStore = require('../../../stores/Tags'),\n    SitesActions = require('../../../actions/Sites'),\n    SitesStore = require('../../../stores/Sites'),\n    CollectionsStore = require('../../../stores/Collections');\n\nvar _timeout = 0, resultsCount = 0;\n\nvar _highlight = function (word, text) {\n    try{\n        word = word.trim();\n    }catch(e) {if (e) word = \"\";}\n    try{\n        text = text.trim();\n    }catch(e) {if (e) text = \"\";}\n\n    var maxLength = 50, clean = S(text).escapeHTML().s;\n\n    /*if (text.length > maxLength){\n        var firstQ = text.indexOf(word), lastQ = text.lastIndexOf(word);\n        console.log(firstQ,lastQ);\n        if ((firstQ>0)&&(lastQ!=-1)){\n            clean = \"...\" + text.substr(firstQ, lastQ+word.length) + \"...\";\n        }\n    }*/\n\n    try {\n        clean = clean.replace(new RegExp(word, 'gi'), function (matched) {\n            return '<strong>' + matched + '</strong>';\n        });\n    }catch(e) {if (e) clean = text;}\n    return clean;\n}\n\nmodule.exports = React.createClass({\n    displayName: \"Search/Results\",\n\tmixins: [ScrollFixMixin],\n\n\t_makeTag: function(item) {\n\t  return {\n\t      _id: item._id,\n\t      title: item._id,\n\t      excerpt: item.count/* + \" \" + t.s(\"bookmarks\")*/,\n\t      sort: item.count,\n\t      icon: \"tag\",\n\t      //link: \"#/collection/0/\" + encodeURIComponent(\"#\" + item._id),\n\t      gist: \"tag\",\n\t      className: \"small\"\n\t  };\n\t},\n\n\t_makeSite: function(item) {\n\t  return {\n\t      _id: item._id,\n\t      title: item._id,\n\t      excerpt: item.count/* + \" \" + t.s(\"bookmarks\")*/,\n\t      sort: item.count,\n\t      icon: network.favIcon(item._id),\n\t      //link: \"#/collection/0/\" + encodeURIComponent(\"#\" + item._id),\n\t      gist: \"domain\",\n\t      className: \"small\"\n\t  };\n\t},\n\n\t_makeType: function(type) {\n\t\treturn {_id: type, title: t.s(type), icon: type, gist: \"type\", className: \"small\"};\n\t},\n\n    _makeCollection: function(val,c) {\n        var count = t.s(\"noBookmarks\");\n        if (c.count)\n        count = (c.count||\"\") + \" \" + t.s(\"bookmarks\");\n\n        return {\n            _id: c._id,\n            titleStr: c.title,\n            title: _highlight(val, c.title),\n            excerpt: count,\n            image: (c.cover || [])[0] || \"\",\n            sort: 4,\n            link: \"#/collection/\" + c._id,\n            gist: \"collection\"\n        };\n    },\n\n\tgetDefaults: function(val) {\n\t\tval = (val || \"\").trim().toLowerCase();\n\n\t\tvar _this = this;\n        var findIndex = function(id) {\n            var index = -1;\n            try{\n                index = _.findIndex(_this.state.items, {id: id});\n            }catch(e){}\n\n            return index;\n        }\n\n\t\tvar items = [\n\t\t\t{title: t.s(\"tags\"), className: \"list\", childrens: []},\n            {title: t.s(\"type\"), className: \"list\", childrens: []},\n            {title: t.s(\"collections\"), id: \"collections\", childrens: val!=\"\" ? (this.state.items[findIndex(\"collections\")]||[]).childrens||[] : []},\n\t\t\t{title: t.s(\"elements\"), id: \"elements\", childrens: val!=\"\" ? (this.state.items[findIndex(\"elements\")]||[]).childrens||[] : []},\n\t\t\t{title: t.s(\"sites\"), childrens: []}\n\t\t];\n\n\t\t//Type\n\t\t(consts.contentTypes||[]).forEach(function (item) {\n\t\t\tvar addCurrent = true;\n\t\t\tif (val!=\"\")\n\t\t\t\tif ((item.indexOf(val)==-1)&&((t.s(item).toLowerCase()).indexOf(val)==-1))\n\t\t\t\t\taddCurrent = false;\n\n\t\t\tif (addCurrent)\n\t\t\t\titems[1].childrens.push(_this._makeType(item));\n\t\t});\n\n\t\t//Tags\n\t\t(this.state.tags||[]).forEach(function (item) {\n\t\t\tif (item._id.indexOf(val)!=-1)\n            \titems[0].childrens.push(_this._makeTag(item));\n        });\n\n\n        //Sites\n        if (val!=\"\")\n\t\t(this.state.sites||[]).forEach(function (item) {\n\t\t\tif (item._id.indexOf(val)!=-1)\n            \titems[4].childrens.push(_this._makeSite(item));\n        });\n\n\t\treturn items;\n\t},\n\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tindex: -1,\n\t\t\tval: this.props.val||\"\",\n\t\t\tstat: StatsStore.getStat()||[],\n\t\t\titems: [],\n\t\t\ttags: TagsStore.getTags()||[],\n\t\t\tsites: SitesStore.getSites()||[]\n\t\t}\n\t},\n\n\tcomponentDidMount: function() {\n        this.unsubscribeTags = TagsStore.listen(this.onTagsChange);\n        this.unsubscribeStats = StatsStore.listen(this.onStatsChange);\n        this.unsubscribeSites = SitesStore.listen(this.onSitesChange);\n\n        if (this.state.tags.length==0)\n\t\t\tTagsActions.load();\n\n\t\tif (this.state.stat.length==0)\n\t\t\tStatsActions.load();\n\n\t\tif (this.state.sites.length==0)\n\t\t\tSitesActions.load();\n\n        this.handleAutoComplete();\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeTags();\n        this.unsubscribeStats();\n        this.unsubscribeSites();\n    },\n\n    onStatsChange: function(stat) {\n        if (this.isMounted()) this.setState({stat: stat});\n        this.handleAutoComplete();\n    },\n\n    onTagsChange: function(tags) {\n        if (this.isMounted()) this.setState({tags: tags});\n        this.handleAutoComplete();\n    },\n\n    onSitesChange: function(sites) {\n        if (this.isMounted()) this.setState({sites: sites});\n        this.handleAutoComplete();\n    },\n\n\thandleResultsMouseOver: function() {\n        _timeout = 300;\n    },\n\n    handleResultsMouseLeave: function() {\n        _timeout = 0;\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n    \tnextProps.val = (nextProps.val||\"\").trim();\n\n    \tif (nextProps.val != this.state.val){\n    \t\tthis.handleAutoComplete(nextProps.val);\n    \t\tif (this.isMounted()) this.setState({val: nextProps.val});\n    \t}\n    },\n\n    handleAutoComplete: function(val) {\n    \tif (typeof val == \"undefined\")\n    \t\tval = this.state.val;\n\n    \tif (val == \"\"){\n    \t\tif (this.isMounted()) this.setState({items: this.getDefaults(), index: -1});\n    \t}else{\n    \t\titems = this.getDefaults(val);\n\n    \t\titems.unshift({\n    \t\t\tchildrens: [\n    \t\t\t\t{_id: \"text\", title: val, className: \"small\", icon: \"search\", gist: \"word\"}\n    \t\t\t]\n    \t\t});\n\n            this.findCollections(val);\n    \t\tthis.findBookmarks(val);\n\n    \t\tif (this.isMounted()) this.setState({items: items, index: 0});\n    \t}\n\n        var elem = document.getElementById('searchResults');\n        elem.scrollTop = 0;\n    },\n\n    findCollections: function(val) {\n        var items = [], _this = this;\n        var collections = _.filter(CollectionsStore.getCollections(), function (c) {\n            return ((c.title || \"\").toLowerCase().indexOf(val.toLowerCase()) >= 0);\n        });\n\n        Api.get(\"childrens\", function(json){\n            if (val != _this.state.val)\n                return;\n\n            (json.items||[]).forEach(function(c) {\n               if ((c.title || \"\").toLowerCase().indexOf(val.toLowerCase()) >= 0)\n                    collections.push(c); \n            });\n\n            items = (collections||[]).map(function(c){\n                return _this._makeCollection(val,c);\n            });\n            items = _.orderBy(items, ['sort', 'titleStr'], ['asc', 'desc']);\n\n            var index = _.findIndex(_this.state.items, {id: \"collections\"});\n            _this.state.items[index].childrens = items;\n            if (_this.isMounted()) _this.setState({items: _this.state.items});\n        });\n    },\n\n    findBookmarks: function(val) {\n    \tvar _this = this;\n    \tvar q = JSON.parse(JSON.stringify(this.props.queries));\n    \tq.push({key: \"word\", val: val});\n\n        var cId = 0;\n        if (q.length>0)\n            if (q[0].key===\"collection\")\n                cId = q[0].val;\n\n    \tApi.get('raindrops/'+cId+'?search='+JSON.stringify(q), function (json) {\n    \t\tvar items = (json.items || []).map(function (item) {\n                var tags = (item.tags || []).map(function (t) {\n                    return \"#\" + t;\n                });\n                tags = (tags || []).join(\", \");\n\n                return {\n                    _id: item._id,\n                    titleStr: item.title,\n                    title: _highlight(val, item.title),\n                    excerpt: _highlight(val, item.excerpt + \" \" + tags),\n                    domain: item.domain,\n                    image: item.cover || \"\",\n                    sort: (item.title.toLowerCase().indexOf(val.toLowerCase()) >= 0 ? 2 : 0) + ((item.excerpt || \"\").toLowerCase().indexOf(val.toLowerCase()) >= 0 ? 1 : 0),\n                    link: item.link,\n                    gist: \"bookmark\"\n                };\n            });\n\n            items = _.orderBy(items, ['sort', 'titleStr'], ['asc', 'desc']);\n\n            var index = _.findIndex(_this.state.items, {id: \"elements\"});\n            _this.state.items[index].childrens = items;\n            if (_this.isMounted()) _this.setState({items: _this.state.items});\n    \t});\n    },\n\n    scrollTo: function(dir) {\n    \tvar newIndex = null;\n\n    \tif (dir == \"top\")\n\t    \tif (this.state.index>0)\n\t            newIndex = this.state.index - 1;\n\n\t    if (dir == \"bottom\")\n\t    \tif (resultsCount-1>this.state.index)\n                newIndex = this.state.index + 1;\n\n        if (newIndex!=null) {\n            var div = document.getElementById('searchResults'),\n                item = document.getElementsByClassName(\"searchResultItem\")[newIndex] /*document.getElementById('searchResultItem_'+newIndex)*/;\n            var offset = item.offsetTop;\n\n            if (((offset-div.scrollTop+item.clientHeight) > div.clientHeight)&&(dir==\"bottom\"))\n                div.scrollTop = div.scrollTop + item.clientHeight;\n            else if ((offset<div.scrollTop)&&(dir=='top'))\n                div.scrollTop = offset;\n\n            if (this.isMounted()) this.setState({index: newIndex});\n        }\n    },\n\n    clickActive: function() {\n    \tvar item = document.getElementsByClassName(\"searchResultItemLink\")[this.state.index]/*document.getElementById('searchResultItemLink_'+this.state.index)*/;\n\n    \tif (item)\n    \t\titem.click();\n    },\n\n\trender: function() {\n\t\tvar items = [], iterator = 0, _this = this;\n\n\t\tthis.state.items.forEach(function(group,index) {\n\t\t\tif ((group.childrens||[]).length>0){\n\t\t\t\tif (group.title)\n    \t\t\t\titems.push(\n    \t\t\t\t\tReact.createElement(\"div\", {className: \"section\", key: \"group\"+index}, \n    \t\t\t\t\t\tgroup.title, \" \", React.createElement(\"span\", {className: \"count\"}, group.id ? group.childrens.length : null)\n    \t\t\t\t\t)\n    \t\t\t\t);\n\n                var childrens = [];\n\t\t\t\tgroup.childrens.forEach(function(item,index) {\n\t\t\t\t\tchildrens.push(\n\t\t\t\t\t\tReact.createElement(Item, {item: item, \n\t\t\t\t\t\t\t  active: (iterator+index)==_this.state.index, \n\t\t\t\t\t\t\t  index: iterator+index, \n\t\t\t\t\t\t\t  key: \"search_item_\" +(item.gist||\"\")+item._id, \n\t\t\t\t\t\t\t  onClick: _this.props.addQuery})\n\t\t\t\t\t);\n\t\t\t\t});\n                iterator += childrens.length;\n\n                if (childrens.length>0)\n                    items.push(\n                        React.createElement(\"div\", {className: \"childrens_\"+(group.className||\"\"), key: \"childrens\"+index}, \n                            childrens\n                        )\n                    );\n\t\t\t}\n\t\t});\n\n\t\tresultsCount = iterator;\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"search-results\", id: \"searchResults\", ref: \"div\", onWheel: this.handleScroll, onMouseEnter: this.handleResultsMouseOver, onMouseLeave: this.handleResultsMouseLeave}, \n\t\t\t\titems\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../../actions/Sites\":10,\"../../../actions/Stats\":11,\"../../../actions/Tags\":12,\"../../../stores/Collections\":115,\"../../../stores/Sites\":121,\"../../../stores/Stats\":122,\"../../../stores/Tags\":123,\"../Helpers/ScrollFixMixin.js\":48,\"./Item.js\":80}],84:[function(require,module,exports){\nvar QueryItem = require(\"./Query\");\nvar Results = require(\"./Results\");\nvar CollectionsStore = require('../../../stores/Collections');\n\nmodule.exports = React.createClass({\n    displayName: \"Search/Search\",\n    cleanQueries: function(queries) {\n        queries = (queries || []);\n\n        if ((CollectionsStore.getCurrentId()!=0)&&(CollectionsStore.getCurrentId()!=-2)) {\n            var q = {key: \"collection\", val: CollectionsStore.getCurrentId()};\n\n            if ((queries[0]||{}).key===\"collection\")\n                queries[0] = q;\n            else\n                queries.unshift(q);\n        }\n\n        return queries;\n    },\n\n    getInitialState: function() {\n        return {\n            val: \"\",\n            focus: false,\n            reseted: true,\n            queries: this.cleanQueries(this.props.queries)\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if (this.isMounted()) this.setState({queries: this.cleanQueries(nextProps.queries), val: nextProps.val||\"\"});\n    },\n\n    changeQuery: function(index,key) {\n        if (this.state.queries[index]){\n            //update\n            if (key != null){\n                this.state.queries[index].key = key;\n                this.focusOnQuery(index);\n            }\n            //remove\n            else{\n                React.findDOMNode(this.refs.searchInput).focus();\n                this.state.queries.splice(index,1);\n            }\n\n            if (this.isMounted()) this.setState({queries: this.state.queries});\n            this.changeLocation();\n        }\n    },\n\n    focusOnQuery: function(index) {\n        index = parseInt(index);\n        console.log(index)\n        //if (index<=0)\n        //    return;\n        \n        var elem = document.getElementById(\"focus-zone-\"+index);\n        if (elem)\n            elem.focus();\n        else\n            document.getElementById(\"searchInput\").focus();\n    },\n\n    handleFocus: function() {\n        _timeout = 0;\n        if (this.isMounted()) this.setState({reseted: true, focus: true});\n    },\n\n    handleBlur: function() {\n        var _this = this;\n        setTimeout(function() {\n            if (_this.isMounted()) _this.setState({reseted: true, focus: false});\n        }, _timeout);\n    },\n\n    handleKey: function(e) {\n        var si = React.findDOMNode(this.refs.searchInput);\n        switch(e.keyCode){\n            case 8: //backspace\n                if ((si.selectionStart==0)&&(si.selectionEnd==0)) {\n                    e.preventDefault();\n                    this.focusOnQuery(this.state.queries.length - 1);\n                }\n            break;\n\n            case 37: //left\n                if ((si.selectionStart==0)&&(si.selectionEnd==0)) {\n                    e.preventDefault();\n                    this.focusOnQuery(this.state.queries.length - 1);\n                }\n            break;\n\n            case 38: //top\n                e.preventDefault();\n                this.refs.results.scrollTo(\"top\");\n            break;\n\n            case 40:\n                e.preventDefault();\n                this.refs.results.scrollTo(\"bottom\");\n            break;\n\n            case 27: //esc\n                if ((this.state.queries.length == 0)&&(this.state.val==\"\"))\n                    this.handleFormReset();\n                else\n                    si.blur();\n            break;\n        }\n    },\n\n    handleType: function(e) {\n        var typed = (e.target.value || \"\")/*.trim()*/;\n\n        if (this.isMounted()) this.setState({val: typed});\n    },\n\n    addQuery: function(key,val) {\n        var canAdd = true;\n        key = key || \"word\";\n        this.state.queries.forEach(function(item) {\n            if ((item.key == key)&&(item.val == val)) canAdd = false;\n        });\n\n        if (canAdd){\n            this.state.queries.push({key: key, val: val});\n            if (this.isMounted()) this.setState({queries: this.state.queries, val: \"\", reseted: true});\n            this.refs.results.setState({index:-1});\n\n            this.changeLocation();\n        }\n\n        return canAdd;\n    },\n\n    changeLocation: function() {\n        var cId = 0;\n        if (this.state.queries.length>0)\n            if (this.state.queries[0].key===\"collection\")\n                cId = this.state.queries[0].val;\n\n        window.location = \"#/collection/\"+cId+\"/\"+encodeURIComponent(JSON.stringify(this.state.queries));\n    },\n\n    handleSubmit: function(e) {\n        e.preventDefault();\n        this.refs.results.clickActive();\n    },\n\n    handleFormReset: function(e) {\n        if (e)\n            e.preventDefault();\n        \n        var elem = document.getElementById('searchForm');\n        if (elem) elem.reset();\n        //document.getElementById('searchInput').blur();\n        if (this.isMounted()) this.setState({\n            val: \"\",\n            reseted: true,\n            //focus: false\n        });\n\n        if (typeof this.props.onSearchReset != 'undefined')\n            this.props.onSearchReset();\n    },\n\n    handleNotReseted: function() {\n        if (this.state.focus)\n        if (this.isMounted()) this.setState({reseted: !this.state.reseted});\n    },\n\n    render: function() {\n        var className = \"search-form\", _this = this;\n        if ((this.state.val==\"\")&&(this.state.reseted)) className += \" search-empty\";\n        if ((this.state.focus)/*&&(this.state.value!=\"\")*/) className += \" search-show-results\";\n\n        var queries = this.state.queries.map(function(item,index){\n            return React.createElement(QueryItem, {\n                        key: \"query_\"+index, \n                        index: index, \n                        item: item, \n                        changeQuery: _this.changeQuery, \n                        focusOnQuery: _this.focusOnQuery});\n        });\n\n        //\n        return (React.createElement(\"div\", {className: className}, \n            React.createElement(\"form\", {onSubmit: this.handleSubmit, id: \"searchForm\"}, \n                React.createElement(\"div\", {className: \"queries\"}, \n                    React.createElement(Icon, {name: \"search\", size: \"mac\"}), \n\n                    queries, \n\n                    React.createElement(\"input\", {ref: \"searchInput\", \n                           className: \"search-input\", \n                           id: \"searchInput\", \n                           type: \"search\", \n                           name: \"q\", \n                           value: this.state.val, \n                           onMouseDown: this.handleNotReseted, \n                           onChange: this.handleType, \n                           onFocus: this.handleFocus, \n                           onBlur: this.handleBlur, \n                           onKeyDown: this.handleKey, \n                           autoComplete: \"off\", \n                           placeholder: t.s('defaultCollection-0'), \n                           autoFocus: this.props.autoFocus||false}), \n\n                    queries.length>0 || this.state.focus || this.props.autoFocus ? React.createElement(\"a\", {href: \"\", className: \"action-icon\", onMouseDown: this.handleFormReset, onClick: this.handleFormReset, \"data-noclick\": \"true\"}, React.createElement(Icon, {name: \"clear\", size: \"mac\"})) : null\n                ), \n\n                React.createElement(Results, {ref: \"results\", val: this.state.val, queries: this.state.queries, addQuery: this.addQuery})\n            )\n        ));\n    }\n});\n\n},{\"../../../stores/Collections\":115,\"./Query\":82,\"./Results\":83}],85:[function(require,module,exports){\n/** @jsx React.DOM */\nvar SidebarActions = require('../../actions/Sidebar'),\n    SidebarStore = require('../../stores/Sidebar');\n\nvar CollectionsActions = require('../../actions/Collections');\nvar CollectionsStore = require('../../stores/Collections');\n\nvar BookmarksActions = require('../../actions/Bookmarks');\n\nvar UserActions = require('../../actions/User');\n\nvar StatsStore = require('../../stores/Stats'),\n    StatsActions = require('../../actions/Stats');\n\nvar OverflowScroll = require(\"../components/Helpers/OverflowScroll\");\n\nvar PopoverSettings = require(\"../components/Popovers/Settings\");\n\nvar Group = require(\"./Sidebar/Group\"),\n    Collection = require(\"./Sidebar/Collection\");\n\nmodule.exports = React.createClass({\n  displayName: \"Sidebar\",\n\n  contextTypes: {\n        router: React.PropTypes.func\n    },\n\n  getInitialState: function() {\n    return {\n        collections: CollectionsStore.getCollections(),\n        user: UserStore.getUser(),\n        open: SidebarStore.getState(),\n        stat: StatsStore.getStat(),\n\n        settingsPopover: false\n    }\n  },\n\n  onUserChange: function(user) {\n    if (this.isMounted()) this.setState({\n        user: user\n    });\n  },\n\n  onCollectionsChange: function(collections) {\n    if (this.isMounted())\n    this.setState({\n        collections: collections\n    });\n  },\n\n  onSidebarChange: function(open) {\n    if (this.isMounted()) this.setState({open: open});\n  },\n\n  onStatsChange: function(stat) {\n    if (this.isMounted()) this.setState({stat: stat});\n  },\n\n  componentDidMount: function() {\n    this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n    this.unsubscribeSidebar = SidebarStore.listen(this.onSidebarChange);\n    this.unsubscribeStats = StatsStore.listen(this.onStatsChange);\n\n    StatsActions.load();\n\n    window.addEventListener('macMainMenu', this.handleSettingsPopoverShow, true);\n\n    window.addEventListener('macAdd', this.defaultMacFab, true);\n  },\n\n  componentWillUnmount: function() {\n    this.unsubscribeUser();\n    this.unsubscribeCollections();\n    this.unsubscribeSidebar();\n    this.unsubscribeStats();\n    window.removeEventListener('macMainMenu', this.handleSettingsPopoverShow, true);\n\n    window.removeEventListener('macAdd', this.defaultMacFab, true);\n  },\n\n  defaultMacFab: function(e) {\n    if (!(window.macAdd||false))\n      if (UserStore.isLogged())\n        Pop.show(\"fab\");\n  },\n\n  handleSidebarOpen: function(e) {\n    e.preventDefault();\n    SidebarActions.change(!this.state.open);\n  },\n\n\n  handleGroupToggle: function(id) {\n    UserActions.toggleGroup({id:id});\n  },\n\n  handleMoveGroup: function(fromId, toId) {\n    UserStore.onSwapGroups({fromId: fromId, toId: toId});\n  },\n\n  handleDropCollectionToGroup: function(collectionId, groupId, dragParent) {\n    if (dragParent!=\"childrens\")\n      UserStore.onUpdateCollection({_id: collectionId, group: groupId, toTop: true});\n  },\n\n  handleMoveCollection: function(fromId, toId) {\n    UserStore.onSwapCollections({fromId: fromId, toId: toId});\n  },\n\n  handleDropBookmark: function(bookmarkId, collectionId) {\n    BookmarksActions.updateBookmark({\n      item: {\n        _id: bookmarkId,\n        collectionId: collectionId\n      },\n      showingCollectionId: parseInt(CollectionsStore.getCurrentId()),\n      successMessage: t.s(\"moveSuccess\")\n    });\n  },\n\n  handleGroupNewCollectionModalOpen: function(e){\n    if (typeof e == \"number\")\n      group = e;\n    else{\n      e.preventDefault();\n      var group = parseInt(e.target.getAttribute(\"data-group\"));\n    }\n\n    Pop.show(\"collection\", {\n      group: group,\n      pin: \"side-group-\"+group\n    });\n  },\n\n  handleSignIn: function(e) {\n    e.preventDefault();\n\n    UserActions.signIn(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleSignUp: function(e) {\n    e.preventDefault();\n\n    UserActions.signUp(function() {\n      location.hash=\"#/\";\n      location.reload();\n    });\n  },\n\n  handleSettingsPopoverShow: function(e) {\n    e.preventDefault();\n    if (this.isMounted()) this.setState({settingsPopover: !this.state.settingsPopover});\n  },\n\n  handleSettingsPopoverClose: function() {\n    if (this.isMounted()) this.setState({settingsPopover:false});\n  },\n\n  handleNewGroup: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"group\", {\n      id: -1,\n      pin: \"sidebar-new-group\"\n    });\n  },\n\n  renderLink: function(attr) {\n    return (\n      React.createElement(\"figure\", {id: attr.id||null, className: \"card collection \" + (window.location.href.indexOf(attr.href||{})!=-1 ? \"active\" : \"\")}, \n        React.createElement(\"div\", {className: \"icon\"}, \n          React.createElement(Icon, {name: attr.icon})\n        ), \n        React.createElement(\"figcaption\", {className: \"about\"}, attr.title), \n        React.createElement(\"a\", {href: attr.href||\"\", onClick: attr.onClick, className: \"permalink\"})\n      )\n    );\n  },\n\n  render: function() {\n      var avatar = null, _this = this;\n      //if (this.state.user._id)\n        //avatar = <img key=\"avatar\" className=\"icn icn-circle\" src={\"https://www.gravatar.com/avatar/\"+this.state.user.email_MD5+\"?d=mm&s=48\"} />;\n      //else\n        avatar = React.createElement(Icon, {key: \"avatar\", name: \"settings\", size: ((window.environment||[]).indexOf(\"mac\")!=-1) ? \"mac\" : \"\"});\n\n      var sidebar = null;\n      if ((this.state.open)||((window.environment||[]).indexOf(\"clipper\")!=-1)) {\n        if (UserStore.isLogged()){\n          var groups = (this.state.user.groups||[]).map(function(group) {\n            var items = [];\n            if (!group.hidden){\n              (group.collections||[]).forEach(function(c){\n                var collection = CollectionsStore.getCollection(c);\n                if (collection!=null)\n                  items.push (React.createElement(Collection, React.__spread({},  collection, \n                                          {key: \"collection_\"+collection._id, \n                                          onMove: _this.handleMoveCollection, \n                                          onDropBookmark: _this.handleDropBookmark})));\n              });\n\n              if (items.length==0)\n                items.push(\n                  React.createElement(\"figure\", {className: \"card collection\", \n                          key: \"empty_\"+group.id}, \n                    React.createElement(\"div\", {className: \"icon\"}, \n                      React.createElement(Icon, {name: \"folder-add\"})\n                    ), \n                    React.createElement(\"figcaption\", {className: \"about\"}, t.s(\"createFirstCollection\"), \"...\"), \n\n                    React.createElement(\"a\", {href: \"\", \"data-group\": group.id, onClick: _this.handleGroupNewCollectionModalOpen, id: \"newCollectionGroup\"+group.id, className: \"permalink\"})\n                  )\n                );\n            }\n\n            return (\n              React.createElement(\"section\", {key: \"sec_\"+group.id, className: (group.hidden ? \"section-hidden\" : \"\")}, \n                React.createElement(Group, React.__spread({},  group, {key: \"group_\"+group.id, \n                      onToggle: _this.handleGroupToggle, \n                      onMove: _this.handleMoveGroup, \n                      onDrop: _this.handleDropCollectionToGroup})), \n                items\n              )\n            );\n          });\n          \n          //Defaults\n          groups.unshift(\n            React.createElement(\"section\", {key: \"sec_defaults_first\"}, \n              React.createElement(Collection, React.__spread({},  CollectionsStore.getCollection(0), {key: \"d0\"})), \n              \n              React.createElement(Collection, React.__spread({},  CollectionsStore.getCollection(-1), {onDropBookmark: _this.handleDropBookmark, key: \"d-1\"}))\n            )\n          );\n\n          //New group\n          groups.push(\n            React.createElement(\"section\", {key: \"sec_add_group\"}, \n              React.createElement(\"figure\", {className: \"card group\", id: \"sidebar-new-group\"}, \n                React.createElement(\"figcaption\", {className: \"about\"}, t.s(\"createGroup\")), \n                React.createElement(\"a\", {href: \"\", className: \"permalink group-permalink\", onClick: this.handleNewGroup})\n              )\n            )\n          );\n\n          //Global\n          groups.push(\n            React.createElement(\"section\", {key: \"sec_defaults_last\"}, \n              \n\n              /*this.renderLink({icon: \"settings\", title: t.s(\"settings\") + \" \" + t.s(\"und\") + \" \" + t.s(\"profile\").toLowerCase(), id: \"settings-popover-link\", onClick: this.handleSettingsPopoverShow})*/\n              this.renderLink({icon: \"auto\", title: t.s(\"tools\"), href: \"#/tools\"}), \n              React.createElement(Collection, React.__spread({},  CollectionsStore.getCollection(-2), {onDropBookmark: _this.handleDropBookmark, key: \"d-2\"})), \n              React.createElement(Collection, React.__spread({},  CollectionsStore.getCollection(-99), {onDropBookmark: _this.handleDropBookmark, key: \"d-99\"}))\n            )\n          );\n\n          sidebar = (\n            React.createElement(\"div\", {className: \"collections-list\"}, \n              groups\n            )\n          );\n        }\n        else{\n          sidebar = (\n            React.createElement(\"div\", {className: \"collections-list\"}, \n              React.createElement(\"section\", null, \n                this.renderLink({icon: \"person\", title: t.s(\"signIn\"), onClick: this.handleSignIn}), \n                this.renderLink({icon: \"person-add\", title: t.s(\"signUp\"), onClick: this.handleSignUp})\n              ), \n\n              React.createElement(\"section\", null, \n                this.renderLink({icon: \"help\", title: t.s(\"help\"), href: network.settingsURL()+'/help'}), \n                this.renderLink({icon: \"install\", title: t.s(\"install\"), href: network.settingsURL()+'/install'})\n              )\n            )\n          );\n        }\n      }\n\n      var menu = null;\n      if (/*(UserStore.isLogged())&&*/((window.environment||[]).indexOf(\"mac\")==-1))\n        menu = React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSidebarOpen}, React.createElement(Icon, {name: \"menu\"}));\n\n      //<Icon name=\"logo\" style={{width: \"96px\", height: \"12px\"}} />\n      //<img src={(window.pathPrefix||\"\") + \"../common/images/logo-text.svg\"} className={this.state.open ? \"\" : \"hidden\"} alt=\"\" />\n      var header = (\n        React.createElement(\"header\", null, \n          menu, \n          React.createElement(\"div\", {className: \"header-center\"}, \n            React.createElement(\"div\", {id: \"settings-popover-link\", className: this.state.open ? \"header-user-block\" : \"hidden\", onClick: this.handleSettingsPopoverShow}, \n              React.createElement(\"img\", {key: \"avatar\", className: \"icn icn-circle pull-right\", src: \"https://www.gravatar.com/avatar/\"+this.state.user.email_MD5+\"?d=mm&s=48\"}), \n              this.state.user.fullName||t.s(\"settings\"), \" \", React.createElement(Icon, {name: \"arrow-down\", size: \"small\"})/*\n              <div className=\"subinfo\">{this.state.user.email}</div>*/\n            )\n          )\n        )\n      );\n      /*if ((window.environment||[]).indexOf(\"mac\")!=-1)\n        header = null;*/\n\n      var popoverattachId = \"settings-popover-link\";\n      if ((window.environment||[]).indexOf(\"mac\")!=-1)\n        popoverattachId = \"mac-settings-placeholder\";\n\n      return (\n        React.createElement(OverflowScroll, null, \n          header, \n          React.createElement(\"div\", {id: \"mac-settings-placeholder\"}), \n\n          sidebar, \n\n          React.createElement(PopoverSettings, {onClose: this.handleSettingsPopoverClose, \n            show: this.state.settingsPopover, \n            attachId: popoverattachId, \n            position: \"\" }\n            )\n        )\n      );\n      //position={this.state.newModal.position}\n  }\n});\n\n},{\"../../actions/Bookmarks\":2,\"../../actions/Collections\":4,\"../../actions/Sidebar\":9,\"../../actions/Stats\":11,\"../../actions/User\":14,\"../../stores/Collections\":115,\"../../stores/Sidebar\":120,\"../../stores/Stats\":122,\"../components/Helpers/OverflowScroll\":46,\"../components/Popovers/Settings\":79,\"./Sidebar/Collection\":86,\"./Sidebar/Group\":87}],86:[function(require,module,exports){\n/** @jsx React.DOM */\nvar CollectionsStore = require('../../../stores/Collections');\nvar ParentsStore = require('../../../stores/Parents');\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\nvar ItemDragDropMixin = require('../Collections/ItemDragDropMixin');\n//var PureRenderMixin = require('react/addons').addons.PureRenderMixin;\nvar Popover = require(\"../Popovers/Collection\");\n\nmodule.exports = React.createClass({\n  displayName: \"Sidebar/Collection\",\n\n  mixins: [DragDropMixin, ItemDragDropMixin],\n\n  contextTypes: {\n    router: React.PropTypes.func\n  },\n\n  getInitialState: function() {\n    return {\n      showPopover: false,\n      mousePos: false\n    }\n  },\n\n  handleMore: function(e) {\n    if(typeof e == \"object\") e.preventDefault();\n    if (this.isMounted()) this.setState({showPopover:true, mousePos: !e.target.classList.contains(\"icon-more\")});\n  },\n\n  handleEdit: function(e,step) {\n    if(typeof e == \"object\") e.preventDefault();\n\n    Pop.show(\"collection\", {\n      id: this.props._id,\n      pin: \"side-collection-\"+this.props._id,\n      step: step\n    });\n  },\n\n  handleSharing: function(e) {\n    if(typeof e == \"object\") e.preventDefault();\n    Pop.show(\"collection\", {\n      id: this.props._id,\n      pin: \"side-collection-\"+this.props._id,\n      step: \"sharing\"\n    });\n  },\n\n  handleSubFolder: function(e) {\n    if(typeof e == \"object\") e.preventDefault();\n    Pop.show(\"collection\", {\n      parentId: this.props._id,\n      pin: \"side-collection-\"+this.props._id\n    });\n  },\n\n  handlePopoverClose: function() {\n    if (this.isMounted()) this.setState({showPopover:false});\n  },\n\n  handleRemove: function(e) {\n    if(typeof e == \"object\") e.preventDefault();\n    CollectionsStore.onRemoveCollection({item: this.props});\n  },\n\n  render: function() {\n    var cover = \"\";//consts.defaultCollectionIcon();\n    try{cover = network.fixURL(this.props.cover[0]);}catch(e){}\n\n    var link = null;\n    if (this.props._id != -2)\n      link = '#/collection/' + this.props._id;\n    else{\n      if (((window.environment||[]).indexOf(\"mac\")!=-1)||((window.environment||[]).indexOf(\"clipper\")!=-1))\n        link = '#/collection/-2';\n      else if ((window.environment||[]).indexOf(\"web\")!=-1)\n        link = '#/dashboard';\n      else\n        link = '#/';\n    }\n\n    var active = CollectionsStore.getCurrentId()==this.props._id;\n    var className = \"card collection\" + (active ? \" active\" : \"\");\n    var style = null;\n    if ((active)&&(this.props.color)&&(this.props._id>0))\n      style = {color: /*\"inset 3px 0px 0px \"+*/this.props.color};\n\n    if (this.getDragState('collection').isDragging)\n      className += \" no-opacity\";\n\n    if (this.getDropState('bookmark').isHovering)\n      className += \" drag-hover\";\n\n    var statusShared = null, statusPublic = null;\n    if (this.props.collaborators && this.props.author)\n        statusShared = React.createElement(Icon, {name: \"shared\", size: \"small\"});\n    else if (this.props.collaborators && !this.props.author)\n        statusShared = React.createElement(Icon, {name: \"public\", size: \"small\"});\n    //if (this.props.public)\n    //    statusPublic = <Icon name=\"link\" size=\"small\" />;\n\n    var actions = null;\n    if (this.props.author) {\n      actions = (React.createElement(\"div\", {className: \"more\"}, \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSharing, title: t.s(\"sharing\")}, React.createElement(Icon, {name: \"share\", size: \"mac\"})), \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSubFolder, title: t.s(\"createSubFolder\")}, React.createElement(Icon, {name: \"folder-add\", size: \"mac\"})), \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleEdit, id: \"side-collection-more-\"+this.props._id, title: t.s(\"collectionEdit\")}, React.createElement(Icon, {name: \"settings\", size: \"mac\"}))\n          /*<a href=\"\" id={\"more-\"+this.props._id} className=\"action-icon icon-more\" onClick={this.handleMore}><Icon name=\"more\" size=\"mac\" /></a>*/\n      ));\n    }else if (this.props._id>0){\n      actions = (React.createElement(\"div\", {className: \"more\"}, \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleSharing, title: t.s(\"sharing\")}, React.createElement(Icon, {name: \"share\", size: \"mac\"}))\n      ));\n    }\n\n    if (this.props._id == -99)\n      actions = (React.createElement(\"div\", {className: \"more\"}, \n          React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleRemove}, React.createElement(Icon, {name: \"trash\", size: \"mac\"}))\n      ));\n\n    var collectionIcon = null;\n    if ((!cover)||(this.props._id<=0))\n      collectionIcon = React.createElement(Icon, {name: network.defaultIcons(this.props._id)});\n    else\n      collectionIcon = React.createElement(\"img\", {src: cover, alt: \"\"});\n\n    return (\n      React.createElement(\"figure\", React.__spread({},  this.dragSourceFor('collection'), \n              this.dropTargetFor('collection', 'bookmark'), \n              {onContextMenu: this.handleMore, \n              className: className, \n              style: style, \n              ref: \"collection\", \n              id: \"side-collection-\"+this.props._id}), \n        React.createElement(\"div\", {className: \"icon\"}, \n          collectionIcon\n        ), \n        React.createElement(\"figcaption\", {className: \"about\"}, this.props.title), \n\n        React.createElement(\"div\", {className: \"info\"}, \n          statusShared, \n          statusPublic\n        ), \n        React.createElement(\"div\", {className: \"count\"}, \n          this.props.count||null\n        ), \n\n        actions, \n        React.createElement(\"a\", {href: link, className: \"permalink\"}), \n        React.createElement(Popover, React.__spread({position: this.state.mousePos ? \"left\" : \"\", onClose: this.handlePopoverClose, show: this.state.showPopover, attachId: \"more-\"+this.props._id},  {collection:this.props}, {onlyBasic: true, handleEdit: this.handleEdit, handleRemove: this.handleRemove, mousePos: this.state.mousePos}))\n      )\n    );\n  }\n});\n\n},{\"../../../modules/ReactDND\":102,\"../../../stores/Collections\":115,\"../../../stores/Parents\":118,\"../Collections/ItemDragDropMixin\":32,\"../Popovers/Collection\":75}],87:[function(require,module,exports){\n/** @jsx React.DOM */\nvar DragDropMixin = require('../../../modules/ReactDND').DragDropMixin;\nvar GroupTabDragDropMixin = require('../Collections/GroupTabDragDropMixin');\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\n\nmodule.exports = React.createClass({\n  displayName: \"Sidebar/Group\",\n\n  mixins: [DragDropMixin, GroupTabDragDropMixin, PureRenderMixin],\n\n  onToggleGroup: function(e) {\n    e.preventDefault();\n    this.props.onToggle(this.props.id);\n  },\n\n  handleMore: function(e) {\n    e.preventDefault();\n    Pop.show(\"group\", {\n      id: this.props.id,\n      pin: \"side-group-\"+this.props.id\n    });\n  },\n\n  handleAdd: function(e) {\n    e.preventDefault();\n\n    Pop.show(\"collection\", {\n      group: this.props.id,\n      pin: \"side-group-\"+this.props.id\n    });\n  },\n\n  render: function() {\n    return (\n      React.createElement(\"figure\", React.__spread({className: \"card group \"+(this.props.hidden ? \"closed\" : \"open\"), \n              onContextMenu: this.handleMore}, \n              this.dropTargetFor('collection', 'group'), \n              this.dragSourceFor('group'), \n              {\"data-id\": this.props.id, \n              ref: \"group\", \n              id: \"side-group-\"+this.props.id}), \n        React.createElement(\"figcaption\", {className: \"about\"}, this.props.title), \n        React.createElement(\"div\", {className: \"status\" + (this.props.hidden ? \"\" : \" invisible\")}, React.createElement(Icon, {name: \"arrow-down\", size: \"small\"})), \n\n        React.createElement(\"div\", {className: \"more\"}, \n            React.createElement(\"a\", {href: \"\", className: \"action-icon icon-more\", onClick: this.handleMore, title: t.s(\"edit\")}, React.createElement(Icon, {name: \"edit\", size: \"mac\"})), \n            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleAdd, title: t.s(\"createNewCollection\")}, React.createElement(Icon, {name: \"folder-add\", size: \"mac\"}))\n        ), \n\n        React.createElement(\"a\", {href: \"\", className: \"permalink group-permalink\", onClick: this.onToggleGroup})\n      )\n    );\n  }\n});\n\n},{\"../../../modules/ReactDND\":102,\"../Collections/GroupTabDragDropMixin\":30,\"react/addons\":\"react/addons\"}],88:[function(require,module,exports){\n/** @jsx React.DOM */\nvar ToastStore = require('../../stores/Toast');\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\nmodule.exports = React.createClass({\n  displayName: \"Toast\",\n\n    //mixins: [PureRenderMixin],\n\n    getInitialState: function() {\n        return {\n            items: ToastStore.getToasts()\n        }\n    },\n\n    onToastsChange: function(toasts) {\n        if (this.isMounted()) this.setState({items:toasts});\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeToast = ToastStore.listen(this.onToastsChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeToast();\n    },\n\n    handleCloseItem: function(e) {\n        Toasts.close({id: e.target.getAttribute(\"data-id\")});\n    },\n\n    handleStopTimer: function(e) {\n        //Toasts.stopTimer({id: e.target.getAttribute(\"data-id\")});\n    },\n\n    render: function() {\n        var _this = this;\n\n        var items = this.state.items.map(function(item){\n            var title = null;\n            if (item.title)\n                title = React.createElement(\"div\", {className: \"title\"}, React.createElement(\"strong\", null, item.title));\n\n            var icon = \"info-outline\";\n            if (item.status||\"\" == \"error\")\n                icon = \"cancel\";\n\n            return (\n                React.createElement(\"li\", {key: \"toast_\"+item.id, \"data-id\": item.id, id: \"toast-\"+item.id, onMouseEnter: _this.handleStopTimer, onClick: _this.handleCloseItem}, \n                    React.createElement(\"div\", {className: \"item-wrap status-\"+item.status||\"\"}, \n                        React.createElement(\"div\", null, React.createElement(Icon, {name: icon})), \n                        React.createElement(\"div\", null, \n                            title, \n                            React.createElement(\"div\", {className: \"excerpt\"}, item.text)\n                        )\n                    )\n                )\n            );\n        });\n\n        return (\n            React.createElement(ReactCSSTransitionGroup, {component: \"ul\", transitionName: \"toastanim\", transitionEnterTimeout: 300, transitionLeaveTimeout: 300}, \n                items\n            )\n        );\n    }\n});\n\n},{\"../../stores/Toast\":124}],89:[function(require,module,exports){\nvar SidebarActions = require('../../actions/Sidebar');\n\nmodule.exports = React.createClass({\n\tdisplayName: \"UnifiedTitleBar\",\n\thandleSidebar: function(e) {\n\t\tif (e) e.preventDefault();\n        SidebarActions.change(true);\n\t},\n\n\trender: function() {\n\t\tvar _this = this;\n\t\tvar path = this.props.path.map(function(item,index){\n\t\t\t\tif (index == _this.props.path.length-1)\n\t\t\t\t\treturn React.createElement(\"li\", {className: \"item active\"}, item.title);\n\t\t\t\telse{\n\t\t\t\t\treturn [React.createElement(\"li\", {className: \"item\"}, React.createElement(\"a\", {href: item.href}, item.title)), React.createElement(\"li\", {className: \"item separator\"}, React.createElement(Icon, {name: \"chevron-right\", size: \"small\"}))];\n\t\t\t\t}\n\t\t\t});\n\n\t\tif ((window.environment||[]).indexOf(\"clipper\")!=-1){\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"div\", {className: \"clipper-toolbar\"}, \n\t                React.createElement(\"header\", null, \n\t                    React.createElement(\"section\", {className: \"menu\"}, \n\t                        React.createElement(\"a\", {href: \"#/\", className: \"action-icon\"}, React.createElement(Icon, {name: \"back\"}))\n\t                    ), \n\t                    \n\t                    React.createElement(\"section\", {className: \"navigation\"}, \n\t                    \tpath.length>1 ? React.createElement(\"ul\", {className: \"path\"}, path.splice(0,1)) : null, \n\t                    \tReact.createElement(\"h1\", null, this.props.path[this.props.path.length-1].title)\n\t                    )\n\t                )\n\t            )\n\t\t\t);\n\t\t}\n\t\telse if ((window.environment||[]).indexOf(\"mac\")!=-1)\n\t\t\treturn React.createElement(\"div\", null);\n\t\telse {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"div\", {className: \"collection-toolbar unified-titlebar\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"breadcrumbs-wrap\"}, \n\t\t                React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n\t\t                    React.createElement(\"li\", {className: \"item\"}, React.createElement(\"a\", {href: \"#/\", className: \"action-icon\"}, React.createElement(Icon, {name: \"home\"}))), \n\t\t                    React.createElement(\"li\", {className: \"item separator\"}, React.createElement(Icon, {name: \"chevron-right\", size: \"small\"}))\n\t\t                ), \n\t\t                React.createElement(\"ul\", {className: \"breadcrumbs\"}, \n\t\t                    path\n\t\t                )\n\t\t            )\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n});\n\n},{\"../../actions/Sidebar\":9}],90:[function(require,module,exports){\nvar host = \"https://raindrop.io\",\n    apiPrefix = \"/api/\";\n\nmodule.exports = {\n    host: host,\n    apiPrefix: host + apiPrefix,\n    screenshotService: host + \"/screenshot/?url=\",\n    contentTypes: [\"link\", \"article\", \"image\", \"video\"],\n\n    proPage: host + \"/static/pro\",\n    modalMargin: 30,\n\n    languages: {\n        \"id_ID\": \"Bahasa Indonesia\",\n        \"de_DE\": \"Deutsch\",\n        \"en_US\": \"English\",\n        \"es_ES\": \"Espaol\",\n        \"fr_FR\": \"Franais\",\n        \"nl_NL\": \"Nederlands\",\n        \"pl_PL\": \"Polski\",\n        \"pt_BR\": \"Portugus (Brasil)\",\n        \"sv_SE\": \"Svenska\",\n        \"fi_FI\": \"Suomi\",\n        \"tr_TR\": \"Trke\",\n        \"kk_KZ\": \" \",\n        \"ru_RU\": \"\",\n        \"uk_UA\": \" \",\n        \"ko_KR\": \"\",\n        \"zh_TW\": \" ()\",\n        \"zh_CN\": \"\",\n        \"hy_AM\": \"\"\n    },\n\n    backgroundImages: [\n        {\n            src: \"\",\n            contrast: \"black\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/reflectiononthelake.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/milleniumbridge.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/empireofthealps.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/brown-sunset.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/san-francisco.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/rocks.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/material-geometry.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/brown-rocks.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/material-view.jpg\",\n            contrast: \"black\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/surf.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/silver.jpg\",\n            contrast: \"black\"\n        }\n    ],\n\n    getBackgroundSelected: function() {\n        var prefs = null, current = 0;\n        try{\n            if (localStorage.getItem(\"background-image\")!=null)\n              prefs = localStorage.getItem(\"background-image\");\n        }catch(e){}\n\n        for(var i in this.backgroundImages)\n            if (this.backgroundImages[i].src == prefs){\n                current = i;\n                break;\n            }\n        return current;\n    },\n\n    setBackground: function(pathPrefix) {\n        var i = this.getBackgroundSelected();\n\n        if (i>=0){\n            var current = this.backgroundImages[i];\n\n            /*var setBg = function() {\n                if (document.getElementById('app-background')!=null)\n                    document.getElementById('app-background').style.backgroundImage = \"url(\"+(pathPrefix||\"\")+current.src+\")\";\n            }\n            if (document.getElementById('app-background')!=null)\n                setBg();\n            else\n                document.addEventListener(\"DOMContentLoaded\", setBg);*/\n\n            //document.documentElement.style.backgroundImage = \"url(\"+(pathPrefix||\"\")+current.src+\")\";\n            document.documentElement.classList.remove(\"contrast-white\");\n            document.documentElement.classList.remove(\"contrast-black\");\n            document.documentElement.classList.add(\"contrast-\"+current.contrast||\"black\");\n\n            var trySetBg = function(bg) {\n                var setBg = function(){\n                    if (document.getElementById('app-background')!=null)\n                        document.getElementById('app-background').style.backgroundImage='url(\"'+bg+'\")';\n                }\n                if (document.getElementById('app-background')!=null)\n                    setBg();\n                else\n                    document.addEventListener(\"DOMContentLoaded\", setBg);\n            };\n\n            //Load from HTTP\n            if (!current.src){\n                trySetBg(\"about:blank\");\n                return;\n            }\n\n            var url = (pathPrefix||\"\")+current.src;\n            var tempBg = null;\n            try{localStorage.getItem(url);}catch(e){}\n\n            if (tempBg == null){\n                var xmlhttp = new XMLHttpRequest();\n                var fileReader = new FileReader();\n\n                xmlhttp.onload = function() {\n                  if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n                    var blob = new Blob([xmlhttp.response], {type: \"image/jpeg\"});\n                    fileReader.onload = function (evt) {\n                        // Read out file contents as a Data URL\n                        var result = evt.target.result;\n                        \n                        trySetBg(result);\n                        try{localStorage.setItem(url, result);}catch(e){}\n                    };\n                    // Load blob as Data URL\n                    fileReader.readAsDataURL(blob);\n                  }\n                }\n                xmlhttp.open(\"GET\", url, true);\n                xmlhttp.responseType = 'arraybuffer';\n                xmlhttp.send();\n            }else{\n                trySetBg(tempBg);\n            }\n        }\n    },\n\n    defaultCollectionIcon: function() {\n        return network.fixURL(\"/other/popup/img/icon-folder.png\");\n    },\n\n    getImportLink: function() {\n        if (typeof window.environment != \"undefined\")\n            return network.fixURL(\"/other/import/import.html\");\n        else\n            return \"../import/index.html\";\n    }\n}\n\n},{}],91:[function(require,module,exports){\nmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"500px\\\" height=\\\"250px\\\" viewBox=\\\"0 0 500 250\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n    <!-- Generator: Sketch 3.3.1 (12002) - http://www.bohemiancoding.com/sketch -->\\n    <title>bookmarks</title>\\n    <desc>Created with Sketch.</desc>\\n    <defs></defs>\\n    <g id=\\\"Page-2\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"bookmarks\\\" sketch:type=\\\"MSArtboardGroup\\\">\\n            <circle id=\\\"Oval-1\\\" stroke=\\\"#DCDCDC\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"250\\\" cy=\\\"151\\\" r=\\\"87\\\"></circle>\\n            <circle id=\\\"Oval-4\\\" stroke=\\\"#DCDCDC\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"250\\\" cy=\\\"151\\\" r=\\\"237\\\"></circle>\\n            <circle id=\\\"Oval-7\\\" stroke=\\\"#DCDCDC\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"250\\\" cy=\\\"151\\\" r=\\\"157\\\"></circle>\\n            <path d=\\\"M252.645968,135.706433 L280,136 L280,130.998101 C280,129.886706 279.103546,129 277.997715,129 L247,129 L252.269167,135.534166 C251.686895,135.237645 251.160069,134.824097 250.833302,134.366623 L243.166698,123.633377 C242.523564,122.732989 241.10853,122 240.008845,122 L221.991155,122 C220.889674,122 220,122.894047 220,123.99691 L220,173.00309 C220,174.102324 220.893777,175 221.996307,175 L278.003693,175 C279.10527,175 280,174.10406 280,172.998861 L280,136 L253.991244,136 C253.570798,136 253.101239,135.891461 252.645968,135.706433 Z\\\" id=\\\"Oval-4\\\" stroke=\\\"#848484\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(413.000000, 196.000000)\\\">\\n                <circle id=\\\"Oval-1\\\" fill=\\\"#1DD3AB\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"22\\\" cy=\\\"22\\\" r=\\\"22\\\"></circle>\\n                <path d=\\\"M10.3125,10.3125 L12.4377185,33.7925926 L21.9667342,36.4375 L31.5622815,33.7925926 L33.6875,10.3125 L10.3125,10.3125 L10.3125,10.3125 Z M29.0718346,17.9702351 L17.8831956,17.9702351 L18.1316774,20.9260301 L28.823416,20.9260301 L27.9925924,29.8080324 L22.0328231,31.4246723 L22.0328231,31.4413426 L21.9667342,31.4413426 L15.9568131,29.8080324 L15.5915847,25.2688137 L18.4969058,25.2688137 L18.7125645,27.555 L21.9667342,28.4204839 L25.2368411,27.555 L25.6025122,23.8324363 L15.4424576,23.8324363 L14.662355,15.1131554 L29.3377083,15.1131554 L29.0718346,17.9702351 L29.0718346,17.9702351 Z\\\" id=\\\"Shape\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(260.000000, 192.000000)\\\">\\n                <path d=\\\"M32,64 C49.673112,64 64,49.673112 64,32 C64,14.326888 49.673112,0 32,0 C14.326888,0 0,14.326888 0,32 C0,49.673112 14.326888,64 32,64 Z\\\" id=\\\"Oval-6\\\" fill=\\\"#FF3B30\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                <path d=\\\"M17.4011461,42.3443502 C14.9770774,42.3443502 13,44.2876284 13,46.6721751 C13,49.0567218 14.9770774,51 17.4011461,51 L20.5988539,51 C21.9140401,51 23.0830946,50.4229567 23.8911175,49.523448 C23.8997135,49.514962 23.9169054,49.514962 23.9255014,49.5064761 C23.9770774,49.4555605 24.0114613,49.3791871 24.0544413,49.3282715 C24.1661891,49.1924967 24.269341,49.0567218 24.3553009,48.903975 C25.1719198,47.6989728 25.5587393,46.1121036 25.5587393,44.8986155 L25.5587393,28.1558732 L25.5587393,28.0116123 L25.5587393,27.8758374 C25.6275072,26.6708352 26.52149,25.6949531 27.7163324,25.4234033 C27.8624642,25.3894596 28.1805158,25.3215721 28.1805158,25.3215721 L41.0659026,22.9115677 C41.1260745,22.9030817 41.1776504,22.8945958 41.2378223,22.8861099 C41.3065903,22.8776239 41.3667622,22.8776239 41.4441261,22.8776239 C42.4842407,22.8776239 43.2578797,23.6837874 43.2578797,24.6766414 L43.2578797,35.827155 C43.2578797,37.9910674 43.5071633,38.534167 39.7765043,38.534167 L38.0487106,38.534167 C35.6160458,38.534167 33.6475645,40.4774453 33.6475645,42.861992 C33.6475645,45.2465386 35.6160458,47.1898169 38.0487106,47.1898169 L41.2464183,47.1898169 C42.8108883,47.1898169 44.1776504,46.3921393 44.9598854,45.1871371 C44.9598854,45.1786512 44.9684814,45.1871371 44.9770774,45.1871371 C45.7507163,44.1518535 46,42.5904422 46,40.4944172 L46,14.7990174 C46,13.8061635 45.1489971,13 44.1088825,13 C44.0487106,13 43.9885387,13.0084859 43.9369628,13.0084859 L43.6704871,13.0509156 L24.974212,16.5471192 C23.7879656,16.8610987 22.713467,17.9812416 22.6275072,19.2117017 L22.6275072,19.2286735 L22.6275072,19.2456454 L22.6275072,40.4689594 C22.6275072,41.6485038 22.7994269,42.3528361 18.5272206,42.3528361 L17.4011461,42.3528361 L17.4011461,42.3443502 Z\\\" id=\\\"Shape\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(175.000000, 192.000000)\\\">\\n                <ellipse id=\\\"Oval-5\\\" fill=\\\"#8F9BAC\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"32\\\" cy=\\\"32\\\" rx=\\\"32\\\" ry=\\\"32\\\"></ellipse>\\n                <path d=\\\"M40,34 L24,34 L24,34 L24,36 L40,36 L40,34 L40,34 Z M46,34 L51,34 L51,36 L46,36 L46,34 L46,34 Z M18,34 L13,34 L13,36 L18,36 L18,34 L18,34 Z M39,21 L39,16.999615 C39,15.8874333 38.1019465,15 36.9941413,15 L27.0058587,15 C25.8970601,15 25,15.8952581 25,16.999615 L25,21 L15.0028592,21 C13.9018508,21 13,21.8987122 13,23.0073299 L13,45.9926701 C13,47.1016617 13.8967106,48 15.0028592,48 L48.9971408,48 C50.0981492,48 51,47.1012878 51,45.9926701 L51,23.0073299 C51,21.8983383 50.1032894,21 48.9971408,21 L39,21 L39,21 Z M37,21 L37,17 L27,17 L27,21 L37,21 Z M20,31 L22,31 L22,40 L20,40 L20,31 Z M42,31 L44,31 L44,40 L42,40 L42,31 Z\\\" id=\\\"Rectangle-176\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(300.000000, 118.000000)\\\">\\n                <ellipse id=\\\"Oval-4\\\" fill=\\\"#2196F3\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"32\\\" cy=\\\"32\\\" rx=\\\"32\\\" ry=\\\"32\\\"></ellipse>\\n                <path d=\\\"M12,34.1732174 L12,28.5945557 C12,28.0834182 12.4084444,27.6654639 12.9088889,27.6654639 L22.5004444,27.6654639 L18.3244444,35.1032227 L12.9088889,35.1032227 C12.4084444,35.1032227 12,34.686182 12,34.1732174 L12,34.1732174 Z M18.8324444,45.5959303 L15.7715556,47.7272686 C15.3595556,48.0154972 15.0684444,47.8327849 15.1253333,47.3248449 L15.5337778,43.6783652 C15.5906667,43.1704252 15.9915556,42.9630468 16.4248889,43.21656 L18.7937778,44.607457 C19.2266667,44.8627974 19.2444444,45.3099856 18.8324444,45.5959303 L18.8324444,45.5959303 Z M19.5675556,43.5404175 L17.1986667,42.1495205 C16.7653333,41.8946369 16.6128889,41.3245747 16.8648889,40.8819543 L27.8342222,21.3381388 C28.0831111,20.894148 28.644,20.7383858 29.0768889,20.9960101 L31.4457778,22.3837096 C31.8791111,22.6413339 32.0284444,23.2118529 31.7795556,23.6544733 L20.8102222,43.1987456 C20.5617778,43.6422796 20.0004444,43.7943875 19.5675556,43.5404175 L19.5675556,43.5404175 Z M27.916,35.1032227 L32.092,27.6654639 L34.4964444,27.6654639 L37.8875556,35.1032227 L27.916,35.1032227 L27.916,35.1032227 Z M41.5168889,37.3231765 C40.5684444,36.8362484 35.8453333,25.6853199 34.6355556,22.7760842 C33.424,19.8668484 29.7662222,12.1230466 30.9497778,11.5200962 C31.7915556,11.0879817 34.8133333,17.186003 37.0786667,20.8470996 C39.3404444,24.5081963 44.0706667,33.9480245 44.6528889,35.0232861 C45.232,36.1008316 44.0955556,36.9997758 43.4635556,37.2683628 C42.8311111,37.5374066 42.4648889,37.8055368 41.5168889,37.3231765 L41.5168889,37.3231765 Z M44.6204444,42.4477982 L43.1933333,40.1410561 C42.8982222,39.6614365 43.0515556,39.068992 43.5302222,38.8159356 L44.8906667,38.1006171 C45.3702222,37.8498446 45.9706667,38.0531119 46.2257778,38.554657 L47.3515556,40.7704998 C47.6075556,41.2715882 47.4333333,41.9147353 46.9715556,42.1979392 L45.9991111,42.7931244 C45.5368889,43.0795258 44.916,42.9233069 44.6204444,42.4477982 L44.6204444,42.4477982 Z M49.8728889,48.4983143 C49.5746667,47.5212606 47.2982222,47.4563977 46.2791111,45.9846506 C45.2564444,44.517928 46.1017778,43.7624129 46.4564444,43.4134325 C50.5902222,41.0308648 49.8728889,48.4983143 49.8728889,48.4983143 L49.8728889,48.4983143 Z M52,34.1732174 C52,34.686182 51.5915556,35.1032227 51.0911111,35.1032227 L46.2897778,35.1032227 C46.2368889,34.8163645 46.1511111,34.5295062 46.0057778,34.2604625 C45.8808889,34.0316154 45.5648889,33.4145048 45.1248889,32.5539301 C44.4893333,31.3119436 43.5768889,29.5359805 42.5995556,27.6654639 L51.0902222,27.6654639 C51.5906667,27.6654639 51.9991111,28.0834182 51.9991111,28.5945557 L52,34.1732174 L52,34.1732174 Z\\\" id=\\\"Shape\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(51.000000, 40.000000)\\\">\\n                <circle id=\\\"Oval-1\\\" fill=\\\"#795548\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"22\\\" cy=\\\"22\\\" r=\\\"22\\\"></circle>\\n                <path d=\\\"M21.4495678,35.75 L21.4495678,22.5504324 L17.0353019,22.5504324 C16.8871731,26.3159998 15.2259067,29.6927963 12.6426509,32.0896735 C14.9727592,34.2516675 18.053009,35.6163873 21.4495678,35.75 L21.4495678,35.75 L21.4495678,35.75 Z M11.1128701,30.4171444 C9.4161037,28.225673 8.36634248,25.5079644 8.25,22.5504324 L15.9334939,22.5504324 C15.7854601,26.0108595 14.2483299,29.1114895 11.8655575,31.3088677 C11.8804422,31.3250641 11.3647441,30.7424542 11.1128701,30.4171444 L11.1128701,30.4171444 L11.1128701,30.4171444 Z M32.1344425,31.3088677 C34.2704964,28.9845945 35.6173119,25.9234864 35.75,22.5504324 L35.75,22.5504324 L28.0665061,22.5504324 C28.2145399,26.0108595 29.7516702,29.1114895 32.1344425,31.3088677 L32.1344425,31.3088677 L32.1344425,31.3088677 Z M31.3573491,32.0896735 C29.0272408,34.2516675 25.946991,35.6163873 22.5504324,35.75 L22.5504324,35.75 L22.5504324,22.5504324 L26.9646981,22.5504324 C27.1128269,26.3159998 28.7740933,29.6927963 31.3573491,32.0896735 L31.3573491,32.0896735 L31.3573491,32.0896735 Z M32.1344425,12.6911323 C34.2704965,15.0154055 35.6173119,18.0765136 35.75,21.4495678 L35.75,21.4495678 L28.0665061,21.4495678 C28.2145399,17.9891405 29.7516702,14.8885105 32.1344425,12.6911323 L32.1344425,12.6911323 L32.1344425,12.6911323 Z M31.3573494,11.9103267 C29.0272411,9.74833265 25.9469911,8.38361276 22.5504324,8.25 L22.5504324,21.4495678 L26.9646981,21.4495678 C27.1128269,17.6840002 28.7740933,14.3072037 31.3573491,11.9103265 L31.3573494,11.9103267 L31.3573494,11.9103267 Z M11.8655578,12.691132 C9.72950364,15.0154053 8.38268816,18.0765135 8.25,21.4495678 L8.25,21.4495678 L15.9334939,21.4495678 C15.7854601,17.9891405 14.2483299,14.8885105 11.8655575,12.6911323 L11.8655578,12.691132 L11.8655578,12.691132 Z M12.6426509,11.9103265 C14.9727592,9.74833255 18.053009,8.38361276 21.4495678,8.25 L21.4495678,8.25 L21.4495678,21.4495678 L17.0353019,21.4495678 C16.8871731,17.6840002 15.2259067,14.3072037 12.6426509,11.9103265 L12.6426509,11.9103265 L12.6426509,11.9103265 Z\\\" id=\\\"basketball\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(135.000000, 118.000000)\\\">\\n                <ellipse id=\\\"Oval-7\\\" fill=\\\"#5AC8FA\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"32\\\" cy=\\\"32\\\" rx=\\\"32\\\" ry=\\\"32\\\"></ellipse>\\n                <path d=\\\"M50.3112727,15.6677619 C48.7270902,14.1258358 44.7614971,15.4917703 42.8629437,17.3396817 L35.640633,24.3773445 C34.9358669,23.741375 17.3886312,17.6516668 16.7598895,18.2616376 L14.470941,20.4875309 C13.8380899,21.1015015 13.8380899,22.0974537 14.470941,22.7114243 L27.2964498,32.5029551 L22.2418597,37.4247192 C21.8576286,37.8007012 21.3747714,38.3786735 20.865203,39.0606408 L20.6617866,38.8646502 C20.3412516,38.5526652 15.7345885,37.9866923 15.4119988,38.2986774 L14.2449227,39.4306231 C13.9243877,39.7446081 13.9243877,40.2505838 14.2449227,40.5625689 L14.8202419,41.1205421 L17.9043638,44.1183985 C17.2920598,45.6023273 17.0680962,46.8902656 17.6577984,47.466238 C18.2495553,48.0422104 19.5748442,47.822221 21.1014948,47.2222497 L24.140413,50.1781081 L24.7465529,50.76408 C25.0670879,51.0780649 25.5910393,51.0780649 25.9115743,50.76408 L27.0786504,49.6321342 C27.3991854,49.3201492 26.817702,44.8443637 26.4951123,44.5323786 L26.2958053,44.3383879 C26.9964619,43.8444116 27.5841094,43.376434 27.9662857,43.0044518 L33.0208759,38.0806878 L43.0848525,50.5240915 C43.7177037,51.1380621 44.7430047,51.1380621 45.3738011,50.5240915 L47.6627496,48.3001981 C48.2956007,47.6842276 42.0184573,30.6090459 41.3712232,29.9470776 L48.5873698,22.9174145 C50.4900326,21.0715029 51.8934005,17.2076881 50.3112727,15.6677619 L50.3112727,15.6677619 Z\\\" id=\\\"Shape\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(260.000000, 44.000000)\\\">\\n                <ellipse id=\\\"Oval-3\\\" fill=\\\"#FF9500\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"32\\\" cy=\\\"32\\\" rx=\\\"32\\\" ry=\\\"32\\\"></ellipse>\\n                <path d=\\\"M22,31 L22,21 C22,15.4771525 26.4759382,11 32,11 L32,11 C37.5228475,11 42,15.4759382 42,21 L42,31\\\" id=\\\"Rectangle-154\\\" stroke=\\\"#FFFFFF\\\" stroke-width=\\\"2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                <path d=\\\"M15.7794028,23.9853745 C15.9012353,22.8888824 16.8892617,22 18.0017433,22 L45.9982567,22 C47.103789,22 48.0998154,22.8983383 48.2205972,23.9853745 L50.7794028,47.0146255 C50.9012353,48.1111176 50.0981492,49 48.9971408,49 L15.0028592,49 C13.8967106,49 13.0998154,48.1016617 13.2205972,47.0146255 L15.7794028,23.9853745 Z\\\" id=\\\"Rectangle-153\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                <path d=\\\"M23,23 L23,28.5990195\\\" id=\\\"Line\\\" stroke=\\\"#FF9500\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"square\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                <path d=\\\"M41,23 L41,28.5990195\\\" id=\\\"Line-Copy\\\" stroke=\\\"#FF9500\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"square\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                <path d=\\\"M23,34 C24.6568542,34 26,32.6568542 26,31 C26,29.3431458 24.6568542,28 23,28 C21.3431458,28 20,29.3431458 20,31 C20,32.6568542 21.3431458,34 23,34 Z M41,34 C42.6568542,34 44,32.6568542 44,31 C44,29.3431458 42.6568542,28 41,28 C39.3431458,28 38,29.3431458 38,31 C38,32.6568542 39.3431458,34 41,34 Z\\\" id=\\\"Oval-14\\\" fill=\\\"#FF9500\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n            <g id=\\\"item\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(175.000000, 44.000000)\\\">\\n                <ellipse id=\\\"Oval-2\\\" fill=\\\"#FF3B30\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"32\\\" cy=\\\"32\\\" rx=\\\"32\\\" ry=\\\"32\\\"></ellipse>\\n                <path d=\\\"M14,16.0023996 C14,14.8965048 14.8898926,14 15.9997073,14 L48.0002927,14 C49.1047006,14 50,14.8962786 50,16.0023996 L50,48.9976004 C50,50.1034952 49.1101074,51 48.0002927,51 L15.9997073,51 C14.8952994,51 14,50.1037214 14,48.9976004 L14,16.0023996 Z M16,16 L19,16 L19,19 L16,19 L16,16 Z M16,21 L19,21 L19,24 L16,24 L16,21 Z M16,26 L19,26 L19,29 L16,29 L16,26 Z M16,31 L19,31 L19,34 L16,34 L16,31 Z M16,36 L19,36 L19,39 L16,39 L16,36 Z M16,41 L19,41 L19,44 L16,44 L16,41 Z M16,46 L19,46 L19,49 L16,49 L16,46 Z M45,16 L48,16 L48,19 L45,19 L45,16 Z M45,21 L48,21 L48,24 L45,24 L45,21 Z M45,26 L48,26 L48,29 L45,29 L45,26 Z M45,31 L48,31 L48,34 L45,34 L45,31 Z M45,36 L48,36 L48,39 L45,39 L45,36 Z M45,41 L48,41 L48,44 L45,44 L45,41 Z M45,46 L48,46 L48,49 L45,49 L45,46 Z M21,16 L43,16 L43,31 L21,31 L21,16 Z M21,33 L43,33 L43,49 L21,49 L21,33 Z\\\" id=\\\"Rectangle-154\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>\";\n\n},{}],92:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcontextTypes: {\n\t    router: React.PropTypes.func\n\t},\n\tcomponentDidMount: function() {\n\t\tthis.context.router.transitionTo('/');\n\t},\n\n\trender: function() {\n\t\treturn null;\n\t}\n});\n\n},{}],93:[function(require,module,exports){\n/** @jsx React.DOM */\nvar BookmarksView = require('../components/Bookmarks/List.js'),\n    BookmarksViewMasonry = require('../components/Bookmarks/Masonry.js'),\n    ChildrensView = require('../components/Collections/Childrens.js'),\n    Search = require('../components/Search/Search.js'),\n    InfiniteScroll = require('react-infinite-scroll')(React),\n    Fab = require('../components/Fab.js'),\n    BatchEdit = require('../components/Bookmarks/BatchEdit.js'),\n    Tips = require('../components/Helpers/Tips.js'),\n    ScrollFixMixin = require('../components/Helpers/ScrollFixMixin.js');\n\nif ((window.environment||[]).indexOf(\"mac\")!=-1)\n  var Toolbar = require('../components/Collections/DesktopToolbar.js');\nelse if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n  var Toolbar = require('../components/Collections/ClipperToolbar.js');\nelse\n  var Toolbar = require('../components/Collections/Toolbar.js');\n\nvar ViewerModal = require('../components/Modals/Viewer');\n\nvar BookmarksActions = require('../../actions/Bookmarks');\nvar BookmarksStore = require('../../stores/Bookmarks');\n\nvar CollectionsActions = require('../../actions/Collections');\nvar CollectionsStore = require('../../stores/Collections');\n\nvar ChildrensActions = require('../../actions/Childrens');\nvar ChildrensStore = require('../../stores/Childrens');\n\nvar ParentsActions = require('../../actions/Parents');\nvar ParentsStore = require('../../stores/Parents');\n\nvar colorThief = require('../../modules/colorThief.js');\n\nvar _bookmarksParams = {}, _hasMore = false, _params = {};\n\nmodule.exports = React.createClass({\n    displayName: \"routes/Collection\",\n\n    mixins: [ScrollFixMixin],\n\n    getInitialState: function() {\n        return {\n            bookmarks: BookmarksStore.getBookmarks(),\n            childrens: [],\n            collection: {},\n            parents: [],\n\n            viewerModal: {\n                show: false,\n                id: 0\n            }\n        }\n    },\n\n    onUserChange: function(user) {\n      if (this.isMounted())\n      this.setState({\n          user: user\n      });\n    },\n\n    onBookmarksChange: function(bookmarks) {\n        if (this.isMounted())\n        this.setState({\n            bookmarks: bookmarks\n        });\n\n        this._hasMore = true;\n    },\n\n    onCollectionsChange: function(collections) {\n        if (this.isMounted()){\n          var collection = CollectionsStore.getCollection(CollectionsStore.getCurrentId());\n          if (collection!=null) {\n              this.handleActionBarBackground(collection.color||null);\n              if (this.isMounted())\n              this.setState({collection: collection});\n          }\n        }\n    },\n\n    onChildrensChange: function(childrens) {\n        if (this.isMounted())\n        this.setState({\n            childrens: childrens\n        });\n    },\n\n    onParentsChange: function(parents) {\n        if (this.isMounted())\n        this.setState({\n            parents: parents\n        });\n    },\n\n    //When route params changes\n    componentWillReceiveProps: function(nextProps) {\n        if (!this._checkViewer()){\n          this._hasMore = false;\n          if (this.isMounted()){\n            this.setState({\n                bookmarks: [],\n                childrens: [],\n                collection: {}\n            });\n            this.loadAll();\n          }\n        }\n    },\n\n    _checkViewer: function() {\n      var _query = this.context.router.getCurrentQuery(),\n          _temp = {\n            id: parseInt(_query.viewer||0),\n            show: parseInt(_query.viewer||0)>0\n          };\n\n      if ((_temp.id != this.state.viewerModal.id)||(_temp.show != this.state.viewerModal.show)) {\n        if (this.isMounted())\n          this.setState({viewerModal: _temp});\n\n        return true;\n      }\n      else\n        return false;\n    },\n\n    loadAll: function() {\n        CollectionsStore.onLoad();\n\n        var _params = {};\n        try{_params = this.context.router.getCurrentParams();}catch(e){}\n\n        if (_bookmarksParams.cId!=_params.cId){\n          _bookmarksParams.sort = ( ((_params.cId==0)||(_params.cId==-99)) ? \"lastUpdate\" : \"sort\");\n        }\n        _bookmarksParams.cId = _params.cId;\n        _bookmarksParams.page = 0;\n        _bookmarksParams.search = false;\n        _bookmarksParams.perpage = 40;\n\n        _bookmarksParams.search = {};\n        try{_bookmarksParams.search = decodeURIComponent(_params.search||\"{}\")} catch(e){}\n\n        if (_params.cId != -2)\n          _bookmarksParams.speed = \"async\";\n\n        ChildrensStore.onLoad(_bookmarksParams);\n        CollectionsStore.onSetCurrent(_params.cId);\n        BookmarksStore.onLoad(_bookmarksParams);\n        ParentsStore.onLoad({cId: _params.cId});\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n        this.unsubscribeBookmarks = BookmarksStore.listen(this.onBookmarksChange);\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        this.unsubscribeChildrens = ChildrensStore.listen(this.onChildrensChange);\n        this.unsubscribeParents = ParentsStore.listen(this.onParentsChange);\n\n        this.loadAll();\n        this._checkViewer();\n\n        window.macAdd = true;\n        //window.addEventListener('macAdd', this.handleFabClick, true);\n\n        window.dropFiles = BookmarksStore.handleDropFiles;\n    },\n\n    componentWillUnmount: function() {\n        BookmarksStore.reset();\n        this.unsubscribeUser();\n        this.unsubscribeBookmarks();\n        this.unsubscribeCollections();\n        this.unsubscribeChildrens();\n        this.unsubscribeParents();\n\n        //window.removeEventListener('macAdd', this.handleFabClick, true);\n        window.macAdd = false;\n\n        delete window.dropFiles;\n    },\n\n    handleActionBarBackground: function(c) {\n        try{\n          var divs = document.getElementsByClassName(\"currentCollectionBackground\");\n          if (divs.length>0)\n            for(var i in divs){\n              if (!divs[i].classList.contains('icn'))\n                divs[i].style.backgroundColor = c;\n              \n              divs[i].style.fill = c;\n            }\n        }catch(e){}\n    },\n\n    handleCollectionColor: function() {\n      if (typeof this.state.collection._id == 'undefined')\n        return false;\n\n      if ((!this.state.collection.color)||(this.state.collection.color == null)) {\n        var coverURL = null, c = null;\n        try{coverURL = this.state.collection.cover[0];}catch(e){}\n\n        if (coverURL!=null) {\n            c = Api.getItem(\"palette_\" + coverURL) || null;\n\n            if (c == null) {\n                c = colorThief.getDarkPalette(React.findDOMNode(this.refs.collectionIcon));\n\n                if (c!=\"0,0,0\") {\n                    Api.setItem(\"palette_\" + coverURL, c);\n                }\n                else\n                    c = null;\n            }\n        }\n\n        if (c!=null)\n            c = \"rgb(\"+c+\")\";\n\n        CollectionsActions.updateColorCollection({_id: this.state.collection._id, color: c});\n      }else\n        c = this.state.collection.color;\n\n      this.handleActionBarBackground(c);\n    },\n\n    handleCollectionColorError: function() {\n      this.handleActionBarBackground(null);\n    },\n\n    handleChangeView: function(view){\n        if (this.state.collection.view != view) {\n            BookmarksActions.clearSelect();\n\n            CollectionsActions.updateCollection({\n                item: {_id: this.state.collection._id, view: view},\n                silent: true\n            });\n            if (this.isMounted())\n            this.componentWillReceiveProps();\n        }\n    },\n\n    handleSortChange: function(val){\n        _bookmarksParams.sort = val;\n        if (this.isMounted())\n        this.componentWillReceiveProps();\n    },\n\n    handleNextPage: function(e) {\n        try{e.preventDefault();}catch(e){}\n        if ((!BookmarksStore.getIsLoading())&&(!BookmarksStore.getIsNoMore())&&(this._hasMore)&&(this.isMounted())) {\n            _bookmarksParams.page++;\n            BookmarksActions.load(_bookmarksParams);\n        }\n    },\n\n    handleSearchReset: function(e) {\n        var needUpdate = false;\n\n        if (typeof _bookmarksParams.search != 'undefined')\n            if (_bookmarksParams.search!=false)\n                needUpdate = true;\n\n        if(needUpdate) {\n            window.location.hash=\"#/collection/\"+_bookmarksParams.cId;\n            //this.context.router.transitionTo('collection', {cId: _bookmarksParams.cId});\n        }\n    },\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    handleMoveCollection: function(fromId, toId) {\n      ChildrensStore.onSwapCollections({fromId: fromId, toId: toId});\n    },\n\n    handleMoveCollectionEnd: function() {\n      ChildrensActions.saveAllSort();\n    },\n\n    handleMoveBookmark: function(fromId, toId) {\n      BookmarksStore.onSwapBookmarks({fromId: fromId, toId: toId, preservList: true});\n    },\n\n    handleMoveBookmarkEnd: function() {\n      BookmarksActions.syncMove();\n    },\n\n    handleDropBookmark: function(bookmarkId, collectionId) {\n      BookmarksActions.updateBookmark({\n        item: {\n          _id: bookmarkId,\n          collectionId: collectionId,\n        },\n        successMessage: t.s(\"moveSuccess\")\n      });\n    },\n\n    handleSelectBookmark: function(params) {\n      BookmarksActions.setSelected(params);\n    },\n\n    handleSelectBookmarksCancel: function() {\n      BookmarksActions.clearSelect();\n    },\n\n    handleSelectAllBookmarks: function() {\n      BookmarksActions.selectAll();\n    },\n\n    handleViewerModalClose: function() {\n        this.context.router.transitionTo(this.context.router.getCurrentPathname());\n    },\n\n    mainContentScroll: function(e) {\n      var _this = this;\n      this.handleScroll(e, function(stop) {\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n          _this.handleNextPage();\n      });\n    },\n\n    render: function() {\n        var bview = null, cover = null;\n\n        if (typeof this.state.collection._id != \"undefined\") {\n            if (this.state.bookmarks.length>0) {\n                if (this.state.collection.view == 'masonry')\n                    bview = React.createElement(BookmarksViewMasonry, {view: this.state.collection.view, \n                                                  sort: _bookmarksParams.sort, \n                                                  items: this.state.bookmarks, \n                                                  canEdit: this.state.collection.author || this.state.collection._id<=0, \n                                                  selectMode: BookmarksStore.getSelectedCount()>0, \n                                                  showPath: this.state.collection._id==0, \n                                                  onMove: this.handleMoveBookmark, \n                                                  onMoveEnd: this.handleMoveBookmarkEnd, \n                                                  onSelect: this.handleSelectBookmark});\n                else\n                    bview = React.createElement(BookmarksView, {view: this.state.collection.view, \n                                           sort: _bookmarksParams.sort, \n                                           items: this.state.bookmarks, \n                                           canEdit: this.state.collection.author || this.state.collection._id<=0, \n                                           selectMode: BookmarksStore.getSelectedCount()>0, \n                                           showPath: this.state.collection._id==0, \n                                           onMove: this.handleMoveBookmark, \n                                           onMoveEnd: this.handleMoveBookmarkEnd, \n                                           onSelect: this.handleSelectBookmark});\n            }\n        }\n\n        try{cover = network.fixURL(this.state.collection.cover[0]);}catch(e){}\n\n        var batchEdit = null;\n        if (BookmarksStore.getSelectedCount()>0){\n          batchEdit = React.createElement(BatchEdit, {count: BookmarksStore.getSelectedCount(), \n                                  bookmarksCount: this.state.collection.count, \n                                  onCancel: this.handleSelectBookmarksCancel, \n                                  onSelectAll: this.handleSelectAllBookmarks});\n\n          document.documentElement.classList.add(\"side-actions-open\");\n        }else{\n          document.documentElement.classList.remove(\"side-actions-open\");\n        }\n\n        var fab = null;\n        if ((this.state.collection._id != -99)&&((window.environment||[]).indexOf(\"mac\")==-1)&&((window.environment||[]).indexOf(\"clipper\")==-1))\n          fab = React.createElement(Fab, null);\n\n        var search = null, searchQueries = [];\n        try{searchQueries = JSON.parse(decodeURIComponent(this.context.router.getCurrentParams().search||\"\"))} catch(e){}\n\n        //desktop mode\n        if ((window.environment||[]).indexOf(\"mac\")!=-1){\n\n        }else if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n\n        }else {\n          search = React.createElement(Search, {queries: searchQueries, onSearchReset: this.handleSearchReset});\n        }\n\n        var actionBarCollectionIcon = null;\n        if ( (this.state.collection.color||null) == null )\n          actionBarCollectionIcon = React.createElement(\"img\", {src: cover, alt: \"\", ref: \"collectionIcon\", className: \"hidden\", onLoad: this.handleCollectionColor, onError: this.handleCollectionColorError});\n\n        var toolbar = (React.createElement(Toolbar, {\n                  collection: this.state.collection, \n                  parents: this.state.parents, \n                  sortSelected: _bookmarksParams.sort, \n                  handleChangeView: this.handleChangeView, \n                  handleSortChange: this.handleSortChange, \n                  onDropBookmark: this.handleDropBookmark, \n                  queries: searchQueries, \n                  onSearchReset: this.handleSearchReset}\n                ));\n\n        if ((!UserStore.isLogged())/*&&(!UserStore.isLoading())*/) {\n          search = null;\n          //toolbar = null;\n        }\n\n        var itemsLoading = false;\n        if (_bookmarksParams.page==0){\n          if (BookmarksStore.getIsLoading()) itemsLoading = true;\n          if (ChildrensStore.getIsLoading()) itemsLoading = true;\n        }\n        //console.log(BookmarksStore.getIsLoading(),ChildrensStore.getIsLoading())\n\n        return (\n            React.createElement(\"div\", {className: \"max-width main-content-wrap\"}, \n                actionBarCollectionIcon, \n\n                search, \n                toolbar, \n\n                React.createElement(\"div\", {className: \"main-content \"+(itemsLoading ? \"loading\" : \"\"), onWheel: this.mainContentScroll, ref: \"div\"}, \n                  React.createElement(Tips, {scope: \"bookmarks\"}), \n\n                  React.createElement(ChildrensView, {items: this.state.childrens, \n                                  onCollectionMove: this.handleMoveCollection, \n                                  onCollectionMoveEnd: this.handleMoveCollectionEnd, \n                                  onDropBookmark: this.handleDropBookmark}), \n                  React.createElement(InfiniteScroll, {\n                      pageStart: 0, \n                      loadMore: this.handleNextPage, \n                      hasMore: true, \n                      loader: React.createElement(\"span\", null)}, \n                      bview, \n                      React.createElement(\"div\", {className: \"show-more-button \" + ( ((!BookmarksStore.getIsLoading()) && (!BookmarksStore.getIsNoMore()) && (UserStore.isLogged())) ? \"show-more-button-visible\" : \"\") }, t.s(\"more\"), React.createElement(\"a\", {href: \"\", className: \"permalink\", onClick: this.handleNextPage}))\n                  ), \n\n                  batchEdit, \n                  React.createElement(\"span\", {className: \"loading-placeholder\"})\n                ), \n\n                React.createElement(DocumentTitle, {title: this.state.collection.title||\"\"}), \n\n                fab, \n\n                React.createElement(Modal, {position: \"viewer\", forceUpdated: true, isOpened: this.state.viewerModal.show, onClose: this.handleViewerModalClose, closeOnOutsideClick: false, closeOnEsc: true, params: this.state.viewerModal}, \n                    React.createElement(ViewerModal, {router: this.context.router, loadMore: this.handleNextPage})\n                )\n            ));\n    }\n});\n\n},{\"../../actions/Bookmarks\":2,\"../../actions/Childrens\":3,\"../../actions/Collections\":4,\"../../actions/Parents\":7,\"../../modules/colorThief.js\":104,\"../../stores/Bookmarks\":113,\"../../stores/Childrens\":114,\"../../stores/Collections\":115,\"../../stores/Parents\":118,\"../components/Bookmarks/BatchEdit.js\":16,\"../components/Bookmarks/List.js\":19,\"../components/Bookmarks/Masonry.js\":20,\"../components/Collections/Childrens.js\":26,\"../components/Collections/ClipperToolbar.js\":27,\"../components/Collections/DesktopToolbar.js\":28,\"../components/Collections/Toolbar.js\":34,\"../components/Fab.js\":35,\"../components/Helpers/ScrollFixMixin.js\":48,\"../components/Helpers/Tips.js\":51,\"../components/Modals/Viewer\":62,\"../components/Search/Search.js\":84,\"react-infinite-scroll\":\"react-infinite-scroll\"}],94:[function(require,module,exports){\n/** @jsx React.DOM */\nvar Favorite = require('../components/Bookmarks/Favorite.js'),\n    Search = require('../components/Search/Search.js'),\n    Collection = require('../components/Collections/Item.js'),\n    GroupTab = require('../components/Collections/GroupTab.js'),\n    Fab = require('../components/Fab.js'),\n    Tips = require('../components/Helpers/Tips.js');\n\nvar BookmarksActions = require('../../actions/Bookmarks');\nvar BookmarksStore = require('../../stores/Bookmarks');\n\nvar CollectionsActions = require('../../actions/Collections');\nvar CollectionsStore = require('../../stores/Collections');\n\nvar UserActions = require('../../actions/User');\n\nvar SidebarActions = require('../../actions/Sidebar'),\n    SidebarStore = require('../../stores/Sidebar');\n\nvar Onboard = require(\"../components/Helpers/Onboard.js\");\n\nvar dashboard = React.createClass({\n    displayName: \"routes/Dashboard\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    getInitialState: function() {\n        BookmarksStore.onLoad({\n          cId: -2,\n          page: 0,\n          sort: \"sort\",\n          speed: \"sync\"\n        }, function(){\n          //BookmarksStore.onInitFavorites();\n        });\n\n        return {\n            favorites: BookmarksStore.getBookmarks(),\n            collections: CollectionsStore.getCollections(),\n            user: UserStore.getUser(),\n            sidebarOpen: SidebarStore.getState(),\n\n            group: {\n              active: parseInt(Api.getItem(\"dashboard-active-group\") || -1),\n              direction: \"right\"\n            }\n        }\n    },\n\n    onBookmarksChange: function(bookmarks) {\n        if (this.isMounted())\n        this.setState({\n          favorites: bookmarks\n        });\n    },\n\n    onCollectionsChange: function(collections) {\n        if (this.isMounted())\n        this.setState({\n            collections: collections\n        });\n    },\n\n    onUserChange: function(user) {\n        if (this.isMounted()){\n          this.setState({\n              user: user\n          });\n        }\n    },\n\n    onToggleGroup: function(id) {\n        UserActions.toggleGroup({id:id});\n        return false;\n    },\n\n    onSidebarChange: function(open) {\n      if (this.isMounted())\n        this.setState({sidebarOpen: open});\n    },\n\n    componentWillMount: function() {\n        CollectionsStore.onLoad();\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeBookmarks = BookmarksStore.listen(this.onBookmarksChange);\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n        this.unsubscribeSidebar = SidebarStore.listen(this.onSidebarChange);\n\n        CollectionsActions.setCurrent(-2);\n\n        window.dropFiles = BookmarksStore.handleDropFiles; \n    },\n\n    componentWillUnmount: function() {\n        //CollectionsStore.reset();\n        BookmarksStore.reset();\n        this.unsubscribeBookmarks();\n        this.unsubscribeCollections();\n        this.unsubscribeUser();\n        this.unsubscribeSidebar();\n\n        delete window.dropFiles;\n    },\n\n    handleFavAddClick: function(e){\n        if (e)\n          e.preventDefault();\n        \n        Pop.show(\"URL\", {\n          pin: \"fabAppButton\",\n          parentId: CollectionsStore.getCurrentId()\n        })\n    },\n\n    handleMoveFavorite: function(fromId, toId) {\n      BookmarksStore.onSwapBookmarks({fromId: fromId, toId: toId});\n    },\n\n    handleSaveSortFavorites: function() {\n      BookmarksActions.saveAllSort();\n    },\n\n    handleMoveCollection: function(fromId, toId) {\n      UserStore.onSwapCollections({fromId: fromId, toId: toId});\n    },\n\n    handleMoveCollectionEnd: function() {\n\n    },\n\n    handleMoveGroup: function(fromId, toId) {\n      UserStore.onSwapGroups({fromId: fromId, toId: toId});\n    },\n\n    handleTabChange: function(e) {\n      var group = _.clone(this.state.group);\n\n      if (typeof e.target != \"undefined\"){\n        if (e.target.getAttribute(\"data-id\"))\n          group.active = parseInt(e.target.getAttribute(\"data-id\"));\n        else\n          return false;\n      }\n      else\n        group.active = e.id;\n\n      group.direction = \"right\";\n\n      //direction\n      var lastIndex = _.findIndex(this.state.user.groups, {id: this.state.group.active});\n      var currentIndex = _.findIndex(this.state.user.groups, {id: group.active});\n      if (currentIndex < lastIndex)\n        group.direction = \"left\";\n\n      if (this.isMounted())\n      this.setState({group: group});\n\n      Api.setItem(\"dashboard-active-group\", group.active);\n    },\n\n    handleSignInGoogle: function(e) {\n      e.preventDefault();\n\n      UserActions.signIn(function() {\n        location.hash=\"#/\";\n        location.reload();\n      }, {google: true});\n    },\n\n    render: function() {\n        var _this = this;\n\n        var items = [];\n\n        if ((!this.state.sidebarOpen)&&(UserStore.isLogged())) {\n          var groups = [], groups_content = null;\n          if (this.state.group.active>=0){\n            var activeGroupIndex = _.findIndex(this.state.user.groups, {id: this.state.group.active});\n            if (activeGroupIndex==-1)\n              this.state.group.active = -1;\n          }\n\n          if (UserStore.isLogged()){\n            if ((this.state.user.groups||[]).length>0){\n              this.state.user.groups.forEach(function(item, index){\n                //if ((item.collections||[]).length>0)\n                  groups.push(\n                    React.createElement(GroupTab, {id: item.id, \n                              key: \"grouptab_item_\"+item.id, \n                              active: _this.state.group.active == item.id, \n                              onClick: _this.handleTabChange, \n                              onMove: _this.handleMoveGroup}, \n                      item.title\n                    ));\n              });\n            }\n          }else{\n            /*groups.push(\n              <div className={\"item\"+(this.state.group.active==-2?\" active\":\"\")} data-id=\"-2\" key={-2} onClick={_this.handleTabChange}><div className=\"title\">{t.s(\"bookmarks\")}</div></div>\n            );*/\n          }\n\n          groups_content = (\n            React.createElement(\"div\", {className: \"groups-tab\", \"data-direction\": this.state.group.direction}, \n              React.createElement(\"div\", {className: \"item\"+(this.state.group.active==-1?\" active\":\"\"), \"data-id\": \"-1\", onClick: _this.handleTabChange}, React.createElement(\"div\", {className: \"title no-padding\"}, React.createElement(Icon, {name: \"best\"}))), \n              groups\n            )\n          );\n        }else{\n          this.state.group.active = -1;\n        }\n\n        /*if (groups_content == null)\n          tab = -1;*/\n\n        switch(this.state.group.active){\n          case -1:\n            if (UserStore.isLogged()){\n              items = (this.state.favorites||[]).map(function(item){\n                  return (React.createElement(Favorite, {item: item, key: \"fav_\"+item._id, onMove: _this.handleMoveFavorite, onEndDrag: _this.handleSaveSortFavorites}));\n              });\n\n              if (items.length==0){\n                items.push(\n                  React.createElement(\"figure\", {className: \"card favorite-item favorite-white favorite-add\", id: \"fav_add\", key: \"fav_add\"}, \n                    React.createElement(\"div\", {className: \"favicon favicon-svg\"}, \n                      React.createElement(Icon, {name: \"bookmark-outline\", size: \"big\"})\n                    ), \n                    React.createElement(\"figcaption\", {className: \"about\"}, \n                      React.createElement(\"div\", {className: \"title\"}, t.s(\"add\"))\n                    ), \n                    React.createElement(\"a\", {href: \"\", onClick: _this.handleFavAddClick, className: \"permalink\"})\n                  )\n                );\n              }\n\n              //items.push(<Collection item={CollectionsStore.getCollection(0)} key={\"d0\"} />);\n              //items.push(<Collection item={CollectionsStore.getCollection(-1)} key={\"d-1\"} />);\n            }else if (!UserStore.isLoading()) {\n              items = [\n                React.createElement(\"div\", {className: \"max-width\", key: \"fav_onboard\"}, React.createElement(Onboard, {className: \"anim-material-from-center\", scenario: \"bookmarks\", params: {actions: true}}))\n              ];\n            }\n          break;\n\n          default:\n            if (typeof this.state.user.groups[activeGroupIndex] != \"undefined\")\n            (this.state.user.groups[activeGroupIndex].collections||[]).forEach(function(c){\n                var collection = CollectionsStore.getCollection(c);\n                if (collection!=null)\n                  items.push (React.createElement(Collection, {item: collection, \n                                          key: \"collection_item_\"+collection._id, \n                                          onMove: _this.handleMoveCollection, \n                                          onEndDrag: _this.props.handleMoveCollectionEnd}));\n            });\n\n            items.push(React.createElement(Tips, {key: \"fav_tips\", scope: \"collections\", params: {collectionsCount: items.length}}));\n          break;\n        }\n\n        var search = React.createElement(Search, {q: \"\"});\n        var fab = React.createElement(Fab, null);\n\n        if ((!UserStore.isLogged()) && (!UserStore.isLoading())){\n          fab = null;\n          search = null;\n        }\n\n        return (\n            React.createElement(\"div\", {className: \"max-width\"}, \n                search, \n                React.createElement(\"div\", {className: \"dashboard-wrap\"}, \n                  React.createElement(\"div\", {className: \"dashboard\"}, items)\n                ), \n\n                React.createElement(DocumentTitle, {title: strings.defaultTitle()}), \n\n                fab, \n\n                groups_content\n            ));\n    }\n});\n\nmodule.exports = dashboard;\n\n},{\"../../actions/Bookmarks\":2,\"../../actions/Collections\":4,\"../../actions/Sidebar\":9,\"../../actions/User\":14,\"../../stores/Bookmarks\":113,\"../../stores/Collections\":115,\"../../stores/Sidebar\":120,\"../components/Bookmarks/Favorite.js\":17,\"../components/Collections/GroupTab.js\":29,\"../components/Collections/Item.js\":31,\"../components/Fab.js\":35,\"../components/Helpers/Onboard.js\":45,\"../components/Helpers/Tips.js\":51,\"../components/Search/Search.js\":84}],95:[function(require,module,exports){\n/** @jsx React.DOM */\nvar UserActions = require('../../actions/User');\nvar CollectionsStore = require('../../stores/Collections');\n\nvar CoverSelector = require(\"../components/Helpers/CoverSelector\"),\n    OverflowScroll = require(\"../components/Helpers/OverflowScroll\");\n\nmodule.exports = React.createClass({\n    displayName: \"routes/Interface\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    getInitialState: function() {\n        var bgs = consts.backgroundImages.map(function(item){\n            return item.src;\n        });\n\n        return {\n            backgroundImages: bgs,\n            backgroundImageSelected: consts.getBackgroundSelected(),\n\n            user: UserStore.getUser()\n        };\n    },\n\n    handleClose: function(e) {\n        if (e)\n            e.preventDefault();\n\n        try{\n          window.history.back();\n        }catch(e) {\n          if (e)\n            window.location.hash = \"#/\";\n        }\n    },\n\n    handleChangeBackground: function(index) {\n        Api.setItem(\"background-image\",this.state.backgroundImages[index]);\n        consts.setBackground();\n    },\n\n    onUserChange: function(user) {\n        this.setState({\n            user: user\n        });\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n    render: function() {\n        return (\n            React.createElement(\"div\", {className: \"max-width\"}, React.createElement(\"div\", {className: \"centered-content\", style: {height:\"100vh\"}}, \n            React.createElement(\"div\", {className: \"modal-dialog\"}, \n                React.createElement(\"header\", null, \n                    React.createElement(\"div\", {className: \"actionBar\"}, \n                        React.createElement(\"div\", {className: \"actions\"}, \n                            React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleClose}, React.createElement(Icon, {name: \"back\"}))\n                        ), \n                        React.createElement(\"h3\", null, t.s(\"interfaceStyle\"))\n                    )\n\n                    \n                ), \n\n                React.createElement(\"article\", null, \n                    React.createElement(\"div\", {style: {margin:\"0 -16px\"}}, \n                        React.createElement(CoverSelector, {items: this.state.backgroundImages, thumbs: true, selected: this.state.backgroundImageSelected, onSelect: this.handleChangeBackground})\n                    )\n                )\n            )\n            ), \n\n            React.createElement(DocumentTitle, {title: t.s(\"interfaceStyle\")})\n            )\n        );\n    }\n});\n\n},{\"../../actions/User\":14,\"../../stores/Collections\":115,\"../components/Helpers/CoverSelector\":41,\"../components/Helpers/OverflowScroll\":46}],96:[function(require,module,exports){\nvar RouteHandler = Router.RouteHandler;\n\nvar CollectionsStore = require('../../stores/Collections');\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcontextTypes: {\n        router: React.PropTypes.func\n    },\n\n\tcomponentDidMount: function() {\n\t\tCollectionsStore.onSetCurrent(null);\n\t},\n\n\trender: function() {\n\t\tvar path = [{title: t.s(\"tools\"), href: \"#/tools\"}];\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"max-width main-content-wrap\"}, \n\t\t\t\tReact.createElement(RouteHandler, {path: path})\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../stores/Collections\":115}],97:[function(require,module,exports){\nvar TitleBar = require(\"../../components/UnifiedTitleBar\");\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\trenderItem: function(item) {\n\t\treturn (\n\t\t\tReact.createElement(\"figure\", {className: \"card collection-item\"}, \n\t\t\t\tReact.createElement(\"div\", {className: \"favicon\"}, \n\t\t\t\t\titem.icon\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"figcaption\", {className: \"about\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, item.title)\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"a\", {href: item.href, className: \"permalink\"})\n\t\t\t)\n\t\t);\n\t},\n\t\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", null, \n\t\t\t\tReact.createElement(DocumentTitle, {title: t.s(\"tools\")}), \n\t\t\t\tReact.createElement(TitleBar, {path: this.props.path}), \n\t\t\t\tReact.createElement(\"div\", {className: \"bookmarks view-grid childrens\"}, \n\t\t\t\t\tthis.renderItem({title: t.s(\"tags\"), href: \"#/tools/tags\", icon: React.createElement(\"img\", {className: \"icon\", src: network.fixURL(\"/other/welcome3/images/tag.svg\")})})\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../components/UnifiedTitleBar\":89}],98:[function(require,module,exports){\nvar TitleBar = require(\"../../components/UnifiedTitleBar\");\n\nvar TagsStore = require('../../../stores/Tags');\nvar TagEditModal = require('../../components/Modals/TagEdit');\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\ttags: TagsStore.getTags(),\n\t\t\tsort: \"count\",\n\n\t\t\ttagModal: {\n\t            index: 0,\n\t            show: false\n\t        }\n\t\t}\n\t},\n\n\tcomponentDidMount: function() {\n        this.unsubscribeTags = TagsStore.listen(this.onTagsChange);\n        TagsStore.onLoad();\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeTags();\n    },\n\n    onTagsChange: function(tags) {\n    \tthis.setState({tags: tags});\n    },\n\n    handleSortTitle: function(e) {\n    \te.preventDefault();\n    \tthis.setState({sort: \"title\"});\n    },\n\n    handleSortCount: function(e) {\n    \te.preventDefault();\n    \tthis.setState({sort: \"count\"});\n    },\n\n    handleTagEditModalClose: function() {\n\t\tif (this.isMounted()){\n\t\t\tvar temp = JSON.parse(JSON.stringify(this.state.tagModal));\n\t\t\ttemp.show = false;\n\t\t\tthis.setState({tagModal: temp});\n\t\t}\n\t},\n\n\thandleTagEditModalOpen: function(e) {\n\t\te.preventDefault();\n\t\tif (this.isMounted()){\n\t\t\tvar temp = JSON.parse(JSON.stringify(this.state.tagModal));\n\t\t\ttemp.index = _.findIndex(this.state.tags, {_id: e.target.getAttribute(\"data-title\")});\n\t\t\ttemp.show = true;\n\n\t\t\tthis.setState({tagModal: temp});\n\t\t}\n\t},\n\n\thandleRemove: function(e) {\n\t\te.preventDefault();\n\t\tTagsStore.onRemove({_id: e.target.getAttribute(\"data-title\")});\t\n\t},\n\n\trender: function() {\n\t\tvar _this = this;\n\t\tvar tags = _.sortBy(this.state.tags, [this.state.sort]).map(function(item) {\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"figure\", {className: \"card list-item\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"favicon\"}, \n\t\t\t\t\t\tReact.createElement(Icon, {name: \"tag\"})\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"figcaption\", {className: \"about\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, item._id)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"figcaption\", {className: \"type subinfo\"}, \n\t\t\t\t\t\titem.count\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"div\", {className: \"more\"}, \n\t\t\t            React.createElement(\"a\", {href: \"#/collection/0/%23\"+item._id, className: \"action-icon icon-more\"}, React.createElement(Icon, {name: \"open-link\"})), \n\t\t\t            React.createElement(\"a\", {href: \"\", className: \"action-icon\", \"data-title\": item._id, onClick: _this.handleTagEditModalOpen}, React.createElement(Icon, {name: \"pencil\"})), \n\t\t\t            React.createElement(\"a\", {href: \"\", className: \"action-icon\", \"data-title\": item._id, onClick: _this.handleRemove}, React.createElement(Icon, {name: \"trash\"}))\n\t\t\t        ), \n\n\t\t\t\t\tReact.createElement(\"a\", {href: \"\", onClick: _this.handleTagEditModalOpen, \"data-title\": item._id, className: \"permalink\"})\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t\tif (this.state.sort==\"count\")\n\t\t\ttags.reverse();\n\n\t\tvar content = null;\n\t\tif (tags.length>0)\n\t\t\tcontent = (\n\t\t\t\tReact.createElement(\"div\", {className: \"bookmarks view-simple small-table\"}, \n\t\t\t\t\tReact.createElement(\"figure\", {className: \"card list-item table-head\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"favicon\"}), \n\n\t\t\t\t\t\tReact.createElement(\"figcaption\", {className: \"about \"+(this.state.sort==\"title\" ? \"active\" : \"\")}, \n\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", onClick: this.handleSortTitle}, t.s(\"name\")), \n\t\t\t\t\t\t\tReact.createElement(Icon, {name: \"arrow-top\", size: \"small\", className: \"sorting-icon\"})\n\t\t\t\t\t\t), \n\n\t\t\t\t\t\tReact.createElement(\"figcaption\", {className: (this.state.sort == \"count\" ? \"active\" : null)}, \n\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", onClick: this.handleSortCount}, _.capitalize(t.s(\"byBookmarksCount\"))), \n\t\t\t\t\t\t\tReact.createElement(Icon, {name: \"arrow-bottom\", size: \"small\", className: \"sorting-icon\"})\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\ttags\n\t\t\t\t)\n\t\t\t);\n\t\telse\n\t\t\tcontent = (\n\t\t\t\tReact.createElement(\"div\", {className: \"tips\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"tip tip-color-light\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"content\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"h3\", null, t.s(\"noTags\"))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\treturn (React.createElement(\"div\", null, \n\t\t\tReact.createElement(DocumentTitle, {title: t.s(\"tools\") + \" / \" + t.s(\"tags\")}), \n\t\t\tReact.createElement(TitleBar, {path: this.props.path.concat([{title: t.s(\"tags\")}])}), \n\n\t\t\tcontent, \n\n\t\t\tReact.createElement(Modal, {isOpened: this.state.tagModal.show, onClose: this.handleTagEditModalClose, closeOnOutsideClick: true, params: this.state.tagModal}, \n\t\t\t\tReact.createElement(TagEditModal, null)\n\t\t\t)\n\t\t));\n\t}\n});\n\n},{\"../../../stores/Tags\":123,\"../../components/Modals/TagEdit\":61,\"../../components/UnifiedTitleBar\":89}],99:[function(require,module,exports){\n/** @jsx React.DOM */\nmodule.exports = React.createClass({\n    displayName: \"routes/WaitAuth\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    _checker: null,\n\n    componentDidMount: function() {\n        var _query = this.context.router.getCurrentQuery();\n        var _this = this;\n\n        if (Api.getItem(\"logged\")!=null){\n            Api.removeItem(\"logged\");\n            window.location.hash = \"#/\";\n            return;\n        }\n\n    \tthis._checker = setInterval(function() {\n            Api.removeItem(\"logged\");\n    \t\tApi.get(\"user\", function(json) {\n    \t\t\tif (json.result){\n                    Api.setItem(\"logged\", \"true\");\n                    _this.handleRefresh();\n                }\n    \t\t});\n    \t}, 2000);\n    },\n\n    handleRefresh: function(e) {\n        if (typeof e != \"undefined\")\n            e.preventDefault();\n\n        //this.context.router.transitionTo('waitauth');\n        window.location.reload();\n    },\n\n    componentWillUnmount: function() {\n    \tclearInterval(this._checker);\n    },\n\n    render: function() {\n    \treturn (\n    \t\tReact.createElement(\"div\", {className: \"absoluteLoading\"}, \n    \t\t\tReact.createElement(\"div\", {className: \"loader-inner line-scale\"}, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null)), \n    \t\t\tReact.createElement(\"br\", null), \n    \t\t\tReact.createElement(\"a\", {href: \"\", onClick: this.handleRefresh, className: \"action-icon active\"}, t.s(\"refresh\"))\n    \t\t)\n    \t);\n    }\n});\n\n},{}],100:[function(require,module,exports){\nmodule.exports = React.createClass({\n    displayName: \"routes/WebHome\",\n\n    contextTypes: {\n        router: React.PropTypes.func\n    },\n\n    componentDidMount: function() {\n        window.location.hash=\"#/collection/0\";\n    \t//this.context.router.transitionTo('collection', {cId: 0});\n    },\n\n    render: function() {\n    \treturn React.createElement(\"div\", null);\n    }\n});\n\n},{}],101:[function(require,module,exports){\nmodule.exports = {\n\tsearch: function(q, page, callback) {\n\t\tApi.get(\"https://api.iconfinder.com/v2/icons/search?query=\"+encodeURIComponent(\"\"+q)+\"&minimum_size=128&count=100&offset=\"+(100*page), function(json) {\n\t\t\tif (json.icons){\n\t\t\t\tvar icons = [];\n\t\t\t\tjson.icons.forEach(function(item) {\n\t\t\t\t\t//var isPixel = _.findIndex(item.styles, {identifier: \"pixel\"});\n\t\t\t\t\tif ((!item.is_premium)/*&&(isPixel==-1)*/)\n\t\t\t\t\t\ticons.push(item[\"raster_sizes\"][item[\"raster_sizes\"].length-1].formats[0].preview_url);\n\t\t\t\t});\n\t\t\t\tcallback(icons);\n\t\t\t}else\n\t\t\t\tcallback([]);\n\t\t});\n\t}\n}\n\n},{}],102:[function(require,module,exports){\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):\"object\"==typeof exports?exports.ReactDND=e():t.ReactDND=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";var r=n(32),i=r.HTML5,o=n(39);t.exports={DragDropMixin:o(i),ImagePreloaderMixin:n(34),DragLayerMixin:n(33),HorizontalDragAnchors:n(19),VerticalDragAnchors:n(20),NativeDragItemTypes:n(8),DropEffects:n(7)}},function(t){function e(t){return\"number\"==typeof t&&t>-1&&t%1==0&&n>=t}var n=Math.pow(2,53)-1;t.exports=e},function(t){function e(t){var e=typeof t;return\"function\"==e||t&&\"object\"==e||!1}t.exports=e},function(t,e,n){function r(t){return null==t?!1:f.call(t)==s?l.test(u.call(t)):o(t)&&a.test(t)||!1}var i=n(73),o=n(4),s=\"[object Function]\",a=/^\\[object .+?Constructor\\]$/,c=Object.prototype,u=Function.prototype.toString,f=c.toString,l=RegExp(\"^\"+i(f).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=r},function(t){function e(t){return t&&\"object\"==typeof t||!1}t.exports=e},function(t,e,n){var r=n(1),i=n(3),o=n(4),s=\"[object Array]\",a=Object.prototype,c=a.toString,u=i(u=Array.isArray)&&u,f=u||function(t){return o(t)&&r(t.length)&&c.call(t)==s||!1};t.exports=f},function(t,e,n){\"use strict\";var r=n(17),i=r({DRAG_START:null,DRAG_END:null,DRAG:null,DROP:null});t.exports=i},function(t){\"use strict\";var e={COPY:\"copy\",MOVE:\"move\",LINK:\"link\"};t.exports=e},function(t){\"use strict\";var e={FILE:\"__NATIVE_FILE__\",URL:\"__NATIVE_URL__\"};t.exports=e},function(t,e,n){\"use strict\";var r=n(48).Dispatcher,i=n(15),o=i(new r,{handleAction:function(t){this.dispatch({action:t})}});t.exports=o},function(t,e,n){\"use strict\";var r=n(9),i=n(6),o=n(22),s=null,a=null,c=null,u=o({getInitialOffsetFromContainer:function(){return s},getInitialOffsetFromClient:function(){return a},getCurrentOffsetFromClient:function(){return c}});u.dispatchToken=r.register(function(t){var e=t.action;switch(e.type){case i.DRAG_START:s=e.offsetFromContainer,a=e.offsetFromClient,c=e.offsetFromClient,u.emitChange();break;case i.DRAG:c=e.offsetFromClient,u.emitChange();break;case i.DRAG_END:s=null,a=null,c=null,u.emitChange()}}),t.exports=u},function(t,e,n){\"use strict\";var r=n(9),i=n(6),o=n(10),s=n(22),a=null,c=null,u=null,f=null,l=s({isDragging:function(){return!!a},getEffectsAllowed:function(){return u},getDropEffect:function(){return f},getDraggedItem:function(){return a},getDraggedItemType:function(){return c}});l.dispatchToken=r.register(function(t){r.waitFor([o.dispatchToken]);var e=t.action;switch(e.type){case i.DRAG_START:f=null,a=e.item,c=e.itemType,u=e.effectsAllowed,l.emitChange();break;case i.DROP:f=e.dropEffect,l.emitChange();break;case i.DRAG_END:a=null,c=null,u=null,f=null,l.emitChange()}}),t.exports=l},function(t){\"use strict\";function e(){return!!window.safari}t.exports=e},function(t){function e(t,e){return t=+t,e=null==e?n:e,t>-1&&t%1==0&&e>t}var n=Math.pow(2,53)-1;t.exports=e},function(t,e,n){function r(t){var e=o(t)?t.length:void 0;return i(e)&&c.call(t)==s||!1}var i=n(1),o=n(4),s=\"[object Arguments]\",a=Object.prototype,c=a.toString;t.exports=r},function(t){function e(t){if(null==t)throw new TypeError(\"Object.assign target cannot be null or undefined\");for(var e=Object(t),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var o=Object(i);for(var s in o)n.call(o,s)&&(e[s]=o[s])}}return e}t.exports=e},function(t){\"use strict\";var e=function(t,e,n,r,i,o,s,a){if(!t){var c;if(void 0===e)c=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var u=[n,r,i,o,s,a],f=0;c=new Error(\"Invariant Violation: \"+e.replace(/%s/g,function(){return u[f++]}))}throw c.framesToPop=1,c}};t.exports=e},function(t,e,n){\"use strict\";var r=n(16),i=function(t){var e,n={};r(t instanceof Object&&!Array.isArray(t));for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=i},function(t,e,n){\"use strict\";var r=n(9),i=n(6),o={startDragging:function(t,e,n,o,s){r.handleAction({type:i.DRAG_START,itemType:t,item:e,effectsAllowed:n,offsetFromClient:o,offsetFromContainer:s})},drag:function(t){r.handleAction({type:i.DRAG,offsetFromClient:t})},recordDrop:function(t){r.handleAction({type:i.DROP,dropEffect:t})},endDragging:function(){r.handleAction({type:i.DRAG_END})}};t.exports=o},function(t,e,n){\"use strict\";var r=n(17),i=r({LEFT:null,CENTER:null,RIGHT:null});t.exports=i},function(t,e,n){\"use strict\";var r=n(17),i=r({TOP:null,CENTER:null,BOTTOM:null});t.exports=i},function(t,e,n){\"use strict\";var r=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},i=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},o=n(51),s=n(52),a=function(){function t(){i(this,t),this._entered=[]}return r(t,null,{enter:{value:function(t){return this._entered=o(this._entered.filter(function(e){return document.body.contains(e)&&(!e.contains||e.contains(t))}),[t]),1===this._entered.length},writable:!0,configurable:!0},leave:{value:function(t){return this._entered=s(this._entered.filter(function(t){return document.body.contains(t)}),t),0===this._entered.length},writable:!0,configurable:!0},reset:{value:function(){this._entered=[]},writable:!0,configurable:!0}}),t}();t.exports=a},function(t,e,n){\"use strict\";function r(t){var e=o({emitChange:function(){this.emit(s)},addChangeListener:function(t){this.on(s,t)},removeChangeListener:function(t){this.removeListener(s,t)}},t,i.prototype);return e.setMaxListeners(0),e}var i=n(77).EventEmitter,o=n(15),s=\"change\";t.exports=r},function(t){\"use strict\";function e(t){if(!t.dataTransfer)return!1;var e=Array.prototype.slice.call(t.dataTransfer.types);return-1!==e.indexOf(\"Files\")}t.exports=e},function(t,e,n){\"use strict\";function r(t){switch(t){case i.FILE:case i.URL:return!0;default:return!1}}var i=n(8);t.exports=r},function(t){\"use strict\";function e(t){var e=Array.prototype.slice.call(t.dataTransfer.types);return-1!==e.indexOf(\"Url\")||-1!==e.indexOf(\"text/uri-list\")}t.exports=e},function(t,e,n){function r(t,e,n){if(e!==e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}var i=n(66);t.exports=r},function(t,e,n){function r(t,e){var n=t.data,r=\"string\"==typeof e||i(e)?n.set.has(e):n.hash[e];return r?0:-1}var i=n(2);t.exports=r},function(t,e,n){(function(e){var r=n(53),i=n(74),o=n(3),s=o(s=e.Set)&&s,a=o(a=Object.create)&&a,c=a&&s?function(t){return new r(t)}:i(null);t.exports=c}).call(e,function(){return this}())},function(t,e,n){(function(e){var r=n(3),i=/\\bthis\\b/,o=Object.prototype,s=(s=e.window)&&s.document,a=o.propertyIsEnumerable,c={};!function(){c.funcDecomp=!r(e.WinRTError)&&i.test(function(){return this}),c.funcNames=\"string\"==typeof Function.name;try{c.dom=11===s.createDocumentFragment().nodeType}catch(t){c.dom=!1}try{c.nonEnumArgs=!a.call(arguments,1)}catch(t){c.nonEnumArgs=!0}}(0,0),t.exports=c}).call(e,function(){return this}())},function(t){function e(){}t.exports=e},function(t,e,n){\"use strict\";function r(t){if(t.nodeType!==O&&(t=t.parentElement),!t)return null;var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}function i(t){return{x:t.clientX,y:t.clientY}}function o(){if(!v){var t=r(p);v=!I(d,t)}return v}function s(){if(h&&!document.body.contains(p)){var t=y.getDraggedItemType();h.handleDragEnd(t,null)}}function a(){var t=y.getDraggedItemType();return E(t)}function c(t){y.isDragging()||(T(t)?D.startDragging(x.URL,null):t.preventDefault())}function u(t){t.preventDefault();var e=C.enter(t.target);e&&!y.isDragging()&&(w(t)?D.startDragging(x.FILE,null):T(t)&&D.startDragging(x.URL,null))}function f(t){a()&&t.preventDefault();var e=i(t);D.drag(e),m&&(t.dataTransfer.dropEffect=m,m=null),p&&A()&&o()&&t.preventDefault()}function l(t){a()&&t.preventDefault();var e=C.leave(t.target);e&&a()&&D.endDragging()}function g(t){a()&&t.preventDefault(),C.reset(),a()&&D.endDragging(),s()}var p,h,d,v,m,D=n(18),y=n(11),x=n(8),_=n(21),w=n(23),T=n(25),E=n(24),b=n(38),I=n(76),A=n(46),O=1,C=new _,L={setup:function(){\"undefined\"!=typeof window&&(window.addEventListener(\"dragstart\",c),window.addEventListener(\"dragenter\",u,!0),window.addEventListener(\"dragleave\",l,!0),window.addEventListener(\"dragover\",f),window.addEventListener(\"drop\",g))},teardown:function(){\"undefined\"!=typeof window&&(window.removeEventListener(\"dragstart\",c),window.removeEventListener(\"dragenter\",u,!0),window.removeEventListener(\"dragleave\",l,!0),window.removeEventListener(\"dragover\",f),window.removeEventListener(\"drop\",g))},beginDrag:function(t,e,n,i,o,a,c){var u=e.nativeEvent,f=u.dataTransfer,l=u.target;b(f,n,i,o,a,c),h=t,p=l,d=r(l),v=!1,window.addEventListener(\"mousemove\",s,!0)},endDrag:function(){p=null,h=null,d=null,v=!1,window.removeEventListener(\"mousemove\",s,!0)},dragOver:function(t,e,n){m||(m=n)},getDragSourceProps:function(t,e){return{draggable:!0,onDragStart:t.handleDragStart.bind(t,e),onDragEnd:t.handleDragEnd.bind(t,e)}},getDropTargetProps:function(t,e){return{onDragEnter:t.handleDragEnter.bind(t,e),onDragOver:t.handleDragOver.bind(t,e),onDragLeave:t.handleDragLeave.bind(t,e),onDrop:t.handleDrop.bind(t,e)}},getOffsetFromClient:function(t,e){return i(e)}};t.exports=L},function(t,e,n){\"use strict\";t.exports={HTML5:n(31)}},function(t,e,n){\"use strict\";var r=n(11),i=n(10),o={getInitialState:function(){return this.getStateForDragLayerMixin()},getDragLayerState:function(){var t=this.state,e=t.isDragging,n=t.draggedItemType,r=t.draggedItem,i=t.initialOffset,o=t.currentOffset,s=t.currentOffsetFromClient,a=t.initialOffsetFromClient,c=t.initialOffsetFromContainer;return{isDragging:e,draggedItemType:n,draggedItem:r,initialOffset:i,currentOffset:o,currentOffsetFromClient:s,initialOffsetFromClient:a,initialOffsetFromContainer:c}},getStateForDragLayerMixin:function(){var t=i.getInitialOffsetFromClient(),e=i.getCurrentOffsetFromClient(),n=i.getInitialOffsetFromContainer(),o=!1,s=null,a=null,c=null,u=null;return t&&e&&(o=!0,s=r.getDraggedItemType(),a=r.getDraggedItem(),c={x:t.x-n.x,y:t.y-n.y},u={x:e.x-n.x,y:e.y-n.y}),{isDragging:o,draggedItemType:s,draggedItem:a,initialOffset:c,currentOffset:u,currentOffsetFromClient:e,initialOffsetFromClient:t,initialOffsetFromContainer:n}},handleStoreChangeInDragLayerMixin:function(){this.isMounted()&&this.setState(this.getStateForDragLayerMixin())},componentDidMount:function(){i.addChangeListener(this.handleStoreChangeInDragLayerMixin),r.addChangeListener(this.handleStoreChangeInDragLayerMixin)},componentWillUnmount:function(){i.removeChangeListener(this.handleStoreChangeInDragLayerMixin),r.removeChangeListener(this.handleStoreChangeInDragLayerMixin)}};t.exports=o},function(t,e,n){\"use strict\";var r=n(44),i=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",o={componentDidMount:function(){this._cachedImages={},this._readyImages={},this.preloadImages()},componentDidUpdate:function(){this.preloadImages()},componentWillUnmount:function(){for(var t in this._cachedImages)this._cachedImages[t].src=i;this._cachedImages={}},hasPreloadedImage:function(t){return!!this._readyImages[t]},getPreloadedImage:function(t){return this.hasPreloadedImage(t)?this._cachedImages[t]:void 0},preloadImages:function(){var t=this.getImageUrlsToPreload();t.forEach(this.preloadImage)},preloadImage:function(t){var e=this;if(t&&!this._cachedImages[t]){var n=new Image;n.onload=function(){e.isMounted()&&(e._readyImages[t]=!0)},n.onerror=function(){e.isMounted()&&delete e._cachedImages[t]},n.src=t,this._cachedImages[t]=n}},getDragImageScale:r};t.exports=o},function(t,e,n){\"use strict\";var r=n(16),i=n(30),o={canDrag:function(){return!0},beginDrag:function(){r(!1,\"Drag source must contain a method called beginDrag. See https://github.com/gaearon/react-dnd#drag-source-api\")},endDrag:i};t.exports=o},function(t,e,n){\"use strict\";var r=n(30),i={canDrop:function(){return!0},getDropEffect:function(t,e){return e[0]},enter:r,over:r,leave:r,acceptDrop:r};t.exports=i},function(t,e,n){\"use strict\";var r=n(10),i={getCurrentOffsetDelta:function(){var t=r.getInitialOffsetFromClient(),e=r.getCurrentOffsetFromClient();return{x:e.x-t.x,y:e.y-t.y}},getInitialOffsetFromClient:function(){return r.getInitialOffsetFromClient()},getCurrentOffsetFromClient:function(){return r.getCurrentOffsetFromClient()},getInitialOffsetFromContainer:function(){return r.getInitialOffsetFromContainer()}};t.exports=i},function(t,e,n){\"use strict\";function r(t,e,n,r,a,c){try{t.setData(\"application/json\",{})}catch(u){}if(i(n)&&t.setDragImage){var f=o(e,n,r,a);t.setDragImage(n,f.x,f.y)}t.effectAllowed=s(c)}var i=n(47),o=n(43),s=n(42);t.exports=r},function(t,e,n){\"use strict\";function r(t,e){v(e&&(\"string\"==typeof e||\"symbol\"==typeof e),\"Expected item type to be a non-empty string or a symbol. See %s\",t.constructor.displayName)}function i(t,e){var n=t.constructor.displayName;v(t._dragSources[e],'There is no drag source for \"%s\" registered in %s. Have you forgotten to register it? See configureDragDrop in %s',e,n,n)}function o(t,e){var n=t.constructor.displayName;v(t._dropTargets[e],'There is no drop target for \"%s\" registered in %s. Have you forgotten to register it? See configureDragDrop in %s',e,n,n)}function s(t){function e(e){0===s&&t.setup(e),s++}function n(e){s--,0===s&&t.teardown(e)}var s=0;return{getInitialState:function(){var t={ownDraggedItemType:null,currentDropEffect:null};return m(t,this.getStateForDragDropMixin())},getActiveDropTargetType:function(){var t=this.state,e=t.draggedItemType,n=t.draggedItem,r=t.ownDraggedItemType,i=this._dropTargets[e];if(!i)return null;if(e===r)return null;var o=i.canDrop;return o(this,n)?e:null},isAnyDropTargetActive:function(t){return t.indexOf(this.getActiveDropTargetType())>-1},getStateForDragDropMixin:function(){return{draggedItem:c.getDraggedItem(),draggedItemType:c.getDraggedItemType()}},getDragState:function(t){return r(this,t),i(this,t),{isDragging:this.state.ownDraggedItemType===t}},getDropState:function(t){r(this,t),o(this,t);var e=this.getActiveDropTargetType()===t,n=!!this.state.currentDropEffect;return{isDragging:e,isHovering:e&&n}},componentWillMount:function(){this._monitor=new f,this._dragSources={},this._dropTargets={},v(this.constructor.configureDragDrop,\"%s must implement static configureDragDrop(register, context) to use DragDropMixin\",this.constructor.displayName),this.constructor.configureDragDrop(this.registerDragDropItemTypeHandlers,u)},componentDidMount:function(){e(this),c.addChangeListener(this.handleStoreChangeInDragDropMixin)},componentWillUnmount:function(){n(this),c.removeChangeListener(this.handleStoreChangeInDragDropMixin)},registerDragDropItemTypeHandlers:function(t,e){r(this,t);var n=e.dragSource,i=e.dropTarget;n&&(v(!this._dragSources[t],\"Drag source for %s specified twice. See configureDragDrop in %s\",t,this.constructor.displayName),this._dragSources[t]=D(n,g)),i&&(v(!this._dropTargets[t],\"Drop target for %s specified twice. See configureDragDrop in %s\",t,this.constructor.displayName),this._dropTargets[t]=D(i,p))},handleStoreChangeInDragDropMixin:function(){this.isMounted()&&this.setState(this.getStateForDragDropMixin())},dragSourceFor:function(e){return r(this,e),i(this,e),t.getDragSourceProps(this,e)},handleDragStart:function(e,n){var r=this,i=this._dragSources[e],o=i.canDrag,s=i.beginDrag;if(!c.isDragging()&&o(this)){var u,f=s(this),g=f.item,p=f.dragPreview,h=f.dragAnchors,d=f.effectsAllowed,m=this.getDOMNode(),D=m.getBoundingClientRect(),_=t.getOffsetFromClient(this,n);u={x:_.x-D.left,y:_.y-D.top},p||(p=m),d||(d=[l.MOVE]),v(y(d)&&d.length>0,\"Expected effectsAllowed to be non-empty array\"),v(x(g),'Expected return value of beginDrag to contain \"item\" object'),t.beginDrag(this,n,m,p,h,u,d),a.startDragging(e,g,d,_,u),setTimeout(function(){r.isMounted()&&c.getDraggedItem()===g&&r.setState({ownDraggedItemType:e})})}},handleDragEnd:function(e){t.endDrag(this);var n=this._dragSources[e].endDrag,r=c.getDropEffect();a.endDragging(),this.isMounted()&&this.setState({ownDraggedItemType:null}),n(this,r)},dropTargetFor:function(){for(var e=this,n=arguments.length,i=Array(n),s=0;n>s;s++)i[s]=arguments[s];return i.forEach(function(t){r(e,t),o(e,t)}),t.getDropTargetProps(this,i)},handleDragEnter:function(t,e){if(this.isAnyDropTargetActive(t)&&this._monitor.enter(e.target)){e.preventDefault();var n=this._dropTargets[this.state.draggedItemType],r=n.enter,i=n.getDropEffect,o=c.getEffectsAllowed(),s=c.getDraggedItemType();d(s)&&(o=[l.COPY]);var a=i(this,o);a&&v(o.indexOf(a)>-1,\"Effect %s supplied by drop target is not one of the effects allowed by drag source: %s\",a,o.join(\", \")),this.setState({currentDropEffect:a}),r(this,this.state.draggedItem)}},handleDragOver:function(e,n){if(this.isAnyDropTargetActive(e)){n.preventDefault();var r=this._dropTargets[this.state.draggedItemType].over;r(this,this.state.draggedItem),t.dragOver(this,n,this.state.currentDropEffect||\"move\")}},handleDragLeave:function(t,e){if(this.isAnyDropTargetActive(t)&&this._monitor.leave(e.target)){this.setState({currentDropEffect:null});var n=this._dropTargets[this.state.draggedItemType].leave;n(this,this.state.draggedItem)}},handleDrop:function(t,e){if(this.isAnyDropTargetActive(t)){e.preventDefault();var n=this.state.draggedItem,r=this._dropTargets[this.state.draggedItemType].acceptDrop,i=this.state.currentDropEffect,o=!!c.getDropEffect();n||(n=h(e)),this._monitor.reset(),o||a.recordDrop(i),this.setState({currentDropEffect:null}),r(this,n,o,c.getDropEffect())}}}}var a=n(18),c=n(11),u=n(37),f=n(21),l=n(7),g=n(35),p=n(36),h=n(41),d=n(24),v=n(16),m=n(15),D=n(70),y=n(5),x=n(2);t.exports=s},function(t){\"use strict\";function e(t,e){return-1!==t.indexOf(e,t.length-e.length)}t.exports=e},function(t,e,n){\"use strict\";function r(t){return i(t)?{files:Array.prototype.slice.call(t.dataTransfer.files)}:o(t)?{urls:(t.dataTransfer.getData(\"Url\")||t.dataTransfer.getData(\"text/uri-list\")||\"\").split(\"\\n\")}:void 0}var i=n(23),o=n(25);t.exports=r},function(t,e,n){\"use strict\";function r(t){var e=t.indexOf(i.COPY)>-1,n=t.indexOf(i.MOVE)>-1,r=t.indexOf(i.LINK)>-1;return e&&n&&r?\"all\":e&&n?\"copyMove\":r&&n?\"linkMove\":e&&r?\"copyLink\":e?\"copy\":n?\"move\":r?\"link\":\"none\"}var i=n(7);t.exports=r},function(t,e,n){\"use strict\";function r(t,e,n,r){n=n||{};var a=t.offsetWidth,c=t.offsetHeight,u=e instanceof Image,f=u?e.width:a,l=u?e.height:c,g=n.horizontal||i.CENTER,p=n.vertical||o.CENTER,h=r.x,d=r.y;switch(s()&&(l/=window.devicePixelRatio,f/=window.devicePixelRatio),g){case i.LEFT:break;case i.CENTER:h*=f/a;break;case i.RIGHT:h=f-f*(1-h/a)}switch(p){case o.TOP:break;case o.CENTER:d*=l/c;break;case o.BOTTOM:d=l-l*(1-d/c)}return s()&&(d+=(window.devicePixelRatio-1)*l),{x:h,y:d}}var i=n(19),o=n(20),s=n(12);t.exports=r},function(t,e,n){\"use strict\";function r(){return i()||o()?window.devicePixelRatio:1}var i=n(45),o=n(12);t.exports=r},function(t){\"use strict\";function e(){return/firefox/i.test(navigator.userAgent)}t.exports=e},function(t){\"use strict\";function e(){return\"WebkitAppearance\"in document.documentElement.style}t.exports=e},function(t,e,n){\"use strict\";function r(t){return t?i()&&t instanceof Image&&o(t.src,\".gif\")?!1:!0:!1}var i=n(12),o=n(40);t.exports=r},function(t,e,n){t.exports.Dispatcher=n(49)},function(t,e,n){\"use strict\";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=n(50),o=1,s=\"ID_\";r.prototype.register=function(t){var e=s+o++;return this.$Dispatcher_callbacks[e]=t,e},r.prototype.unregister=function(t){i(this.$Dispatcher_callbacks[t],\"Dispatcher.unregister(...): `%s` does not map to a registered callback.\",t),delete this.$Dispatcher_callbacks[t]},r.prototype.waitFor=function(t){i(this.$Dispatcher_isDispatching,\"Dispatcher.waitFor(...): Must be invoked while dispatching.\");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?i(this.$Dispatcher_isHandled[n],\"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.\",n):(i(this.$Dispatcher_callbacks[n],\"Dispatcher.waitFor(...): `%s` does not map to a registered callback.\",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(t){i(!this.$Dispatcher_isDispatching,\"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.\"),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},r.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=r},function(t){\"use strict\";var e=function(t,e,n,r,i,o,s,a){if(!t){var c;if(void 0===e)c=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var u=[n,r,i,o,s,a],f=0;c=new Error(\"Invariant Violation: \"+e.replace(/%s/g,function(){return u[f++]}))}throw c.framesToPop=1,c}};t.exports=e},function(t,e,n){function r(){return o(i(arguments,!1,!0,0))}var i=n(59),o=n(62);t.exports=r},function(t,e,n){function r(t){return i(t,o(arguments,1))}var i=n(58),o=n(60);t.exports=r},function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:a(null),set:new s};e--;)this.push(t[e])}var i=n(64),o=n(3),s=o(s=e.Set)&&s,a=o(a=Object.create)&&a;r.prototype.push=i,t.exports=r}).call(e,function(){return this}())},function(t){function e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=e},function(t){function e(t,e){return\"undefined\"==typeof t?e:t}t.exports=e},function(t,e,n){function r(t,e,n){var r=o(e);if(!n)return i(e,t,r);for(var s=-1,a=r.length;++s<a;){var c=r[s],u=t[c],f=n(u,e[c],c,t,e);(f===f?f===u:u!==u)&&(\"undefined\"!=typeof u||c in t)||(t[c]=f)}return t}var i=n(57),o=n(71);t.exports=r},function(t){function e(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}t.exports=e},function(t,e,n){function r(t,e){var n=t?t.length:0,r=[];if(!n)return r;var a=-1,c=i,u=!0,f=u&&e.length>=200?s(e):null,l=e.length;f&&(c=o,u=!1,e=f);t:for(;++a<n;){var g=t[a];if(u&&g===g){for(var p=l;p--;)if(e[p]===g)continue t;r.push(g)}else c(e,g,0)<0&&r.push(g)}return r}var i=n(26),o=n(27),s=n(28);t.exports=r},function(t,e,n){function r(t,e,n,c){for(var u=c-1,f=t.length,l=-1,g=[];++u<f;){var p=t[u];if(a(p)&&s(p.length)&&(o(p)||i(p))){e&&(p=r(p,e,n,0));var h=-1,d=p.length;for(g.length+=d;++h<d;)g[++l]=p[h]}else n||(g[++l]=p)}return g}var i=n(14),o=n(5),s=n(1),a=n(4);t.exports=r},function(t){function e(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=\"undefined\"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=e},function(t){function e(t){return\"string\"==typeof t?t:null==t?\"\":t+\"\"}t.exports=e},function(t,e,n){function r(t,e){var n=-1,r=i,a=t.length,c=!0,u=c&&a>=200,f=u?s():null,l=[];f?(r=o,c=!1):(u=!1,f=e?[]:l);t:for(;++n<a;){var g=t[n],p=e?e(g,n,t):g;if(c&&g===g){for(var h=f.length;h--;)if(f[h]===p)continue t;e&&f.push(p),l.push(g)}else r(f,p,0)<0&&((e||u)&&f.push(p),l.push(g))}return l}var i=n(26),o=n(27),s=n(28);t.exports=r},function(t,e,n){function r(t,e,n){if(\"function\"!=typeof t)return i;if(\"undefined\"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}var i=n(75);t.exports=r},function(t,e,n){function r(t){var e=this.data;\"string\"==typeof t||i(t)?e.set.add(t):e.hash[t]=!0}var i=n(2);t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var s=e[n-2],a=e[n-1],c=e[3];n>3&&\"function\"==typeof s?(s=i(s,a,5),n-=2):(s=n>2&&\"function\"==typeof a?a:null,n-=s?1:0),c&&o(e[1],e[2],c)&&(s=3==n?null:s,n=2);for(var u=0;++u<n;){var f=e[u];f&&t(r,f,s)}return r}}var i=n(63),o=n(67);t.exports=r},function(t){function e(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=e},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;if(\"number\"==r)var a=n.length,c=o(a)&&i(e,a);else c=\"string\"==r&&e in n;if(c){var u=n[e];return t===t?t===u:u!==u}return!1}var i=n(13),o=n(1),s=n(2);t.exports=r},function(t,e,n){function r(t){for(var e=c(t),n=e.length,r=n&&t.length,f=r&&a(r)&&(o(t)||u.nonEnumArgs&&i(t)),g=-1,p=[];++g<n;){var h=e[g];(f&&s(h,r)||l.call(t,h))&&p.push(h)}return p}var i=n(14),o=n(5),s=n(13),a=n(1),c=n(72),u=n(29),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(56),i=n(65),o=i(r);t.exports=o},function(t,e,n){function r(t){if(null==t)return t;var e=i(arguments);return e.push(s),o.apply(void 0,e)}var i=n(54),o=n(69),s=n(55);t.exports=r},function(t,e,n){var r=n(1),i=n(3),o=n(2),s=n(68),a=i(a=Object.keys)&&a,c=a?function(t){if(t)var e=t.constructor,n=t.length;return\"function\"==typeof e&&e.prototype===t||\"function\"!=typeof t&&n&&r(n)?s(t):o(t)?a(t):[]}:s;t.exports=c},function(t,e,n){function r(t){if(null==t)return[];c(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(o(t)||u.nonEnumArgs&&i(t))&&e||0;for(var n=t.constructor,r=-1,f=\"function\"==typeof n&&n.prototype===t,g=Array(e),p=e>0;++r<e;)g[r]=r+\"\";for(var h in t)p&&s(h,e)||\"constructor\"==h&&(f||!l.call(t,h))||g.push(h);return g}var i=n(14),o=n(5),s=n(13),a=n(1),c=n(2),u=n(29),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return t=i(t),t&&s.test(t)?t.replace(o,\"\\\\$&\"):t}var i=n(61),o=/[.*+?^${}()|[\\]\\/\\\\]/g,s=RegExp(o.source);t.exports=r},function(t){function e(t){return function(){return t}}t.exports=e},function(t){function e(t){return t}t.exports=e},function(t){\"use strict\";function e(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=e},function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return\"function\"==typeof t}function r(t){return\"number\"==typeof t}function i(t){return\"object\"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,r,s,a,c,u;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified \"error\" event.')}if(r=this._events[t],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),c=1;s>c;c++)a[c-1]=arguments[c];r.apply(this,a)}else if(i(r)){for(s=arguments.length,a=new Array(s-1),c=1;s>c;c++)a[c-1]=arguments[c];for(u=r.slice(),s=u.length,c=0;s>c;c++)u[c].apply(this,a)}return!0},e.prototype.addListener=function(t,r){var s;if(!n(r))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,n(r.listener)?r.listener:r),this._events[t]?i(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,i(this._events[t])&&!this._events[t].warned){var s;s=o(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace())}return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError(\"listener must be a function\");var i=!1;return r.listener=e,this.on(t,r),this},e.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(i(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}}])});\n\n},{}],103:[function(require,module,exports){\nvar request = require('superagent');\n\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e) {\n    if (e.code) {\n      switch (e.code) {\n        case 22:\n          quotaExceeded = true;\n          break;\n        case 1014:\n          // Firefox\n          if (e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n            quotaExceeded = true;\n          }\n          break;\n      }\n    } else if (e.number === -2147024882) {\n      // Internet Explorer 8\n      quotaExceeded = true;\n    }\n  }\n  return quotaExceeded;\n}\n\nmodule.exports = {\n    timeout: 6000,\n    defaultHeaders: {},\n\n    makeFinalURL: function(url) {\n        if (url.indexOf('http')==0)\n            return url;\n        else\n            return consts.apiPrefix + url;\n    },\n\n    errorHappen: function(url) {\n        if (typeof Toasts != \"undefined\")\n            Toasts.show({title: t.s(\"server\"), text: url, status: \"error\"});\n    },\n\n    getText: function(url, callback) {\n        var _this = this;\n        request\n            .get(url)\n            .set('Content-Encoding', 'gzip')\n            .set(this.defaultHeaders)\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url); callback({}); return;}\n                callback((res||{}).text||null);\n            });\n    },\n\n    \"get\": function(url,callback,conf) {\n        var _this = this;\n        conf = conf || {};\n\n        request\n            .get(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .set('Accept', 'application/json;charset=UTF-8')\n            .set('Content-Encoding', 'gzip')\n            .set(this.defaultHeaders)\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url);callback({});return;}\n                if (conf.text)\n                    callback(res.text||\"\");\n                else\n                    callback(res.body||{});\n            });\n    },\n\n    post: function(url,data,callback) {\n        var _this = this;\n        request\n            .post(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .send(data)\n            .set('Accept', 'application/json;charset=UTF-8')\n            //.set('Content-Encoding', 'gzip')\n            .set(this.defaultHeaders)\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url);callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    put: function(url,data,callback) {\n        var _this = this;\n        request\n            .put(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .send(data)\n            .set('Accept', 'application/json;charset=UTF-8')\n            //.set('Content-Encoding', 'gzip')\n            .set(this.defaultHeaders)\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url);callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    del: function(url,callback) {\n        var _this = this;\n        request\n            .del(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .set('Accept', 'application/json;charset=UTF-8')\n            //.set('Content-Encoding', 'gzip')\n            .set(this.defaultHeaders)\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url);callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    upload: function(url, file, onProgress, callback) {\n        var _this = this;\n        request\n            .post(this.makeFinalURL(url))\n            .set(this.defaultHeaders)\n            .attach(file.name, file.file, file.file.name)\n            .on('progress', function(e) {\n                var progress = parseInt(e.percent||0);\n                //if ((progress % 20 === 0)||(progress===100))\n                    onProgress(progress);\n            })\n            .end(function(err, res){\n                if ((!res)||(err)) {_this.errorHappen(url);callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    getItem: function(key) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            return LST.getItem(key);\n        else\n            return null;\n    },\n\n    setItem: function(key, value) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            try {\n                LST.setItem(key, value);\n            } catch(e) {\n                if (isQuotaExceeded(e)) {\n                    // Storage full, maybe notify user or do some clean-up\n                    LST.clear();\n                }\n            }\n        else\n            console.log(\"No localStorage access\");\n    },\n\n    removeItem: function(key) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            LST.removeItem(key);\n        else\n            console.log(\"No localStorage access\");\n    },\n\n    clear: function() {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            LST.clear();\n        else\n            console.log(\"No localStorage access\");\n    }\n}\n\n},{\"superagent\":\"superagent\"}],104:[function(require,module,exports){\n/* MODIFIED */\n\n/*!\n * Color Thief v2.0\n * by Lokesh Dhakar - http://www.lokeshdhakar.com\n *\n * License\n * -------\n * Creative Commons Attribution 2.5 License:\n * http://creativecommons.org/licenses/by/2.5/\n *\n * Thanks\n * ------\n * Nick Rabinowitz - For creating quantize.js.\n * John Schulz - For clean up and optimization. @JFSIII\n * Nathan Spady - For adding drag and drop support to the demo page.\n *\n */\n\n\n/*\n CanvasImage Class\n Class that wraps the html image element and canvas.\n It also simplifies some of the canvas context manipulation\n with a set of helper functions.\n */\nvar CanvasImage = function (image) {\n    this.canvas  = document.createElement('canvas');\n    this.context = this.canvas.getContext('2d');\n\n    document.body.appendChild(this.canvas);\n\n    this.width  = this.canvas.width  = image.width;\n    this.height = this.canvas.height = image.height;\n\n    this.context.drawImage(image, 0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.clear = function () {\n    this.context.clearRect(0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.update = function (imageData) {\n    this.context.putImageData(imageData, 0, 0);\n};\n\nCanvasImage.prototype.getPixelCount = function () {\n    return this.width * this.height;\n};\n\nCanvasImage.prototype.getImageData = function () {\n    return this.context.getImageData(0, 0, this.width, this.height);\n};\n\nCanvasImage.prototype.removeCanvas = function () {\n    this.canvas.parentNode.removeChild(this.canvas);\n};\n\n\nvar ColorThief = function () {};\n\n/*\n * getColor(sourceImage[, quality])\n * returns {r: num, g: num, b: num}\n *\n * Use the median cut algorithm provided by quantize.js to cluster similar\n * colors and return the base color from the largest cluster.\n *\n * Quality is an optional argument. It needs to be an integer. 0 is the highest quality settings.\n * 10 is the default. There is a trade-off between quality and speed. The bigger the number, the\n * faster a color will be returned but the greater the likelihood that it will not be the visually\n * most dominant color.\n *\n * */\nColorThief.prototype.getColor = function(sourceImage, quality) {\n    var palette       = this.getPalette(sourceImage, 5, quality);\n    var dominantColor = palette[0];\n    return dominantColor;\n};\n\n\n/*\n * getPalette(sourceImage[, colorCount, quality])\n * returns array[ {r: num, g: num, b: num}, {r: num, g: num, b: num}, ...]\n *\n * Use the median cut algorithm provided by quantize.js to cluster similar colors.\n *\n * colorCount determines the size of the palette; the number of colors returned. If not set, it\n * defaults to 10.\n *\n * BUGGY: Function does not always return the requested amount of colors. It can be +/- 2.\n *\n * quality is an optional argument. It needs to be an integer. 0 is the highest quality settings.\n * 10 is the default. There is a trade-off between quality and speed. The bigger the number, the\n * faster the palette generation but the greater the likelihood that colors will be missed.\n *\n *\n */\nColorThief.prototype.getPalette = function(sourceImage, colorCount, quality) {\n\n    if (typeof colorCount === 'undefined') {\n        colorCount = 10;\n    }\n    if (typeof quality === 'undefined') {\n        quality = 10;\n    }\n\n    // Create custom CanvasImage object\n    var image      = new CanvasImage(sourceImage);\n    var imageData  = image.getImageData();\n    var pixels     = imageData.data;\n    var pixelCount = image.getPixelCount();\n\n    // Store the RGB values in an array format suitable for quantize function\n    var pixelArray = [];\n    for (var i = 0, offset, r, g, b, a; i < pixelCount; i = i + quality) {\n        offset = i * 4;\n        r = pixels[offset + 0];\n        g = pixels[offset + 1];\n        b = pixels[offset + 2];\n        a = pixels[offset + 3];\n        // If pixel is mostly opaque and not white\n        if (a >= 125) {\n            if (!(r > 250 && g > 250 && b > 250)) {\n                pixelArray.push([r, g, b]);\n            }\n        }\n    }\n\n    // Send array to quantize function which clusters values\n    // using median cut algorithm\n    var cmap    = MMCQ.quantize(pixelArray, colorCount);\n    var palette = [];\n    try {\n        palette = cmap.palette();\n    }catch(e) {}\n\n    // Clean up\n    image.removeCanvas();\n\n    return palette;\n};\n\n\n\n\n/*!\n * quantize.js Copyright 2008 Nick Rabinowitz.\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\n */\n\n// fill out a couple protovis dependencies\n/*!\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\n * Copyright 2010 Stanford Visualization Group\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\n */\nif (!pv) {\n    var pv = {\n        map: function(array, f) {\n            var o = {};\n            return f ? array.map(function(d, i) { o.index = i; return f.call(o, d); }) : array.slice();\n        },\n        naturalOrder: function(a, b) {\n            return (a < b) ? -1 : ((a > b) ? 1 : 0);\n        },\n        sum: function(array, f) {\n            var o = {};\n            return array.reduce(f ? function(p, d, i) { o.index = i; return p + f.call(o, d); } : function(p, d) { return p + d; }, 0);\n        },\n        max: function(array, f) {\n            return Math.max.apply(null, f ? pv.map(array, f) : array);\n        }\n    };\n}\n\n\n\n/**\n * Basic Javascript port of the MMCQ (modified median cut quantization)\n * algorithm from the Leptonica library (http://www.leptonica.com/).\n * Returns a color map you can use to map original pixels to the reduced\n * palette. Still a work in progress.\n *\n * @author Nick Rabinowitz\n * @example\n\n // array of pixels as [R,G,B] arrays\n var myPixels = [[190,197,190], [202,204,200], [207,214,210], [211,214,211], [205,207,207]\n // etc\n ];\n var maxColors = 4;\n\n var cmap = MMCQ.quantize(myPixels, maxColors);\n var newPalette = cmap.palette();\n var newPixels = myPixels.map(function(p) {\n    return cmap.map(p);\n});\n\n */\nvar MMCQ = (function() {\n    // private constants\n    var sigbits = 5,\n        rshift = 8 - sigbits,\n        maxIterations = 1000,\n        fractByPopulations = 0.75;\n\n    // get reduced-space color index for a pixel\n    function getColorIndex(r, g, b) {\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\n    }\n\n    // Simple priority queue\n    function PQueue(comparator) {\n        var contents = [],\n            sorted = false;\n\n        function sort() {\n            contents.sort(comparator);\n            sorted = true;\n        }\n\n        return {\n            push: function(o) {\n                contents.push(o);\n                sorted = false;\n            },\n            peek: function(index) {\n                if (!sorted) sort();\n                if (index===undefined) index = contents.length - 1;\n                return contents[index];\n            },\n            pop: function() {\n                if (!sorted) sort();\n                return contents.pop();\n            },\n            size: function() {\n                return contents.length;\n            },\n            map: function(f) {\n                return contents.map(f);\n            },\n            debug: function() {\n                if (!sorted) sort();\n                return contents;\n            }\n        };\n    }\n\n    // 3d color space box\n    function VBox(r1, r2, g1, g2, b1, b2, histo) {\n        var vbox = this;\n        vbox.r1 = r1;\n        vbox.r2 = r2;\n        vbox.g1 = g1;\n        vbox.g2 = g2;\n        vbox.b1 = b1;\n        vbox.b2 = b2;\n        vbox.histo = histo;\n    }\n    VBox.prototype = {\n        volume: function(force) {\n            var vbox = this;\n            if (!vbox._volume || force) {\n                vbox._volume = ((vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1));\n            }\n            return vbox._volume;\n        },\n        count: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._count_set || force) {\n                var npix = 0,\n                    i, j, k;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            index = getColorIndex(i,j,k);\n                            npix += (histo[index] || 0);\n                        }\n                    }\n                }\n                vbox._count = npix;\n                vbox._count_set = true;\n            }\n            return vbox._count;\n        },\n        copy: function() {\n            var vbox = this;\n            return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);\n        },\n        avg: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._avg || force) {\n                var ntot = 0,\n                    mult = 1 << (8 - sigbits),\n                    rsum = 0,\n                    gsum = 0,\n                    bsum = 0,\n                    hval,\n                    i, j, k, histoindex;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            histoindex = getColorIndex(i,j,k);\n                            hval = histo[histoindex] || 0;\n                            ntot += hval;\n                            rsum += (hval * (i + 0.5) * mult);\n                            gsum += (hval * (j + 0.5) * mult);\n                            bsum += (hval * (k + 0.5) * mult);\n                        }\n                    }\n                }\n                if (ntot) {\n                    vbox._avg = [~~(rsum/ntot), ~~(gsum/ntot), ~~(bsum/ntot)];\n                } else {\n//                    console.log('empty box');\n                    vbox._avg = [\n                        ~~(mult * (vbox.r1 + vbox.r2 + 1) / 2),\n                        ~~(mult * (vbox.g1 + vbox.g2 + 1) / 2),\n                        ~~(mult * (vbox.b1 + vbox.b2 + 1) / 2)\n                    ];\n                }\n            }\n            return vbox._avg;\n        },\n        contains: function(pixel) {\n            var vbox = this,\n                rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            return (rval >= vbox.r1 && rval <= vbox.r2 &&\n            gval >= vbox.g1 && gval <= vbox.g2 &&\n            bval >= vbox.b1 && bval <= vbox.b2);\n        }\n    };\n\n    // Color map\n    function CMap() {\n        this.vboxes = new PQueue(function(a,b) {\n            return pv.naturalOrder(\n                a.vbox.count()*a.vbox.volume(),\n                b.vbox.count()*b.vbox.volume()\n            );\n        });\n    }\n    CMap.prototype = {\n        push: function(vbox) {\n            this.vboxes.push({\n                vbox: vbox,\n                color: vbox.avg()\n            });\n        },\n        palette: function() {\n            return this.vboxes.map(function(vb) { return vb.color; });\n        },\n        size: function() {\n            return this.vboxes.size();\n        },\n        map: function(color) {\n            var vboxes = this.vboxes;\n            for (var i=0; i<vboxes.size(); i++) {\n                if (vboxes.peek(i).vbox.contains(color)) {\n                    return vboxes.peek(i).color;\n                }\n            }\n            return this.nearest(color);\n        },\n        nearest: function(color) {\n            var vboxes = this.vboxes,\n                d1, d2, pColor;\n            for (var i=0; i<vboxes.size(); i++) {\n                d2 = Math.sqrt(\n                    Math.pow(color[0] - vboxes.peek(i).color[0], 2) +\n                    Math.pow(color[1] - vboxes.peek(i).color[1], 2) +\n                    Math.pow(color[2] - vboxes.peek(i).color[2], 2)\n                );\n                if (d2 < d1 || d1 === undefined) {\n                    d1 = d2;\n                    pColor = vboxes.peek(i).color;\n                }\n            }\n            return pColor;\n        },\n        forcebw: function() {\n            // XXX: won't  work yet\n            var vboxes = this.vboxes;\n            vboxes.sort(function(a,b) { return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color));});\n\n            // force darkest color to black if everything < 5\n            var lowest = vboxes[0].color;\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n                vboxes[0].color = [0,0,0];\n\n            // force lightest color to white if everything > 251\n            var idx = vboxes.length-1,\n                highest = vboxes[idx].color;\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n                vboxes[idx].color = [255,255,255];\n        }\n    };\n\n    // histo (1-d array, giving the number of pixels in\n    // each quantized region of color space), or null on error\n    function getHisto(pixels) {\n        var histosize = 1 << (3 * sigbits),\n            histo = new Array(histosize),\n            index, rval, gval, bval;\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            index = getColorIndex(rval, gval, bval);\n            histo[index] = (histo[index] || 0) + 1;\n        });\n        return histo;\n    }\n\n    function vboxFromPixels(pixels, histo) {\n        var rmin=1000000, rmax=0,\n            gmin=1000000, gmax=0,\n            bmin=1000000, bmax=0,\n            rval, gval, bval;\n        // find min/max\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            if (rval < rmin) rmin = rval;\n            else if (rval > rmax) rmax = rval;\n            if (gval < gmin) gmin = gval;\n            else if (gval > gmax) gmax = gval;\n            if (bval < bmin) bmin = bval;\n            else if (bval > bmax)  bmax = bval;\n        });\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n    }\n\n    function medianCutApply(histo, vbox) {\n        if (!vbox.count()) return;\n\n        var rw = vbox.r2 - vbox.r1 + 1,\n            gw = vbox.g2 - vbox.g1 + 1,\n            bw = vbox.b2 - vbox.b1 + 1,\n            maxw = pv.max([rw, gw, bw]);\n        // only one pixel, no split\n        if (vbox.count() == 1) {\n            return [vbox.copy()];\n        }\n        /* Find the partial sum arrays along the selected axis. */\n        var total = 0,\n            partialsum = [],\n            lookaheadsum = [],\n            i, j, k, sum, index;\n        if (maxw == rw) {\n            for (i = vbox.r1; i <= vbox.r2; i++) {\n                sum = 0;\n                for (j = vbox.g1; j <= vbox.g2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(i,j,k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else if (maxw == gw) {\n            for (i = vbox.g1; i <= vbox.g2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(j,i,k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else {  /* maxw == bw */\n            for (i = vbox.b1; i <= vbox.b2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\n                        index = getColorIndex(j,k,i);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        partialsum.forEach(function(d,i) {\n            lookaheadsum[i] = total-d;\n        });\n        function doCut(color) {\n            var dim1 = color + '1',\n                dim2 = color + '2',\n                left, right, vbox1, vbox2, d2, count2=0;\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n                if (partialsum[i] > total / 2) {\n                    vbox1 = vbox.copy();\n                    vbox2 = vbox.copy();\n                    left = i - vbox[dim1];\n                    right = vbox[dim2] - i;\n                    if (left <= right)\n                        d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));\n                    else d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));\n                    // avoid 0-count boxes\n                    while (!partialsum[d2]) d2++;\n                    count2 = lookaheadsum[d2];\n                    while (!count2 && partialsum[d2-1]) count2 = lookaheadsum[--d2];\n                    // set dimensions\n                    vbox1[dim2] = d2;\n                    vbox2[dim1] = vbox1[dim2] + 1;\n//                    console.log('vbox counts:', vbox.count(), vbox1.count(), vbox2.count());\n                    return [vbox1, vbox2];\n                }\n            }\n\n        }\n        // determine the cut planes\n        return maxw == rw ? doCut('r') :\n            maxw == gw ? doCut('g') :\n                doCut('b');\n    }\n\n    function quantize(pixels, maxcolors) {\n        // short-circuit\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n//            console.log('wrong number of maxcolors');\n            return false;\n        }\n\n        // XXX: check color content and convert to grayscale if insufficient\n\n        var histo = getHisto(pixels),\n            histosize = 1 << (3 * sigbits);\n\n        // check that we aren't below maxcolors already\n        var nColors = 0;\n        histo.forEach(function() { nColors++; });\n        if (nColors <= maxcolors) {\n            // XXX: generate the new colors from the histo and return\n        }\n\n        // get the beginning vbox from the colors\n        var vbox = vboxFromPixels(pixels, histo),\n            pq = new PQueue(function(a,b) { return pv.naturalOrder(a.count(), b.count()); });\n        pq.push(vbox);\n\n        // inner function to do the iteration\n        function iter(lh, target) {\n            var ncolors = 1,\n                niters = 0,\n                vbox;\n            while (niters < maxIterations) {\n                vbox = lh.pop();\n                if (!vbox.count())  { /* just put it back */\n                    lh.push(vbox);\n                    niters++;\n                    continue;\n                }\n                // do the cut\n                var vboxes = medianCutApply(histo, vbox),\n                    vbox1 = vboxes[0],\n                    vbox2 = vboxes[1];\n\n                if (!vbox1) {\n//                    console.log(\"vbox1 not defined; shouldn't happen!\");\n                    return;\n                }\n                lh.push(vbox1);\n                if (vbox2) {  /* vbox2 can be null */\n                    lh.push(vbox2);\n                    ncolors++;\n                }\n                if (ncolors >= target) return;\n                if (niters++ > maxIterations) {\n//                    console.log(\"infinite loop; perhaps too few pixels!\");\n                    return;\n                }\n            }\n        }\n\n        // first set of colors, sorted by population\n        iter(pq, fractByPopulations * maxcolors);\n\n        // Re-sort by the product of pixel occupancy times the size in color space.\n        var pq2 = new PQueue(function(a,b) {\n            return pv.naturalOrder(a.count()*a.volume(), b.count()*b.volume());\n        });\n        while (pq.size()) {\n            pq2.push(pq.pop());\n        }\n\n        // next set - generate the median cuts using the (npix * vol) sorting.\n        iter(pq2, maxcolors - pq2.size());\n\n        // calculate the actual colors\n        var cmap = new CMap();\n        while (pq2.size()) {\n            cmap.push(pq2.pop());\n        }\n\n        return cmap;\n    }\n\n    return {\n        quantize: quantize\n    };\n})();\n\nColorThief.prototype.contrast = function(rgb) {\n    var c = \"white\", p = 255;\n    try{\n        p = (0.2126*rgb[0] + 0.7152*rgb[1] + 0.0722*rgb[2]);\n        if (p>128)\n            c = \"black\";\n    }catch(e){}\n    return [c,p];\n}\n\nColorThief.prototype.shadeRGBColor = function(color, percent) {\n    var f=color.split(\",\"),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=parseInt(f[0].slice(4)),G=parseInt(f[1]),B=parseInt(f[2]);\n    return [(Math.round((t-R)*p)+R), (Math.round((t-G)*p)+G), (Math.round((t-B)*p)+B)];\n}\n\nColorThief.prototype.getDarkPalette = function(elem, fromRGB) {\n    var c = [0,0,0];\n    _this = this;\n\n    try {\n        if (typeof fromRGB != \"undefined\")\n          c = elem;\n        else\n          c = _this.getColor(elem, 1);\n\n        if (typeof c != \"object\")\n            c = [0, 0, 0];\n        if (c.length != 3)\n            c = [0, 0, 0];\n\n        var cp = _this.contrast(c);\n        if (cp[0] == 'black') {\n            c = _this.shadeRGBColor('rgb(' + c[0] + \",\" + c[1] + \",\" + c[2] + ')', (((100 / 256) * (cp[1] - 100)) / 100) * -1);\n        }\n    }catch(e){}\n\n    return c[0] + \",\" + c[1] + \",\" + c[2];\n}\n\nmodule.exports = ColorThief.prototype;\n\n},{}],105:[function(require,module,exports){\nmodule.exports = {\n    colorFromString: function(str) {\n        try{\n            str = str.trim();\n        }catch(e){if(e)str=\"\";}\n        if (str!=\"\") {\n            var b, bigint, colour, g, hash, i, r, value;\n            hash = 0;\n            i = 0;\n            while (i < str.length) {\n                hash = str.charCodeAt(i) + ((hash << 5) - hash);\n                i++;\n            }\n            colour = \"\";\n            i = 0;\n            while (i < 3) {\n                value = (hash >> (i * 8)) & 0xff;\n                colour += (\"00\" + value.toString(16)).substr(-2);\n                i++;\n            }\n            bigint = parseInt(colour, 16);\n            r = (bigint >> 16) & 255;\n            g = (bigint >> 8) & 255;\n            b = bigint & 255;\n\n            return [r, g, b];\n        }else\n            return [0,0,0];\n    }\n}\n\n},{}],106:[function(require,module,exports){\nmodule.exports = {\n\tmaxFileSize: 10485760, //10mb\n\tfileTypes: [\"image/png\", \"image/jpeg\", \"image/jpg\", \"image/gif\"/*, \"application/pdf\"*/],\n\n\tgetAcceptString: function() {\n\t\treturn this.fileTypes.join(\",\");\n\t},\n\n\tgetHumanAcceptString: function() {\n\t\treturn t.s(\"images\") + \" (PNG, JPEG, GIF), \" + t.s(\"links\") + \". Soon: PDF, Mark Down\";\n\t},\n\n\tcontainsFiles: function(event) {\n\t\tif (typeof window.dropFiles != \"function\")\n\t\t\treturn false;\n\n\t    if (event.dataTransfer.types) {\n\t        for (var i = 0; i < event.dataTransfer.types.length; i++) {\n\t            if (event.dataTransfer.types[i] == \"Files\") {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t    \n\t    return false;\n\n\t},\n\n\tmakeInfoDiv: function() {\n\t\tif (!document.getElementById(\"drop-zone-info\")){\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.id=\"drop-zone-info\";\n\t\t\tdocument.body.appendChild(div);\n\t\t\tReact.render((\n\t\t\t\tReact.createElement(\"div\", null, \n\t\t\t\t\tReact.createElement(\"img\", {id: \"drop-zone-image\", src: (window.pathPrefix||\"\") + \"../common/images/filetypes.svg\", alt: \"\"}), \n\t\t\t\t\tReact.createElement(\"strong\", null, \"Drag & Drop\"), React.createElement(\"span\", null, this.getHumanAcceptString())\n\t\t\t\t)\n\t\t\t), div);\n\t\t}\n\t},\n\n\tremoveInfoDiv: function() {\n\t\tvar div=document.getElementById(\"drop-zone-info\");\n\t\tif (div){\n\t\t\tdocument.body.removeChild(div);\n\t\t}\n\t},\n\n\tvalidateFiles: function(files) {\n\t\tvar cleanFiles = [];\n\t\tfor(var i in files){\n\t\t\tvar f = files[i];\n\t\t\tif ((this.fileTypes.indexOf(f.type)!=-1)&&(f.size<=this.maxFileSize))\n\t\t\t\tcleanFiles.push({\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\tfile: f\n\t\t\t\t});\n\t\t}\n\n\t\treturn cleanFiles;\n\t},\n\n\tbind: function() {\n\t\tvar _this = this;\n\t\tvar droppable = document.body;\n\t\tvar e = new Event('fileDropped');\n\n\t\tdroppable.addEventListener(\"dragover\", function(e) {\n\t\t\tif (_this.containsFiles(e)){\n\t\t\t\te.dataTransfer.dropEffect = \"copy\";\n\t\t\t\t\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\n\t\t\t\tthis.classList.add(\"dropfile-over\");\n\n\t\t\t\t_this.makeInfoDiv();\n\t\t\t}\n\t\t});\n\n\t\tdroppable.addEventListener(\"dragenter\", function(e) {\n\t\t\tif (_this.containsFiles(e)){\n\t\t\t\te.dataTransfer.dropEffect = \"copy\";\n\t\t\t\tthis.classList.add(\"dropfile-over\");\n\n\t\t\t\t_this.makeInfoDiv();\n\t\t\t}\n\t\t});\n\n\t\tdroppable.addEventListener(\"dragleave\", function(e) {\n\t\t\tthis.classList.remove(\"dropfile-over\");\n\n\t\t\t_this.removeInfoDiv();\n\t\t});\n\n\t\tdroppable.addEventListener(\"drop\", function(e) {\n\t\t\tif (_this.containsFiles(e)){\n\t\t\t\te.preventDefault();\n\t\t\t\tif (e.stopPropagation) e.stopPropagation();\n\n\t\t\t\tthis.classList.remove(\"dropfile-over\");\n\n\t\t\t\twindow.dropFiles({files: _this.validateFiles(e.dataTransfer.files)});\n\t\t\t\ttry{window.dispatchEvent(e);}catch(e){}\n\t\t\t}\n\n\t\t\t_this.removeInfoDiv();\n\t\t});\n\t}\n}\n\n},{}],107:[function(require,module,exports){\nmodule.exports = {\n    defaultIcons: function(s) {\n      switch(parseInt(s)){\n        case 0: return \"infinite\"; break;\n        case -1: return \"inbox\"; break;\n        case -2: return \"best\"; break;\n        case -99: return \"trash\"; break;\n        default: return \"default-folder\"; break;\n      }\n    },\n    \n    getDomain: function(url){\n      url = url || \"\";\n      if(typeof document != \"undefined\"){\n          var a = document.createElement('a');\n          a.href = url;\n          var host = a.hostname;\n          delete a;\n          return host;\n      }else{\n        var domain;\n        //find & remove protocol (http, ftp, etc.) and get domain\n        if (url.indexOf(\"://\") > -1) {\n            domain = url.split('/')[2];\n        }\n        else {\n            domain = url.split('/')[0];\n        }\n\n        //find & remove port number\n        domain = domain.split(':')[0];\n\n        return domain;\n      }\n    },\n\n    fixURL: function(s) {\n        try{\n            s = s.trim();\n        } catch(e) {if(e)s=\"\";}\n\n        if (s.indexOf('//')==0)\n            return \"http:\"+s;\n        else if (s.indexOf('/')==0)/*((s.indexOf('http://')!=0)&&(s.indexOf('https://')!=0)&&(s.indexOf('chrome-extension://')!=0))*/\n            return \"https://raindrop.io\"+s;\n        else\n            return s;\n    },\n\n    favIcon: function(s) {\n        return \"https://logo.clearbit.com/\"+(s||\"\")+\"?size=24\";\n        //return \"https://favicon.yandex.net/favicon/\"+(s||\"\")+\"?color=255,255,255,0\";\n        //return \"https://raindrop.io/favicon/\"+(s||\"\");\n    },\n\n    thumb: function(s,width) {\n        try{\n            s = s.trim();\n        } catch(e) {if(e)s=\"\";}\n\n        if (typeof width == \"undefined\")\n            width = 230;\n\n        if (s!=\"\") {\n            if (s.indexOf('http')!=0)\n                return this.fixURL(s);\n            else if (s.indexOf('https://raindrop.io')==0)\n                return s;\n            else if (s.indexOf('http://raindrop.io')==0)\n                return s;\n            else\n                return \"https://raindrop.io/makethumb/?url=\" + encodeURIComponent(s) + \"&width=\" + width;\n        }\n        else\n            return \"about:blank\";\n    },\n\n    cleanDomain: function(domain) {\n        try{\n            var temp = domain.split('.'), maxSize = 2;\n            if (temp.length>maxSize){\n                if ((temp[ temp.length-2 ] == 'org')||(temp[ temp.length-2 ] == 'net')||(temp[ temp.length-2 ] == 'com')||(temp[ temp.length-2 ] == 'co'))\n                    maxSize = 3;\n\n                temp.splice(0, temp.length-maxSize );\n                domain = temp.join('.');\n            }\n        }catch(e){}\n\n        return domain;\n    },\n\n    linkTarget: function() {\n        var _target = \"_self\";\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n            _target = \"_top\";\n\n        if ((window.environment||[]).indexOf(\"safari_popup\")!=-1)\n            _target = \"_blank\";\n        \n        return _target;\n    },\n\n    settingsURL: function() {\n        var sURL = \"../settings/settings.html#/settings\";\n        var _target = \"_self\";\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n            _target = \"_blank\";\n        }\n        \n        if (window.location.protocol.indexOf(\"http\")!=-1) {\n            sURL = \"/settings#/settings\";\n        }\n        if ((window.environment||[]).indexOf(\"mac\")!=-1)\n        {\n            sURL = \"../settings/settings.html?isMac#/settings\";\n        }\n        \n        return sURL;\n    }\n};\n\n},{}],108:[function(require,module,exports){\nmodule.exports = {\n    getCurrentBrowser: function() {\n      var browser = [];\n\n      if (/chrom(e|ium)/.test(navigator.userAgent.toLowerCase()))\n        browser.push(\"chrome\");\n\n      if (/constructor/i.test(window.HTMLElement))\n        browser.push(\"safari\");\n\n      if ('MozAppearance' in document.documentElement.style)\n        browser.push('firefox');\n\n      if (!!window.opera || /opera|opr/i.test(navigator.userAgent))\n        browser.push('opera');\n\n      if ('WebkitAppearance' in document.documentElement.style)\n        browser.push(\"webkit\");\n\n      //OS\n      if (navigator.appVersion.indexOf(\"Win\")!=-1) browser.push(\"Windows\");\n      if (navigator.appVersion.indexOf(\"Mac\")!=-1) browser.push(\"MacOS\");\n      if (navigator.appVersion.indexOf(\"X11\")!=-1) browser.push(\"UNIX\");\n      if (navigator.appVersion.indexOf(\"Linux\")!=-1) browser.push(\"Linux\");\n\n      return browser;\n    },\n\n    swapArray: function (a, x,y) {\n      var a = _.clone(a);\n      var b = _.clone(a[x]);\n      a[x] = _.clone(a[y]);\n      a[y] = _.clone(b);\n      return a;\n    },\n\n    parseSearch: function(val) {\n        var key = \"word\";\n        var typeRegexp = /type\\-(image|video|link|article)/i;\n\n        if (val.match(new RegExp(/(^|\\s)#([^ ]*)/i))) {\n            key = \"tag\";\n            val = val.replace(/,/g, '').replace(/#/g, '');\n        }\n        else if (val.match(new RegExp(/^((?:(?:(?:\\w[\\.\\-\\+]?)*)\\w)+)((?:(?:(?:\\w[\\.\\-\\+]?){0,62})\\w)+)\\.(\\w{2,6})$/))){\n            key = \"domain\";\n            val = val.toLowerCase();\n        }\n        else if (val.match(new RegExp(typeRegexp))){\n            key = \"type\";\n            val = val.match(typeRegexp)[1];\n        }\n\n        return {key: key, val: val};\n    },\n\n    inputSelectAllMixin: {\n        handleSelectAll: function(e) {\n            e.target.focus();\n            e.target.select();\n        }\n    },\n\n\n    getErrorFromJSON: function(json) {\n      if (typeof json.error != \"undefined\") {\n        return t.s(\"server\"+json.error);\n      }\n\n      if (typeof json.auth != \"undefined\") {\n        if (!json.auth)\n          return t.s(\"startToSave\");\n      }\n\n      return t.s(\"server\");\n    },\n\n    defaultTitle: function() {\n      if ((window.environment||[]).indexOf(\"desktop\")!=-1)\n        return \"Raindrop.io\";\n      else{\n        var s = t.s(\"pro_speed_dial\");\n        if (s.indexOf(\"(\")!=-1){\n          s = s.substr(0, s.indexOf(\"(\")-1);\n        }\n\n        s = S(s).replaceAll('\"', '').s;\n        \n        if (s.indexOf(\"-\")!=-1){\n          s = s.substr(0, s.indexOf(\"-\")-1);\n        }\n\n        return s;\n      }\n    },\n\n    beautifulDomain: function(s) {\n      var clean = \"\";\n      try{clean = network.cleanDomain(s);}catch(e){}\n      try{clean = clean.match(/(.*)\\./i)[1];}catch(e){}\n      try{clean = clean.replace(/-/g, \" \").replace(/_/g, \" \");}catch(e){}\n      try{clean = clean.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});}catch(e){}\n\n      return clean||s;\n    },\n\n    copyTextToClipboard: function(text) {\n      if (typeof MacGap != \"undefined\"){\n        MacGap.Clipboard.copy(text);\n        return;\n      }\n\n      var textArea = document.createElement(\"textarea\");\n\n      //\n      // *** This styling is an extra step which is likely not required. ***\n      //\n      // Why is it here? To ensure:\n      // 1. the element is able to have focus and selection.\n      // 2. if element was to flash render it has minimal visual impact.\n      // 3. less flakyness with selection and copying which **might** occur if\n      //    the textarea element is not visible.\n      //\n      // The likelihood is the element won't even render, not even a flash,\n      // so some of these are just precautions. However in IE the element\n      // is visible whilst the popup box asking the user for permission for\n      // the web page to copy to the clipboard.\n      //\n\n      // Place in top-left corner of screen regardless of scroll position.\n      textArea.style.position = 'fixed';\n      textArea.style.top = 0;\n      textArea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textArea.style.width = '2em';\n      textArea.style.height = '2em';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textArea.style.padding = 0;\n\n      // Clean up any borders.\n      textArea.style.border = 'none';\n      textArea.style.outline = 'none';\n      textArea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textArea.style.background = 'transparent';\n\n\n      textArea.value = text;\n\n      document.body.appendChild(textArea);\n\n      textArea.select();\n\n      try {\n        var successful = document.execCommand('copy');\n        var msg = successful ? 'successful' : 'unsuccessful';\n        console.log('Copying text command was ' + msg);\n      } catch (err) {\n        console.log('Oops, unable to copy');\n      }\n\n      document.body.removeChild(textArea);\n    },\n\n    humanFileSize: function(bytes, si) {\n        var thresh = si ? 1000 : 1024;\n        if(Math.abs(bytes) < thresh) {\n            return bytes + ' B';\n        }\n        var units = si\n            ? ['Kb','Mb','Gb','Tb','Pb','Eb','Zb','Yb']\n            : ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        var u = -1;\n        do {\n            bytes /= thresh;\n            ++u;\n        } while(Math.abs(bytes) >= thresh && u < units.length - 1);\n        return bytes.toFixed(1)+' '+units[u];\n    },\n\n    parseBrowserQuery: function() {\n      var q = {};\n      try{\n        var temp = window.location.search.substr(1, window.location.search.length).split(\"&\");\n        temp.forEach(function(item){\n          var a = item.split(\"=\");\n          q[a[0]]=decodeURIComponent(a[1]);\n        });\n      }catch(e){}\n\n      return q;\n    }\n}\n\n},{}],109:[function(require,module,exports){\nrequire(\"moment/locale/id.js\");\nrequire(\"moment/locale/de.js\");\nrequire(\"moment/locale/es.js\");\nrequire(\"moment/locale/fr.js\");\nrequire(\"moment/locale/nl.js\");\nrequire(\"moment/locale/pl.js\");\nrequire(\"moment/locale/pt.js\");\nrequire(\"moment/locale/fi.js\");\nrequire(\"moment/locale/tr.js\");\nrequire(\"moment/locale/ru.js\");\nrequire(\"moment/locale/uk.js\");\nrequire(\"moment/locale/ko.js\");\nrequire(\"moment/locale/zh-cn.js\");\nrequire(\"moment/locale/zh-tw.js\");\n\nmodule.exports = {\n    defaultLang: \"en_US\",\n    currentLang: \"en_US\",\n    //strings: require(\"./languages\"),\n\n    getLang: function() {\n        return this.currentLang;\n    },\n\n    cleanLang: function(lang) {\n      for(var i in consts.languages)\n        if (i.indexOf(lang)==0){\n          return i;\n        }\n      return this.defaultLang;\n    },\n\n    setLang: function(lang) {\n        //get defautls if lang not presented\n        if (typeof lang == \"undefined\"){\n          lang = null;\n          try{lang = localStorage.getItem(\"language\")||null;}catch(e){}\n\n          if (lang==null){\n            var browserLang = navigator.language || navigator.userLanguage || \"\";\n            try{\n              browserLang = browserLang.trim().substr(0,2).toLowerCase();\n            } catch(e) {if (e) browserLang=\"\"; }\n\n            if (browserLang!=\"\"){\n              lang = this.cleanLang(browserLang);\n            }\n          }\n        }\n\n        if (typeof consts.languages[lang] == \"undefined\")\n            lang = this.defaultLang;\n\n        this.currentLang = lang;\n        try{localStorage.setItem(\"language\", this.currentLang);}catch(e){}\n        if (typeof moment != \"undefined\")\n          moment.locale(this.currentLang);\n        else if (typeof window.moment != \"undefined\")\n          window.moment.locale(this.currentLang);\n    },\n\n    s: function(s) {\n      if (typeof window[\"lang_\"+this.currentLang] == \"undefined\")\n        return s;\n\n      if (typeof window[\"lang_\"+this.currentLang][s] != \"undefined\")\n          return window[\"lang_\"+this.currentLang][s];\n      else\n          return s;\n    },\n\n    initJSfile: function() {\n      /*var script = document.createElement(\"script\");\n      script.src = (window.pathPrefix||\"\")+\"../common/js/\"+this.currentLang+\".js\";\n      document.head.appendChild(script);*/\n\n      var _this = this;\n      var xmlhttp = new XMLHttpRequest();\n      var url = (window.pathPrefix||\"\")+\"../common/js/\"+this.currentLang+\".js\";\n\n      var e = new Event('langLoaded');\n      xmlhttp.onreadystatechange = function() {\n          if (xmlhttp.readyState == 4 && xmlhttp.responseText) {\n              window[\"lang_\"+_this.currentLang] = JSON.parse(xmlhttp.responseText);\n              window.languageLoaded = true;\n              window.dispatchEvent(e);\n          }\n      }\n      xmlhttp.open(\"GET\", url, true);\n      xmlhttp.send();\n    }\n}\n\n},{\"moment/locale/de.js\":\"moment/locale/de.js\",\"moment/locale/es.js\":\"moment/locale/es.js\",\"moment/locale/fi.js\":\"moment/locale/fi.js\",\"moment/locale/fr.js\":\"moment/locale/fr.js\",\"moment/locale/id.js\":\"moment/locale/id.js\",\"moment/locale/ko.js\":\"moment/locale/ko.js\",\"moment/locale/nl.js\":\"moment/locale/nl.js\",\"moment/locale/pl.js\":\"moment/locale/pl.js\",\"moment/locale/pt.js\":\"moment/locale/pt.js\",\"moment/locale/ru.js\":\"moment/locale/ru.js\",\"moment/locale/tr.js\":\"moment/locale/tr.js\",\"moment/locale/uk.js\":\"moment/locale/uk.js\",\"moment/locale/zh-cn.js\":\"moment/locale/zh-cn.js\",\"moment/locale/zh-tw.js\":\"moment/locale/zh-tw.js\"}],110:[function(require,module,exports){\nmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"96px\\\" height=\\\"12px\\\" viewBox=\\\"0 0 96 12\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n    <!-- Generator: Sketch 3.3.1 (12002) - http://www.bohemiancoding.com/sketch -->\\n    <title>logo-text</title>\\n    <desc>Created with Sketch.</desc>\\n    <defs></defs>\\n    <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Home\\\" sketch:type=\\\"MSArtboardGroup\\\" transform=\\\"translate(-73.000000, -34.000000)\\\" fill=\\\"#000000\\\">\\n            <g id=\\\"sidebar\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(-9.000000, 1.000000)\\\">\\n                <g id=\\\"logo-text\\\" transform=\\\"translate(82.000000, 33.000000)\\\" sketch:type=\\\"MSShapeGroup\\\">\\n                    <path d=\\\"M92.5,7 C94.4329966,7 96,5.43299662 96,3.5 C96,1.56700338 94.4329966,0 92.5,0 C90.5670034,0 89,1.56700338 89,3.5 C89,5.43299662 90.5670034,7 92.5,7 Z M92.5,6 C93.8807119,6 95,4.88071187 95,3.5 C95,2.11928813 93.8807119,1 92.5,1 C91.1192881,1 90,2.11928813 90,3.5 C90,4.88071187 91.1192881,6 92.5,6 Z M86,0 L87,0 L87,7 L86,7 L86,0 Z M83,7 C83.5522847,7 84,6.55228475 84,6 C84,5.44771525 83.5522847,5 83,5 C82.4477153,5 82,5.44771525 82,6 C82,6.55228475 82.4477153,7 83,7 Z\\\" id=\\\"io\\\" opacity=\\\"0.5\\\"></path>\\n                    <path d=\\\"M8.392,11 L5.784,6.808 C7.064,6.6 8.312,5.576 8.312,3.672 C8.312,1.704 6.936,0.328 4.824,0.328 L0.136,0.328 L0.136,11 L2.008,11 L2.008,7.016 L3.864,7.016 L6.232,11 L8.392,11 Z M4.568,5.368 L2.008,5.368 L2.008,1.976 L4.568,1.976 C5.624,1.976 6.392,2.648 6.392,3.672 C6.392,4.696 5.624,5.368 4.568,5.368 L4.568,5.368 Z M19.784,11 L15.592,0.328 L13.256,0.328 L9.064,11 L11.192,11 L11.976,8.952 L16.872,8.952 L17.656,11 L19.784,11 Z M16.344,7.304 L12.504,7.304 L14.424,2.216 L16.344,7.304 Z M22.824,11 L22.824,0.328 L20.952,0.328 L20.952,11 L22.824,11 Z M34.344,11 L34.344,0.328 L32.472,0.328 L32.472,7.736 L27.016,0.328 L25.096,0.328 L25.096,11 L26.968,11 L26.968,3.384 L32.536,11 L34.344,11 Z M40.584,11 C43.912,11 46.168,8.808 46.168,5.672 C46.168,2.536 43.912,0.328 40.584,0.328 L36.616,0.328 L36.616,11 L40.584,11 Z M40.584,9.352 L38.488,9.352 L38.488,1.976 L40.584,1.976 C42.968,1.976 44.248,3.608 44.248,5.672 C44.248,7.688 42.904,9.352 40.584,9.352 L40.584,9.352 Z M56.232,11 L53.624,6.808 C54.904,6.6 56.152,5.576 56.152,3.672 C56.152,1.704 54.776,0.328 52.664,0.328 L47.976,0.328 L47.976,11 L49.848,11 L49.848,7.016 L51.704,7.016 L54.072,11 L56.232,11 Z M52.408,5.368 L49.848,5.368 L49.848,1.976 L52.408,1.976 C53.464,1.976 54.232,2.648 54.232,3.672 C54.232,4.696 53.464,5.368 52.408,5.368 L52.408,5.368 Z M63,11.192 C66.2,11.192 68.456,8.856 68.456,5.672 C68.456,2.488 66.2,0.152 63,0.152 C59.8,0.152 57.544,2.488 57.544,5.672 C57.544,8.856 59.8,11.192 63,11.192 L63,11.192 Z M63,9.528 C60.84,9.528 59.464,7.864 59.464,5.672 C59.464,3.464 60.84,1.816 63,1.816 C65.144,1.816 66.536,3.464 66.536,5.672 C66.536,7.864 65.144,9.528 63,9.528 L63,9.528 Z M72.136,11 L72.136,7.016 L74.952,7.016 C77.176,7.016 78.44,5.48 78.44,3.672 C78.44,1.864 77.192,0.328 74.952,0.328 L70.264,0.328 L70.264,11 L72.136,11 Z M74.696,5.368 L72.136,5.368 L72.136,1.976 L74.696,1.976 C75.752,1.976 76.52,2.648 76.52,3.672 C76.52,4.696 75.752,5.368 74.696,5.368 L74.696,5.368 Z\\\" id=\\\"raindrop\\\"></path>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>\";\n\n},{}],111:[function(require,module,exports){\nmodule.exports=module.exports = \"{\\n  \\\"manifest_version\\\": 2,\\n  \\\"name\\\": \\\"Raindrop.io New Tab / Speed Dial\\\",\\n  \\\"default_locale\\\": \\\"en\\\",\\n  \\\"description\\\": \\\"Your beautiful start page with favorite sites and bookmarks.\\\",\\n  \\\"homepage_url\\\": \\\"https://raindrop.io\\\",\\n  \\\"short_name\\\": \\\"RaindropNewTab\\\",\\n  \\\"version\\\": \\\"0.7.5\\\",\\n  \\\"default_locale\\\": \\\"en\\\",\\n\\n  \\\"offline_enabled\\\": true,\\n\\n  \\\"commands\\\": {\\n    \\\"_execute_page_action\\\": {\\n      \\\"suggested_key\\\": {\\n        \\\"windows\\\": \\\"Ctrl+E\\\",\\n        \\\"mac\\\": \\\"Command+E\\\",\\n        \\\"chromeos\\\": \\\"Ctrl+E\\\",\\n        \\\"linux\\\": \\\"Ctrl+E\\\"\\n      }\\n    }\\n  },\\n\\n  \\\"background\\\": {\\n\\t\\t\\\"scripts\\\": [\\\"background.js\\\"],\\n\\t\\t\\\"persistent\\\": true\\n\\t},\\n\\n  \\\"permissions\\\": [\\n    \\\"tabs\\\",\\n    \\\"storage\\\",\\n    \\\"*://*/*\\\",\\n    \\\"<all_urls>\\\",\\n    \\\"notifications\\\"\\n  ],\\n\\n  \\\"icons\\\" : {\\n    \\\"16\\\": \\\"common/images/icon-16.png\\\",\\n    \\\"48\\\" : \\\"common/images/icon-48.png\\\",\\n    \\\"128\\\" : \\\"common/images/icon-128.png\\\"\\n  },\\n\\n  \\\"chrome_url_overrides\\\" : {\\n    \\\"newtab\\\": \\\"app/index.html#/\\\"\\n  },\\n\\n  \\\"options_page\\\": \\\"settings/settings.html\\\",\\n  \\n  \\\"options_ui\\\": {\\n    \\\"page\\\": \\\"settings/settings.html\\\",\\n    \\\"chrome_style\\\": true\\n  },\\n\\n  \\\"page_action\\\": {\\n    \\\"default_icon\\\": {\\n      \\\"19\\\": \\\"common/images/page-action-19.png\\\",\\n      \\\"38\\\": \\\"common/images/page-action-38.png\\\"\\n    },\\n    \\\"default_title\\\": \\\"Save to Raindrop.io\\\",\\n    \\\"default_popup\\\": \\\"miniclipper/index.html\\\"\\n  },\\n\\n  \\\"content_security_policy\\\": \\\"script-src 'self' https://www.google-analytics.com https://pagead2.googlesyndication.com https://*.intercom.io https://*.intercomcdn.com https://*.getsentry.com https://*.ravenjs.com https://*.uservoice.com; object-src 'self'\\\"\\n}\\n\";\n\n},{}],112:[function(require,module,exports){\nvar BookmarkActions = require('../actions/Bookmark');\nvar _item = {};\n\nmodule.exports = Reflux.createStore({\n  init: function() {\n    this.listenTo(BookmarkActions.load, this.onLoad);\n  },\n\n  onLoad: function(id) {\n    var _this = this;\n\n    Api.get(\"raindrop/\"+id, function(json) {\n      _item = json.item || {};\n      _this.trigger(_item);\n    });\n  },\n\n  getItem: function(_id) {\n    _item = {};\n    _item._id = _id;\n    _item.navigation = {};\n    return _item;\n  }\n});\n\n},{\"../actions/Bookmark\":1}],113:[function(require,module,exports){\nvar BookmarkActions = require('../actions/Bookmarks');\nvar CollectionsActions = require('../actions/Collections');\nvar CollectionsStore = require('../stores/Collections');\nvar LastBookmarkActions = require('../actions/LastBookmark');\n\nvar V = require('validator');\n\nvar _bookmarks = [], _loading = false, _loaded = false, _noMore = false, _canLoadFromCache = false, _url = \"\", _speed = \"sync\";\nvar _moveUpdateList = [], _selectedCount = 0;\n\nvar _blankBookmark = {\n    excerpt: \"\",\n    html: \"\",\n    media: [],\n    title: \"\",\n    type: \"link\"\n}\n\nvar _initFavorites = {\n  \"en_US\": [\n    {_id: 1, sort:4, title: \"Raindrop.io\", link: \"https://raindrop.io\", domain: \"raindrop.io\", collectionId: -2},\n    {_id: 2, sort:3, title: \"Facebook\", link: \"https://facebook.com\", domain: \"facebook.com\", collectionId: -2},\n    {_id: 3, sort:2, title: \"Twitter\", link: \"https://twitter.com\", domain: \"twitter.com\", collectionId: -2},\n    {_id: 4, sort:1, title: \"Wikipedia.org\", link: \"http://en.wikipedia.org\", domain: \"wikipedia.org\", collectionId: -2},\n  ],\n\n  \"ru_RU\": [\n    {_id: 1, sort:4, title: \"Raindrop.io\", link: \"https://raindrop.io\", domain: \"raindrop.io\", collectionId: -2},\n    {_id: 2, sort:3, title: \"\", link: \"https://vk.com\", domain: \"vk.com\", collectionId: -2},\n    {_id: 3, sort:2, title: \"\", link: \"https://yandex.ru\", domain: \"yandex.ru\", collectionId: -2},\n    {_id: 4, sort:1, title: \"Wikipedia.org\", link: \"https://ru.wikipedia.org\", domain: \"wikipedia.org\", collectionId: -2},\n  ]\n};\n\nvar BookmarksStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(BookmarkActions.load, this.onLoad);\n        this.listenTo(BookmarkActions.reset, this.reset);\n        this.listenTo(BookmarkActions.parseURL, this.onParseURL);\n        this.listenTo(BookmarkActions.loadBookmark, this.onLoadBookmark);\n        this.listenTo(BookmarkActions.insertBookmark, this.onInsertBookmark);\n        this.listenTo(BookmarkActions.updateBookmark, this.onUpdateBookmark);\n        this.listenTo(BookmarkActions.updateSelectedBookmarks, this.onUpdateSelectedBookmarks);\n        this.listenTo(BookmarkActions.removeBookmark, this.onRemoveBookmark);\n        this.listenTo(BookmarkActions.removeSelectedBookmarks, this.onRemoveSelectedBookmarks);\n        this.listenTo(BookmarkActions.copySelectedBookmarks, this.onCopySelectedBookmarks);\n        this.listenTo(BookmarkActions.swapBookmarks, this.onSwapBookmarks);\n        this.listenTo(BookmarkActions.saveAllSort, this.onSaveAllSort);\n        this.listenTo(BookmarkActions.syncMove, this.onSyncMove);\n\n        this.listenTo(BookmarkActions.setSelected, this.onSetSelected);\n        this.listenTo(BookmarkActions.selectAll, this.onSelectAll);\n        this.listenTo(BookmarkActions.clearSelect, this.onClearSelect);\n\n        this.listenTo(BookmarkActions.initFavorites, this.onInitFavorites);\n    },\n\n    onLoad: function(params, callback) {\n        if (typeof params.speed != \"undefined\")\n          _speed = params.speed;\n        else\n          _speed = \"sync\";\n\n        if (!_loading)\n          if (params.page == 0)\n              this.reset();\n\n        if ((!_loading)&&(!_noMore)) {\n            _loading = true;\n\n            var _this = this;\n            _url = \"raindrops/\" + params.cId;\n\n            //query params\n            params.sort = params.sort || \"lastUpdate\";\n            var q = _.map(params, function (val, index) {\n                return index + \"=\" + val;\n            });\n            if (q.length > 0)\n                _url += \"?\" + q.join(\"&\");\n\n            _canLoadFromCache=((params.sort!=\"title\")&&(!params.page)/*&&(!params.search)*/);\n\n            if (window.cacheDisabled||false)\n              _canLoadFromCache = false;\n            \n            if (_canLoadFromCache){\n                switch(_speed){\n                  case \"async\":\n                    try{ls.getItem(_url)\n                      .then(function (val) {\n                          if ((val) && (!_loaded)) {\n                              _bookmarks = val;\n                              _this.trigger(_bookmarks);\n                          }\n                      })\n                      .catch(function(e){\n\n                      });}catch(e){}\n                  break;\n\n                  case 'sync':\n                    _bookmarks = [];\n                    try{\n                      _bookmarks = JSON.parse(Api.getItem(_url)) || [];\n                    }catch(e){if (e) _bookmarks = [];}\n                    if (_bookmarks.length>0)\n                      _this.trigger(_bookmarks);\n                  break;\n                }\n            }\n\n            Api.get(_url, function (json) {\n                if ((json.result||false)&&(parseInt(CollectionsStore.getCurrentId()) == json.collectionId)) {\n                  //if ((json.items||[]).length>0) {\n                      if (params.page == 0){\n                        _bookmarks = (json.items||[]);\n\n                        CollectionsActions.updateCountCollection({_id: params.cId, count: json.count || 0});\n                      }\n                      else\n                        _bookmarks = _bookmarks.concat((json.items||[]));\n                  //}\n\n                  //if (_bookmarks.length>=(json.count||0))\n                  _noMore = ((json.items||[]).length == 0);\n\n                  _loading = false;\n                }\n                else{\n                  _bookmarks = [];\n                  _noMore = true;\n                  _loading = false;\n                }\n\n                _loaded = true;\n\n                _this.update();\n\n                if (typeof callback != \"undefined\")\n                  callback();\n            });\n        }else {\n          if (typeof callback != \"undefined\")\n            callback();\n        }\n    },\n\n    onLoadBookmark: function(params, callback) {\n      var _this = this;\n\n      var getById = function(id, params) {\n        var q = [];\n        for(var i in params)\n          q.push(i+\"=\"+params[i]);\n\n        Api.get(\"raindrop/\"+id+\"?\"+q.join(\"&\"), function(json) {\n          if (json.result)\n            callback(_this._prepareBookmark(json.item, json.item));\n          else\n            callback(false);\n        });\n      }\n\n      if (typeof params.url != \"undefined\")\n        Api.post(\"check/url\", {url: params.url}, function(json) {\n          if (json.result){\n            if (params.onlyId)\n              callback({_id: json.id});\n            else\n              getById(json.id, params);\n          }\n          else\n            callback(false);\n        });\n      else\n        getById(params._id, {});\n    },\n\n    onParseURL: function(params, callback) {\n        var url = (params.item.url||\"\"), _this = this;\n\n        try{\n            if (url.indexOf('://') < 3)\n                url = \"http://\"+url;\n        }catch(e){}\n\n        if (V.isURL(url, {require_tld: false, require_valid_protocol: false})){\n            Api.get(\"parse?url=\"+encodeURIComponent(url), function(json){\n                try{\n                    json = JSON.parse(json);\n                }catch(e){}\n\n                json = json || {result:false};\n\n                json.item = _this._prepareBookmark(params.item, json.item);\n\n                callback(json.item);\n            }, {text:true});\n        }else{\n            callback(false);\n        }\n    },\n\n    _prepareBookmark: function(params, item) {\n      var empty = false;\n\n      if (typeof item == \"undefined\")\n        empty = true;\n      else\n        if (item == null)\n          empty = true;\n\n      if (empty)\n        item = _.clone(_blankBookmark);\n\n      item.link = params.url || item.link;\n      item.url = params.url;\n      item.cover = 0;\n      item.coverId = params.coverId;\n      item.coverEnabled = true;\n\n      item.domain = item.domain || network.getDomain(params.url);\n      if (item.title==\"\"){\n        item.title = S(item.domain).capitalize().s;\n        try{\n          item.title = item.title.split(\".\")[0];\n        }catch(e){}\n      }\n\n      if (typeof params.collection != \"undefined\"){\n        item.collectionId = params.collection[\"$id\"];\n      }\n\n      if (typeof params.collectionId != \"undefined\"){\n        item.collectionId = params.collectionId;\n        item.collection = {\"$id\": params.collectionId};\n      }\n\n      return item;\n    },\n\n    onInsertBookmark: function(params, callback) {\n        var _this = this;\n        params.dontAdd = params.dontAdd || false;\n\n        //sort to end if favorite\n        if (params.toEndOfList)\n          params.item.sort = 0;\n\n        var insertToModels = function(item) {\n          if (!params.dontAdd){\n              item._id = item._id || new Date().getTime();\n\n              //Default override bookmark item\n              if (typeof params.placeholder == \"object\"){\n                for(var i in params.placeholder)\n                  item[i] = params.placeholder[i];\n              }\n\n              if (params.toEndOfList)\n                _bookmarks.push(item);\n              else\n                _bookmarks.unshift(item);\n\n              CollectionsActions.updateCountCollection({_id: params.item.collectionId, count: \"+\"});\n              _this.update();\n          }\n\n          if (!params.silent)\n            Toasts.show({text: t.s((params.item.type||\"link\") + 'Saved'), title: params.item.title});\n\n          Api.setItem(\"last_collection\", params.item.collectionId);\n          LastBookmarkActions.insert(item);\n        }\n\n        if (UserStore.isLogged())\n        Api.post(\"raindrop\", params.item, function(json){\n            if (json.result){\n              insertToModels(json.item);\n            }else{\n              if (!params.silent)\n                Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status:\"error\"});\n            }\n\n            callback(json.item||false);\n        });\n        else{\n          if (params.possibleWithoutAuth){\n            insertToModels(params.item);\n            callback(params.item);\n          }else\n            callback(false);\n        }\n    },\n\n    onUploadFile: function(params, callback) {\n      var _this = this;\n\n      Api.upload(\"raindrop/\"+params.item._id+\"/file\", {name: \"file\", file: params.file}, function(progress){\n        if (progress){\n          var index = _.findIndex(_bookmarks, {_id: params.item._id});\n          if (index!=-1){\n            _bookmarks[index].progress = progress;\n          }\n\n          _this.update();\n        }\n      }, function(json){\n        if (json.result){\n          var index = _.findIndex(_bookmarks, {_id: params.item._id});\n          if (index!=-1){\n            _bookmarks[index] = json.item;\n            _bookmarks[index].loading = false;\n          }\n\n          _this.update();\n        }else{\n          Toasts.show({text: t.s(\"fileUploadUnable\"), title: params.item.title, status: \"error\"});\n          _this.onRemoveBookmark({\n            item: params.item,\n            silent: true\n          });\n        }\n\n        callback(json);\n      });\n    },\n\n    onUpdateBookmark: function(p, callback) {\n      var params = _.clone(p);\n      var _this = this;\n\n      if (typeof params.updateModel == \"undefined\")\n          params.updateModel = true;\n\n      if (typeof params.successMessage == \"undefined\")\n          params.successMessage = t.s(\"saveSuccess\");\n\n      if (typeof params.append == \"object\")\n        if (params.append.length>0){\n          var index = _.findIndex(_bookmarks, {_id: params.item._id});\n          if (index!=-1){\n            for(var i in params.append){\n              switch(typeof _bookmarks[index][params.append[i]]){\n                case \"object\":\n                  params.item[params.append[i]] = _bookmarks[index][params.append[i]].concat(params.item[params.append[i]]);\n                  params.item[params.append[i]] = _.uniq(params.item[params.append[i]]);\n                break;\n\n                case \"string\":\n                  params.item[params.append[i]] = _bookmarks[index][params.append[i]] + params.item[params.append[i]];\n                break;\n              }\n            }\n          }\n        }\n\n      Api.put(\"raindrop/\"+params.item._id, params.item, function(json){\n        if (json.result) {\n          Api.setItem(\"last_collection\", json.item.collection[\"$id\"]);\n          \n            if (params.updateModel){\n              var index = _.findIndex(_bookmarks, {_id: params.item._id});\n              if (index!=-1) {\n                var action = \"update\";\n\n                if (json.item.collection[\"$id\"]!=_bookmarks[index].collection[\"$id\"])\n                  action = \"remove\";\n\n                if (params.showingCollectionId === 0)\n                  action = \"update\";\n\n                switch(action){\n                  case \"update\":\n                    _bookmarks[index] = json.item;\n                  break;\n\n                  case \"remove\":\n                    CollectionsActions.updateCountCollection({_id: _bookmarks[index].collection[\"$id\"], count: \"-\"});\n                    CollectionsActions.updateCountCollection({_id: json.item.collection[\"$id\"], count: \"+\"});\n                    _bookmarks.splice(index, 1);\n                  break;\n                }\n\n                _this.update();\n              }\n            }\n\n            if (!params.silent)\n                Toasts.show({text: params.successMessage, title: json.item.title});\n        }else{\n            if (!params.silent)\n                Toasts.show({text: strings.getErrorFromJSON(json), status: \"error\"});\n        }\n\n        if (typeof callback == 'function')\n            callback((json.item || [])._id || false);\n      });\n    },\n\n    onUpdateSelectedBookmarks: function(params, callback) {\n      var selectedIds = [], _this = this;\n      for(var i in _bookmarks)\n        if (_bookmarks[i].selected || false)\n          selectedIds.push(_bookmarks[i]._id);\n\n      var step = 0,\n          count = _selectedCount,\n          check = function(result) {\n            if (result){\n              step++;\n              if (step<=count-1)\n                now();\n              else{\n                _this.onClearSelect();\n                callback(true);\n              }\n            }else{\n              _this.onClearSelect();\n              callback(false);\n            }\n          },\n\n          now = function(){\n            var temp = JSON.parse(JSON.stringify(params));\n            temp.item._id = parseInt(selectedIds[step]);\n            BookmarkActions.updateBookmark(temp, check);\n          }\n\n      now();\n    },\n\n    onCopySelectedBookmarks: function(params, callback) {\n      var selectedIds = [], _this = this;\n      for(var i in _bookmarks)\n        if (_bookmarks[i].selected || false)\n          selectedIds.push(_bookmarks[i]._id);\n\n      var step = 0,\n          count = _selectedCount,\n          check = function(result) {\n            if (result){\n              step++;\n              if (step<=count-1)\n                now();\n              else{\n                _this.onClearSelect();\n                callback(true);\n              }\n            }else{\n              _this.onClearSelect();\n              callback(false);\n            }\n          },\n\n          now = function(){\n            Api.get(\"raindrop/\"+selectedIds[step], function(json) {\n              if (json.result){\n                var link = json.item.link;\n                json.item = _this._prepareBookmark(json.item, json.item);\n                json.item.link = json.item.url = link;\n                json.item.collectionId = params.collectionId;\n                delete json.item._id;\n                delete json.item.sort;\n                delete json.item.collection;\n                delete json.item.lastUpdate;\n                BookmarkActions.insertBookmark({item: json.item, dontAdd: true, silent: true}, check);\n              }else{\n                _this.onClearSelect();\n                callback(false);\n              }\n            });\n            \n            /*var temp = JSON.parse(JSON.stringify(params));\n            temp.item._id = parseInt(selectedIds[step]);\n            BookmarkActions.updateBookmark(temp, check);*/\n          }\n\n      now();\n    },\n\n    onRemoveBookmark: function(params, callback) {\n        var _this = this;\n        var perm = \"\";\n\n        var removeFromModels = function() {\n          if (typeof params.item.collection != \"undefined\")\n          if (params.item.collection[\"$id\"]==-99)\n              perm = \"Permament\";\n\n          if (!UserStore.isLogged())\n              perm = \"Permament\";\n\n          var index = _.findIndex(_bookmarks, {_id: params.item._id});\n          try{\n            CollectionsActions.updateCountCollection({_id: params.item.collection[\"$id\"], count: \"-\"});\n          }catch(e) {}\n          if (index!=-1) {\n              _bookmarks.splice(index, 1);\n              _this.update();\n          }\n\n          if (!params.silent)\n            Toasts.show({text: t.s((params.item.type||\"link\") + 'Removed' + perm), title: params.item.title});\n\n          LastBookmarkActions.remove(params.item);\n        }\n\n        if (UserStore.isLogged())\n        Api.del(\"raindrop/\"+params.item._id, function(json) {\n            if (json.result) {\n              removeFromModels();\n            }else{\n                if (!params.silent)\n                  Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status:\"error\"});\n            }\n\n            if (typeof callback == \"function\")\n                callback(json.result||false, perm);\n        });\n        else{\n          removeFromModels();\n\n          if (typeof callback == \"function\")\n              callback(true, perm);\n        }\n    },\n\n    onRemoveSelectedBookmarks: function(params, callback) {\n      var selectedItems = [], _this = this;\n      for(var i in _bookmarks)\n        if (_bookmarks[i].selected || false)\n          selectedItems.push(_bookmarks[i]);\n\n      var step = 0,\n          count = _selectedCount,\n          check = function(result, perm) {\n            if (result){\n              step++;\n              if (step<=count-1)\n                now();\n              else{\n                _this.onClearSelect();\n                callback(true, perm);\n              }\n            }else{\n              _this.onClearSelect();\n              callback(false);\n            }\n          },\n\n          now = function(){\n            var temp = params;\n            temp.item = selectedItems[step];\n            BookmarkActions.removeBookmark(temp, check);\n          }\n\n      now();\n    },\n\n    onSwapBookmarks: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var fromIndex = _.findIndex(_bookmarks, {_id: parseInt(params.fromId)});\n      var toIndex = _.findIndex(_bookmarks, {_id: parseInt(params.toId)});\n\n      if ((fromIndex!=-1)&&(toIndex!=-1)){\n        var fromSort = _.clone(_bookmarks[fromIndex].sort);\n        var toSort = _.clone(_bookmarks[toIndex].sort);\n\n        var tempFrom = _.clone(_bookmarks[fromIndex]);\n        _bookmarks[fromIndex] = _bookmarks[toIndex];\n        _bookmarks[toIndex] = tempFrom;\n\n        _bookmarks[fromIndex].sort = fromSort;\n        _bookmarks[toIndex].sort = toSort;\n\n        this.update();\n\n        if (params.preservList){\n          _moveUpdateList[params.fromId]=true;\n          _moveUpdateList[params.toId]=true;\n        }\n      }else{\n        return false;\n      }\n    },\n\n    onSaveAllSort: function() {\n      for(var i in _bookmarks){\n        _bookmarks[i].sort = _bookmarks.length - i;\n\n        if (UserStore.isLogged())\n        this.onUpdateBookmark({\n            item: {\n                _id: _bookmarks[i]._id,\n                sort: _bookmarks[i].sort\n            },\n            silent: true,\n            updateModel: false\n        });\n      }\n    },\n\n    onSyncMove: function() {\n      for(var i in _moveUpdateList){\n        var index = _.findIndex(_bookmarks, {_id: parseInt(i)});\n        if (index!=-1)\n        this.onUpdateBookmark({\n            item: {\n                _id: _bookmarks[index]._id,\n                sort: _bookmarks[index].sort\n            },\n            silent: true,\n            updateModel: false\n        });\n      }\n      _moveUpdateList = [];\n    },\n\n    onSetSelected: function(params) {\n      var index = _.findIndex(_bookmarks, {_id: params.id});\n      if (index!=-1) {\n          _bookmarks[index].selected = params.selected;\n\n          if (params.shift){\n            var nearIndexs = [], closestIndex = 0;\n            _bookmarks.forEach(function(item,i){\n              if ((item.selected || false)&&(i!=index))\n                nearIndexs.push(i);\n            });\n\n            if (nearIndexs.length>0)\n            closestIndex = nearIndexs.reduce(function (prev, curr) {\n              return (Math.abs(curr - index) < Math.abs(prev - index) ? curr : prev);\n            });\n\n            if (closestIndex < index){\n              for(var i=closestIndex; i < index; i++){\n                _bookmarks[i].selected = true;\n              }\n            }else{\n              for(var i=index; i < closestIndex; i++)\n                _bookmarks[i].selected = true;\n            }\n          }\n\n          _selectedCount = 0;\n          _bookmarks.forEach(function(item){\n            if (item.selected || false)\n              _selectedCount++;\n          });\n\n          this.trigger(_bookmarks);\n      }\n      else\n          return null;\n    },\n\n    onSelectAll: function() {\n      for(var i in _bookmarks)\n        _bookmarks[i].selected = true;\n\n      _selectedCount = _bookmarks.length;\n      this.trigger(_bookmarks);\n    },\n\n    onClearSelect: function() {\n      _selectedCount = 0;\n      for(var i in _bookmarks)\n        _bookmarks[i].selected = false;\n\n      this.trigger(_bookmarks);\n    },\n\n    getBookmarks: function() {\n        return _bookmarks;\n    },\n\n    getBookmark: function(id) {\n        var index = _.findIndex(_bookmarks, {_id: id});\n        if (index!=-1) {\n            try{\n              _bookmarks[index].collectionId = _bookmarks[index].collection[\"$id\"];\n            }catch(e){}\n            _bookmarks[index].coverEnabled = true;\n            return JSON.parse(JSON.stringify(_bookmarks[index]));\n        }\n        else\n            return null;\n    },\n\n    getIsLoading: function() {\n        return _loading;\n    },\n\n    getIsNoMore: function() {\n        return _noMore;\n    },\n\n    getCount: function() {\n        return _bookmarks.length;\n    },\n\n    getSelectedCount: function() {\n      return _selectedCount;\n    },\n\n    update: function(updateCache) {\n        if (typeof updateCache == \"undefined\")\n          updateCache = true;\n\n        this.trigger(_bookmarks);\n        if ((_canLoadFromCache)&&(updateCache)) {\n          switch(_speed){\n            case \"async\":\n              try{ls.setItem(_url, _bookmarks).then(function(){}).catch(function(e){})}catch(e){};\n            break;\n\n            case \"sync\":\n              Api.setItem(_url, JSON.stringify(_bookmarks));\n            break;\n          }\n        }\n    },\n\n    onInitFavorites: function() {\n      var _this = this, fromChrome = false, needDefaults = true;\n\n      try{\n        if (UserStore.getUser().config[\"web_init_favorites\"])\n          needDefaults = false;\n      }catch(e) {}\n\n      if (typeof chrome != \"undefined\")\n        if (typeof chrome.topSites != \"undefined\"){\n          fromChrome = true;\n        }\n\n      var setDefaults = function() {\n        var lang = t.getLang();\n        if (typeof _initFavorites[lang] == \"undefined\")\n          lang = \"en_US\";\n        _bookmarks = _initFavorites[lang];\n      }\n\n      var saveDefaults = function() {\n        _bookmarks.forEach(function(item) {\n          item.url = item.link;\n          Api.post(\"raindrop\", item, function(json){});\n        });\n        UserStore.saveConfig({notify: true, name: \"web_init_favorites\", updateModel: false});\n      }\n\n      if ((_bookmarks.length==0)&&(needDefaults)) {\n        if (fromChrome){\n          chrome.topSites.get(function(items){\n            for(var i in items){\n              if (i<=5){\n                _bookmarks.push({\n                  _id: parseInt(i)+1,\n                  title: items[i].title,\n                  link: items[i].url,\n                  domain: network.getDomain(items[i].url),\n                  collectionId: -2,\n                  sort: items.length - i\n                });\n              }else\n                break;\n            }\n\n            if (_bookmarks.length==0)\n              setDefaults();\n            _this.update();\n            saveDefaults();\n          });\n        }else{\n          setDefaults();\n          _this.update();\n          saveDefaults();\n        }\n      }\n    },\n\n    handleDropFiles: function(e) {\n      var cId = CollectionsStore.getCurrentId(\"file\");\n\n      var current = Promise.resolve();\n      var queue = e.files.map(function(f) {\n        \n        current = current.then(function(){\n          return new Promise(function(res,rej){\n            if (cId != CollectionsStore.getCurrentId()){\n              window.location.hash=\"#/collection/\"+cId;\n              setTimeout(function(){\n                res(true);\n              },200);\n            }else\n              res(true);\n          })\n        })\n        //get dataURI preview\n        .then(function(){\n          return new Promise(function(res,rej){\n            if (f.file.size<1048576){//1mb\n              var reader  = new FileReader();\n              reader.onloadend = function () {\n                res(reader.result);\n              }\n              reader.onerror = function () {\n                res(null);\n              }\n\n              reader.readAsDataURL(f.file);\n            }else\n              res(null);\n          })\n        })\n        //save placeholder bookmark\n        .then(function(dataURI) {\n          return new Promise(function(res,rej){\n            BookmarksStore.onInsertBookmark({\n              silent: true,\n              item: {\n                title: f.file.name.split('.')[0],\n                collectionId: cId,\n                url: \"https://raindrop.io/ping\",\n                type: f.type\n              },\n              placeholder: {\n                //cover: \"https://raindrop.io/img/other/parsing.png\",\n                loading: true\n              }\n            }, function(item) {\n              //set placeholder image\n              setTimeout(function(){\n                var coverElement = null;\n                try{coverElement = (document.getElementById(\"bookmark-loading-progress-\"+item._id).parentElement).getElementsByClassName('cover-img')[0]}catch(e){};\n                if (coverElement) {\n                  try{\n                    if (dataURI){\n                      coverElement.src = dataURI||\"\"; coverElement.removeAttribute(\"srcset\");\n                    }\n                  }catch(e){}\n                }\n              },1);\n\n              res({item: item, file: f.file});\n            });\n          });\n        })\n        return current;\n      });\n      \n      if (queue.length>0){\n        Toasts.show({text: t.s(\"importingInfo2\"), title: t.s(\"uploadProgress\")});\n\n        Promise.all(queue)\n          .then(function(result) {\n            result.reverse();\n            \n            var c = Promise.resolve();\n            var uploadQueue = result.map(function(r){\n              var item = r.item; \n              c = c.then(function(){\n                return new Promise(function(res,rej){\n                  if (!item)\n                    res(null);\n                  else\n                    BookmarksStore.onUploadFile({\n                      item: item,\n                      file: r.file\n                    }, function(item) {\n                      res(item);\n                    })\n                });\n              });\n              return c;\n            });\n\n            return Promise.all(uploadQueue);\n          })\n          .then(function(items) {\n            var doneCount = 0;\n            for(var i in items)\n              if (items[i].result) doneCount++;\n\n            //check all\n            if (doneCount)\n              Toasts.show({text: t.s(\"saveSuccess\"), title: doneCount+\" files\"});\n            //else\n            //  Toasts.show({text: t.s(\"fileUploadError\"), status: \"error\"});\n          });\n      }else{\n        Toasts.show({text: t.s(\"fileUploadError\"), status: \"error\"});\n      }\n    },\n\n    _bookmarkNavigation: function(id) {\n      var index = _.findIndex(_bookmarks, {_id: id});\n      if (index!=-1){\n        var next = 0, prev = 0;\n        if (typeof _bookmarks[index+1] != \"undefined\")\n          next = _bookmarks[index+1]._id;\n        if (typeof _bookmarks[index-1] != \"undefined\")\n          prev = _bookmarks[index-1]._id;\n        return {next: next, prev: prev};\n      }else\n        return {next: 0, prev: 0};\n    },\n\n    reset: function(withUpdate) {\n        _bookmarks = [];\n        _loading = false;\n        _loaded = false;\n        _noMore = false;\n        _selectedCount = 0;\n\n        if (withUpdate) this.update();\n    }\n});\n\nmodule.exports = BookmarksStore;\n\n},{\"../actions/Bookmarks\":2,\"../actions/Collections\":4,\"../actions/LastBookmark\":5,\"../stores/Collections\":115,\"validator\":\"validator\"}],114:[function(require,module,exports){\nvar ChildrensActions = require('../actions/Childrens');\nvar CollectionsActions = require('../actions/Collections');\nvar CollectionsStore = require('../stores/Collections');\n\nvar _childrens = [], _loading = false, _speed = \"sync\";\n\nvar ChildrensStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(ChildrensActions.load, this.onLoad);\n        this.listenTo(ChildrensActions.swapCollections, this.onSwapCollections);\n        this.listenTo(ChildrensActions.saveAllSort, this.onSaveAllSort);\n        this.listenTo(CollectionsActions.updateCollection, this.onUpdateCollection);\n        this.listenTo(ChildrensActions.removeCollection, this.onRemoveCollection);\n    },\n\n    onLoad: function(params) {\n        if (typeof params.speed != \"undefined\")\n          _speed = params.speed;\n        else\n          _speed = \"sync\";\n\n        var _this = this,\n            url = \"collections?parent=\"+params.cId;\n\n        _loading = true;\n\n        if (params.cId>0) {\n            _childrens = [];\n\n            //from cache\n            switch(_speed){\n                case \"async\":\n                    try{ls.getItem(url)\n                        .then(function (val) {\n                            if ((val) && (_childrens.length == 0)) {\n                                _childrens = val;\n                                _this.trigger(_childrens);\n                            }\n                        })\n                        .catch(function(e){\n                            \n                        });}catch(e){}\n                break;\n\n                case \"sync\":\n                    try{\n                      _childrens = JSON.parse(Api.getItem(url)) || [];\n                    }catch(e){if (e) _childrens = [];}\n                    if (_childrens.length>0)\n                      _this.trigger(_childrens);\n                break;\n            }\n\n            Api.get(url, function (json) {\n                _loading = false;\n\n                if (parseInt(CollectionsStore.getCurrentId()) != parseInt(params.cId))\n                    return false;\n\n                if (json.result) {\n                    _childrens = json.items;\n                }else{\n                    _childrens = [];\n                }\n\n                switch(_speed){\n                    case \"async\":\n                        try{ls.setItem(url, _childrens).then(function(){}).catch(function(e){})}catch(e){};\n                    break;\n\n                    case \"sync\":\n                        Api.setItem(url, JSON.stringify(_childrens));\n                    break;\n                }\n                \n                _this.trigger(_childrens);\n            });\n        }else{\n            _loading = false;\n        }\n    },\n\n    onSwapCollections: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var fromIndex = _.findIndex(_childrens, {_id: parseInt(params.fromId)});\n      var toIndex = _.findIndex(_childrens, {_id: parseInt(params.toId)});\n\n      if ((fromIndex!=-1)&&(toIndex!=-1)){\n        var fromSort = _.clone(_childrens[fromIndex].sort);\n        var toSort = _.clone(_childrens[toIndex].sort);\n\n        //_childrens = strings.swapArray(_childrens, fromIndex, toIndex);\n        var tempFrom = _.clone(_childrens[fromIndex]);\n        _childrens[fromIndex] = _childrens[toIndex];\n        _childrens[toIndex] = tempFrom;\n        this.trigger(_childrens);\n      }else{\n        return false;\n      }\n    },\n\n    onSaveAllSort: function() {\n      for(var i in _childrens){\n        _childrens[i].sort = i;\n\n        if (UserStore.isLogged())\n        CollectionsActions.updateCollection({\n            item: {\n                _id: _childrens[i]._id,\n                sort: _childrens[i].sort\n            },\n            silent: true,\n            updateModel: false\n        });\n      }\n    },\n\n    getChildrens: function() {\n        return _childrens;\n    },\n\n    onUpdateCollection: function(params) {\n        var index = _.findIndex(_childrens, { _id: params.item._id });\n        if (index!=-1){\n            for(var i in params.item)\n                _childrens[index][i] = params.item[i];\n        }\n    },\n\n    onRemoveCollection: function(params) {\n        var index = _.findIndex(_childrens, { _id: params.item._id });\n        if (index!=-1){\n          _childrens.splice(index,1);\n        }\n    },\n\n    getIsLoading: function() {\n      return _loading;\n    },\n\n    getCount: function() {\n      return _childrens.length;\n    },\n\n    reset: function() {\n        _childrens=[];\n    }\n});\n\nmodule.exports = ChildrensStore;\n\n},{\"../actions/Childrens\":3,\"../actions/Collections\":4,\"../stores/Collections\":115}],115:[function(require,module,exports){\nvar CollectionsActions = require('../actions/Collections');\nvar ChildrensActions = require('../actions/Childrens');\nvar UserActions = require('../actions/User');\nvar StatsStore = require('../stores/Stats');\nvar BookmarksActions = require('../actions/Bookmarks');\n\nvar _collections = [], _currentId = -2, _loaded = false, _speed = \"sync\";\n\nif (typeof isIOSapp != \"undefined\")\n    _currentId = 0;\n\nvar _defaults = [];\nvar setDefaults = function() {\n    _defaults = [\n        {\n            _id: 0,\n            title: t.s(\"all\"),\n            view: \"list\"\n        },\n        {\n            _id: -2,\n            title: t.s(\"favoriteSites\"),\n            view: \"simple\",\n            //color: \"243,73,94\"\n        },\n        {\n            _id: -1,\n            title: t.s(\"defaultCollection--1\"),\n            view: \"list\",\n            //color: \"245,166,35\"\n        },\n        {\n            _id: -99,\n            title: t.s(\"defaultCollection--99\"),\n            view: \"list\"\n        },\n\n        {\n            _id: -3,\n            title: t.s(\"articles\"),\n            view: \"list\"\n        },\n\n        {\n            _id: -4,\n            title: t.s(\"images\") + \" \" + t.s(\"und\") + \" \" + t.s(\"videos\").toLowerCase(),\n            view: \"masonry\"\n        },\n    ];\n    for(var i in _defaults) {\n        _defaults[i].view = Api.getItem(\"collection/\" + _defaults[i]._id + \"/view\") || _defaults[i].view;\n        _defaults[i].cover = [(window.pathPrefix||\"\") + \"../common/images/collection\"+_defaults[i]._id+\".png\"];\n    }\n}\n\nif (document){\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\n}\nelse\n    setDefaults();\n\nvar CollectionsStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(CollectionsActions.load, this.onLoad);\n        this.listenTo(CollectionsActions.setCurrent, this.onSetCurrent);\n        this.listenTo(CollectionsActions.updateCollection, this.onUpdateCollection);\n        this.listenTo(CollectionsActions.insertCollection, this.onInsertCollection);\n        this.listenTo(CollectionsActions.removeCollection, this.onRemoveCollection);\n        this.listenTo(CollectionsActions.updateCountCollection, this.onUpdateCountCollection);\n        this.listenTo(CollectionsActions.updateColorCollection, this.onUpdateColorCollection);\n    },\n\n    _saveCache: function() {\n        switch(_speed){\n            case \"async\":\n                try{ls.setItem('collections', _collections).then(function(){}).catch(function(e){})}catch(e){};\n            break;\n\n            case \"sync\":\n                Api.setItem('collections', JSON.stringify(_collections));\n            break;\n        }\n    },\n\n    onLoad: function(params) {\n        var _this = this;\n\n        if (!_loaded) {\n            Api.get(\"collections\", function (json) {\n                _loaded = true;\n                \n                if (json.result){\n                    _collections = json.items || [];\n\n                    _this._insertDefaults();\n\n                    _this.trigger(_collections);\n                    _this._saveCache();\n\n                    UserStore._checkGroupsStability();\n\n                    try{window.Intercom('update', {collections: _collections.length})}catch(e){}\n                }\n            });\n        }\n    },\n\n    onLoadId: function(id, callback) {\n        var _this = this;\n        var index = _.findIndex(_collections, { _id: id });\n        if (index==-1)\n        Api.get(\"collection/\"+id, function(json){\n            if (json.result) {\n                _this._updateOrInsertItem(json.item);\n                _this.trigger(_collections);\n            }\n\n            if (typeof callback == 'function')\n                callback();\n        });else{\n            if (typeof callback == 'function')\n                callback();\n        }\n    },\n\n    onSetCurrent: function(id) {\n        if (id == null){\n            _currentId = null;\n            this.trigger(_collections);\n            return;\n        }\n\n        _currentId = parseInt(id);\n\n        var index = _.findIndex(_collections, { _id: _currentId });\n        if (index!=-1)\n            this.trigger(_collections);\n        else\n            this.onLoadId(_currentId);\n    },\n\n    onUpdateCollection: function(params, callback){\n        var _this = this, updateGroups = false;\n\n        if (typeof params.updateModel == \"undefined\")\n            params.updateModel = true;\n\n        if ((typeof params.item.group == 'number')||(typeof params.item.parentId == 'number'))\n            updateGroups = true;\n\n        if (typeof params.item.group == 'number') {\n            params.item.parentId = \"root\";\n        }else{\n            delete params.item.group;\n        }\n        if (updateGroups)\n            UserActions.updateCollection({_id: params.item._id, group: params.item.group});\n\n        Api.put(\"collection/\" + params.item._id, params.item, function (json) {\n            if (json.result) {\n                _this._updateOrInsertItem(json.item);\n\n                if (!params.silent)\n                    Toasts.show({text: t.s(\"saveSuccess\"), title: params.item.title});\n            }else{\n                if (!params.silent)\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n            }\n\n            if (typeof callback == 'function')\n                callback((json.item || [])._id || false);\n        });\n\n        var index = _.findIndex(_collections, { _id: parseInt(params.item._id) });\n\n        if ((index!=-1)&&(params.updateModel)) {\n            for(var i in params.item)\n                _collections[index][i] = params.item[i];\n\n            this.trigger(_collections);\n\n            if (_collections[index]._id <= 0){\n                for(var i in params.item)\n                    Api.setItem(\"collection/\" + params.item._id + \"/\" + i, params.item[i]);\n            }\n\n            this._saveCache();\n        }\n    },\n\n    onInsertCollection: function(params, callback){\n        var _this = this;\n\n        Api.post(\"collection\", params.item, function(json){\n            if (json.result){\n                _collections.push(json.item);\n\n                if (typeof params.item.group == 'number') {\n                    params.item.parentId = \"root\";\n                    UserActions.updateCollection({_id: json.item._id, group: params.item.group});\n                }\n\n                if (!params.silent)\n                    Toasts.show({text: t.s(\"addSuccess\"), title: params.item.title});\n\n                _this.trigger(_collections);\n                _this._saveCache();\n            }else{\n                if (!params.silent)\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n            }\n\n            if (typeof callback == 'function')\n                callback( (json.item||[])._id||false );\n        });\n    },\n\n    onRemoveCollection: function(params,callback) {\n        var _this = this;\n\n        var removeNow = function(){\n            Api.del(\"collection/\"+params.item._id, function(json){\n                if (json.result){\n                    if (params.item._id>0){\n                        var index = _.findIndex(_collections, {_id:params.item._id});\n                        if (index!=-1)\n                            _collections.splice(index,1);\n                    }\n\n                    Toasts.show({text: (params.item._id != -99 ? t.s(\"removeCollectionSuccess\") : t.s(\"trashEmpty\")), title: params.item.title});\n\n                    _this.trigger(_collections);\n                    _this._saveCache();\n                    \n                    ChildrensActions.removeCollection(params);\n                    UserActions.saveGroups();\n\n                    if (_this.getCurrentId() == params.item._id){\n                        BookmarksActions.reset(true);\n                    }\n                }else{\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n                }\n\n                if (typeof callback == 'function')\n                    callback( json.result );\n            });\n        }\n\n        if (!params.silent){\n            if (confirm(t.s(\"collectionDeleteConfirm\")))\n                removeNow();\n            else{\n                if (typeof callback == 'function')\n                    callback( false );\n            }\n        }else{\n            removeNow();\n        }\n    },\n\n    onUpdateCountCollection: function(params) {\n      var index = _.findIndex(_collections, { _id: parseInt(params._id) });\n      if (index!=-1){\n        switch(params.count){\n          case \"+\":\n            _collections[index].count++;\n          break;\n\n          case \"-\":\n            _collections[index].count--;\n          break;\n\n          default:\n            _collections[index].count = params.count;\n          break;\n        }\n\n        this.trigger(_collections);\n      }\n    },\n\n    onUpdateColorCollection: function(params) {\n      var index = _.findIndex(_collections, { _id: parseInt(params._id) });\n      if (index!=-1){\n        _collections[index].color = params.color;\n        if ((_collections[index].cover||[]).length>0)\n            Api.setItem(\"collection_color_\"+_collections[index].cover[0], params.color);\n        this.trigger(_collections);\n      }\n    },\n\n    getCollections: function() {\n        return _collections;\n    },\n\n    getCurrentId: function(onlyWhat) {\n        if (onlyWhat){\n            switch(onlyWhat){\n                case \"file\":\n                    if (_currentId<0)\n                        if (_currentId<-1)\n                            return -1;\n                break;\n            }\n        }\n        return _currentId;\n    },\n\n    getCollection: function(id) {\n        id = parseInt(id);\n        var index = _.findIndex(_collections, { _id: id });\n        if (index!=-1){\n            if (id===0){\n                _collections[index].count = StatsStore.getAllCount();\n            }else if (id<0){\n                _collections[index].count = StatsStore.getCollectionCount(id);\n            }\n\n            return this._prepareItem(_collections[index]);\n        }\n        else\n            return null;\n    },\n\n    getCount: function() {\n      return _collections.length;\n    },\n\n    reset: function(params) {\n        params = params || {};\n        if (typeof params.speed != \"undefined\")\n          _speed = params.speed;\n        else\n          _speed = \"sync\";\n\n        _collections=[];\n        _currentId = -2;\n        if (typeof isIOSapp != \"undefined\")\n            _currentId = 0;\n        _loaded = false;\n\n        if ((_collections.length==0)&&(!_loaded))\n            this._resetFromCache();\n    },\n\n    _updateOrInsertItem: function(item) {\n        var index = _.findIndex(_collections, { _id: parseInt(item._id) });\n        if (index!=-1)\n            _collections[index] = item;\n        else\n            _collections.push(item);\n    },\n\n    _insertDefaults: function() {\n        var _this = this;\n        _defaults.forEach(function(item){\n            _this._updateOrInsertItem(item);\n        });\n    },\n\n    _resetFromCache: function() {\n        if (window.cacheDisabled||false)\n            return;\n\n        switch(_speed){\n            case \"async\":\n                var _this = this;\n                try{ls.getItem('collections')\n                    .then(function (val) {\n                        if ((val) && (_collections.length == 0)) {\n                            _collections = val;\n                            _this._insertDefaults();\n                            _this.trigger(_collections);\n                        };\n                    })\n                    .catch(function(e){\n                    });}catch(e){}\n            break;\n\n            case \"sync\":\n                var cache = Api.getItem('collections');\n                try{\n                    cache = JSON.parse(cache);\n                }catch(e){if (e) cache = null;}\n\n                if ((typeof cache == 'object')&&(cache!=null)){\n                    _collections = cache;\n                    this._insertDefaults();\n                }\n            break;\n        }\n    },\n\n    _prepareItem: function(item) {\n        if (typeof item.parent != \"undefined\")\n            if (typeof item.parent[\"$id\"] != \"undefined\") {\n                item.parentId = item.parent[\"$id\"];\n                delete item.group;\n            }\n\n        if (typeof item.parentId == \"undefined\"){\n            var group = UserStore.getCollectionGroup(item._id);\n            if (group!=null)\n                item.group = parseInt(group);\n        }\n\n        if ((item.cover||[]).length>0)\n            item.color = Api.getItem(\"collection_color_\"+item.cover[0]);\n\n        //if (item._id<=0)\n        //  delete item.count;\n\n        return item;\n    },\n\n    _forceUpdate: function() {\n        this.trigger(_collections);\n    },\n\n    isLoading: function() {\n        return !_loaded;\n    }\n});\nCollectionsStore.reset();\n\nmodule.exports = CollectionsStore;\n\n},{\"../actions/Bookmarks\":2,\"../actions/Childrens\":3,\"../actions/Collections\":4,\"../actions/User\":14,\"../stores/Stats\":122}],116:[function(require,module,exports){\nvar LastBookmarkActions = require('../actions/LastBookmark');\n\nvar _action = {\n    name: \"\",\n    bookmark: {}\n};\n\nvar LastBookmarkStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(LastBookmarkActions.insert, this.onInsert);\n        this.listenTo(LastBookmarkActions.remove, this.onRemove);\n    },\n\n    onInsert: function(item) {\n        this.trigger({\n            name: \"insert\",\n            bookmark: item\n        });\n    },\n\n    onRemove: function(item) {\n        this.trigger({\n            name: \"remove\",\n            bookmark: item\n        });\n    }\n});\n\nmodule.exports = LastBookmarkStore;\n\n},{\"../actions/LastBookmark\":5}],117:[function(require,module,exports){\nvar ModalFrameActions = require('../actions/ModalFrame');\n\nvar ModalFrameStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(ModalFrameActions.show, this.onShow);\n    },\n\n    onShow: function(params) {\n    \tparams.show = true;\n        this.trigger(params);\n    }\n});\n\nmodule.exports = ModalFrameStore;\n\n},{\"../actions/ModalFrame\":6}],118:[function(require,module,exports){\nvar ParentsActions = require('../actions/Parents');\nvar CollectionsStore = require('../stores/Collections');\n\nvar _parents = [], _cache = [];\n\nvar ParentsStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(ParentsActions.load, this.onLoad);\n        this.listenTo(ParentsActions.reset, this.reset);\n    },\n\n    onLoad: function(params) {\n        var _this = this;\n\n        if (_cache.length==0)\n            Api.get(\"childrens\", function(json){\n                if (json.result)\n                    _cache = json.items;\n                _this.findParents(params.cId);\n            });\n        else\n            _this.findParents(params.cId);\n    },\n\n    getParents: function() {\n        return _parents;\n    },\n\n    findParents: function(cId) {\n        var ids = [cId], _parents = [];\n\n        var findParents = function (id) {\n            _cache.forEach(function (item) {\n                if (id == item._id) {\n                    if (item._id != cId)\n                        _parents.push(item);\n                    ids.push(item.parent.$id);\n                    findParents(item.parent.$id);\n                }\n            });\n        }\n        findParents(ids[0]);\n\n        var root = CollectionsStore.getCollection(ids[ids.length - 1]);\n        if (root != null)\n            if (root._id != cId)\n                _parents.push(root);\n\n        _parents.reverse();\n\n        this.trigger(_parents);\n    },\n\n    reset: function() {\n        _parents=[]; _cache = [];\n    }\n});\n\nmodule.exports = ParentsStore;\n\n},{\"../actions/Parents\":7,\"../stores/Collections\":115}],119:[function(require,module,exports){\nvar PopActions = require('../actions/Pop');\nvar _params = false;\n\nmodule.exports = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(PopActions.show, this.onShow);\n        this.listenTo(PopActions.close, this.onClose);\n    },\n\n    onShow: function(name,params) {\n      _params = params;\n      _params.name = name;\n      this.trigger(_params);\n    },\n\n    onClose: function() {\n      _params = false;\n      this.trigger(_params);\n    },\n\n    getParams: function() {\n      return _params;\n    }\n});\n\n},{\"../actions/Pop\":8}],120:[function(require,module,exports){\nvar SidebarActions = require('../actions/Sidebar');\nvar _open = false;\ntry{_open=window.sidebar.open}catch(e){}\n\nmodule.exports = Reflux.createStore({\n  init: function() {\n    this.listenTo(SidebarActions.change, this.onChange);\n  },\n\n  onChange: function(open) {\n    _open=open;\n    window.sidebar.change(_open);\n    this.trigger(_open);\n  },\n\n  getState: function() {\n    return _open;\n  }\n});\n\n},{\"../actions/Sidebar\":9}],121:[function(require,module,exports){\nvar SitesActions = require('../actions/Sites');\n\nvar _sites = [], _loading = false;\n\nvar SitesStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(SitesActions.load, this.onLoad);\n    },\n\n    onLoad: function() {\n    \tvar _this = this;\n\n    \tif (_loading)\n    \t\treturn;\n\n    \t_loading = true;\n    \tApi.get(\"sites\", function(json) {\n    \t\tif (json.result){\n\t    \t\t_sites = json.items;\n\t    \t\t_this.trigger(_sites);\n\t    \t}\n\n            _loading = false;\n    \t});\n    },\n\n    getSites: function() {\n    \treturn _sites;\n    }\n});\n\nmodule.exports = SitesStore;\n\n},{\"../actions/Sites\":10}],122:[function(require,module,exports){\nvar StatsActions = require('../actions/Stats');\nvar CollectionsActions = require('../actions/Collections');\n\nvar _stat = {}, _loading = false, _all = 0, _loaded = false;\n\nvar StatsStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(StatsActions.load, this.onLoad);\n        this.listenTo(CollectionsActions.updateCountCollection, this.onUpdate);\n    },\n\n    onLoad: function() {\n    \tvar _this = this;\n\n    \tif (_loading)\n    \t\treturn;\n\n        try{ls.getItem(\"stat\")\n            .then(function (val) {\n                if ((val) && (!_loaded)) {\n                    _stat = val;\n                    _this._countAll();\n                    _this.trigger(_stat);\n                }\n            })\n            .catch(function(e){\n                            \n            });}catch(e){}\n\n    \t_loading = true;\n    \tApi.get(\"stat\", function(json) {\n    \t\tif (json.result){\n\t    \t\t_stat = json.items;\n\t    \t\t_this._countAll();\n                try{ls.setItem(\"stat\", _stat).then(function(){}).catch(function(e){})}catch(e){};\n\t    \t\t_this.trigger(_stat);\n\t    \t}\n\n            _loading = false;\n            _loaded = true;\n    \t});\n    },\n\n    onUpdate: function(params) {\n        var index = _.findIndex(_stat, {_id: params._id});\n\n        switch(params.count){\n          case \"+\":\n            if (params._id!=-99) _all++;\n            if (index!=-1) _stat[index].count++;\n            this.trigger(_stat);\n          break;\n\n          case \"-\":\n            if (params._id!=-99) _all--;\n            if (_all<0)\n                _all = 0;\n\n            if (index!=-1) {\n                _stat[index].count--;\n                if (_stat[index].count<0)\n                    _stat[index].count = 0;\n            }\n            this.trigger(_stat);\n          break;\n        }\n    },\n\n    _countAll: function() {\n    \t_all = 0;\n    \tfor(var i in _stat){\n            if (_stat[i]._id === -2){\n              _all = _all - (_stat[i].count||0);\n            }else if (typeof _stat[i]._id != \"number\")\n    \t\t  _all += parseInt(_stat[i].count||0);\n    \t}\n        if (_all<0) _all = 0;\n    },\n\n    getStat: function() {\n    \treturn _stat;\n    },\n\n    getAllCount: function() {\n    \treturn _all;\n    },\n\n    getCollectionCount: function(id) {\n        var index = _.findIndex(_stat, {_id: id});\n        if (index!=-1)\n            return _stat[index].count;\n        else\n            return 0;\n    }\n});\n\nmodule.exports = StatsStore;\n\n},{\"../actions/Collections\":4,\"../actions/Stats\":11}],123:[function(require,module,exports){\nvar TagsActions = require('../actions/Tags');\n\nvar _tags = [];\n\nvar TagsStore = Reflux.createStore({\n    url: \"tags\",\n\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(TagsActions.load, this.onLoad);\n    },\n\n    onLoad: function() {\n        var _this = this;\n\n        if (_tags.length==0) {\n            try{ls.getItem(_this.url)\n                .then(function (val) {\n                    if ((val) && (_tags.length == 0)) {\n                        _tags = val;\n                        _this.trigger(_tags);\n                    }\n                })\n                .catch(function(e){\n                            \n                });}catch(e){}\n\n            Api.get(_this.url, function (json) {\n                if (json.result) {\n                    _tags = json.items;\n                    try{ls.setItem(_this.url, _tags).then(function(){}).catch(function(e){})}catch(e){};\n                    _this.trigger(_tags);\n                }\n            });\n        }else{\n          _this.trigger(_tags);\n        }\n    },\n\n    onUpdate: function(params) {\n        var _this = this;\n\n        Api.put(\"tag\", {tag: params._id, replace: params.replace}, function(json){\n            if (json.result){\n                _tags[_.findIndex(_tags,{_id: params._id})]._id = params.replace;\n                try{ls.setItem(_this.url, _tags).then(function(){}).catch(function(e){})}catch(e){};\n                _this.trigger(_tags);\n\n                Toasts.show({text: t.s(\"saveSuccess\"), title: params._id});\n            }\n        });\n    },\n\n    onRemove: function(params) {\n        var _this = this;\n\n        Api.del(\"tag?tag=\"+encodeURIComponent(params._id), function(json){\n            if (json.result){\n                _tags.splice(_.findIndex(_tags,{_id: params._id}), 1);\n                try{ls.setItem(_this.url, _tags).then(function(){}).catch(function(e){})}catch(e){};\n                _this.trigger(_tags);\n\n                Toasts.show({text: t.s(\"removeSuccess\"), title: params._id});\n            }\n        });\n    },\n\n    getTags: function() {\n        return _tags;\n    },\n\n    reset: function() {\n        _tags=[];\n    }\n});\n\nmodule.exports = TagsStore;\n\n},{\"../actions/Tags\":12}],124:[function(require,module,exports){\nvar _toasts = [],\n    _timeout = 3000;\n\nvar ToastStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(Toasts.show, this.onShow);\n        this.listenTo(Toasts.close, this.onClose);\n        this.listenTo(Toasts.stopTimer, this.onStopTimer);\n    },\n\n    onShow: function(params) {\n        params.id = parseInt(new Date().getTime()/1000);\n        params.timeout = setTimeout(function() {\n            Toasts.close({id:params.id});\n        }, _timeout);\n        params.closing = false;\n        _toasts.push(params);\n\n        //if (_toasts.length>=10) {\n        //    this._removeItem(0,true);\n        //}\n\n        this.trigger(_toasts);\n    },\n\n    onClose: function(params) {\n        //var index = _.findIndex(_toasts, {id: parseInt(params.id)});\n\n        //if (index!=-1){\n            this._removeItem(parseInt(params.id));\n        //}\n    },\n\n    onStopTimer: function(params) {\n        var index = _.findIndex(_toasts, {id: parseInt(params.id)});\n\n        if (index!=-1){\n            clearTimeout(_toasts[index].timeout);\n        }\n    },\n\n    _removeItem: function(id, withoutUpdate) {\n        var _this = this;\n\n        var index = _.findIndex(_toasts, {id: id});\n        if (index==-1) return;\n\n        try{clearTimeout(_toasts[index].timeout);}catch(e){}\n\n        _toasts.splice(index, 1);\n\n        if (typeof withoutUpdate == 'undefined')\n            _this.trigger(_toasts);\n    },\n\n    getToasts: function() {\n        return _toasts;\n    },\n\n    reset: function() {\n        _toasts=[];\n    }\n});\n\nmodule.exports = ToastStore;\n\n},{}],125:[function(require,module,exports){\nvar UserActions = require('../actions/User');\nvar ModalFrameActions = require('../actions/ModalFrame');\nvar CollectionsStore = require('./Collections');\n\nvar _user = {}, _logged = false, _loading = false, _trusted = false;\n\nvar UserStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(UserActions.load, this.onLoad);\n\n        this.listenTo(UserActions.toggleGroup, this.onToggleGroup);\n        this.listenTo(UserActions.updateGroup, this.onUpdateGroup);\n        this.listenTo(UserActions.insertGroup, this.onInsertGroup);\n        this.listenTo(UserActions.removeGroup, this.onRemoveGroup);\n        this.listenTo(UserActions.swapGroups, this.onSwapGroups);\n        this.listenTo(UserActions.saveGroups, this.saveGroups);\n\n        this.listenTo(UserActions.updateCollection, this.onUpdateCollection);\n        this.listenTo(UserActions.swapCollections, this.onSwapCollections);\n\n        this.listenTo(UserActions.updateLanguage, this.onUpdateLanguage);\n        this.listenTo(UserActions.updateConfig, this.onUpdateConfig);\n        this.listenTo(UserActions.logOut, this.onLogOut);\n        this.listenTo(UserActions.signIn, this.onSignIn);\n        this.listenTo(UserActions.signUp, this.onSignUp);\n    },\n\n    isTrusted: function() {\n      return _trusted;\n    },\n\n    onLoad: function(callback,exactlyAfterCacheLoaded) {\n        var canLoad = true;\n        if (_loading)\n          canLoad = false;\n        if (_logged)\n          if (_trusted)\n            canLoad = false;\n\n        if (!canLoad) {\n          if (typeof callback == \"function\")\n              callback(false);\n          this.trigger(_user);\n          return;\n        }\n\n        var _this = this;\n        _loading = true;\n        this._resetFromCache(exactlyAfterCacheLoaded);\n\n        Api.get(\"user\", function(json){\n            var afterCheck = function() {\n              if (json.result||false) {\n                  _user = json.user;\n                  _logged = true;\n                  _this.cleanGroups();\n              }else{\n                _user = {};\n                _logged = false;\n\n                //if ((window.environment||[]).indexOf(\"web\")!=-1)\n                //  window.location = network.fixURL(\"/account\");\n              }\n\n              Api.setItem('user', JSON.stringify(_user));\n              try{\n                ls.setItem('user', _user).then(function(){}).catch(function(e){})\n                ls.setItem('user_id', _user._id || 0).then(function(){}).catch(function(e){})\n              }catch(e){};\n\n              _loading = false;\n              _trusted = true;\n\n              _this.trigger(_user);\n              _this._checkGroupsStability();\n              _this.updateIntercom();\n            }\n\n            if ((typeof json.result == \"boolean\") || (typeof json.auth == \"boolean\")){\n              try{ls.getItem(\"user_id\")\n                .then(function(_userId) {\n                  var currentJSONuserId = null;\n                  try{currentJSONuserId = parseInt(json.user._id);}catch(e){}\n\n                  if ((json.result||false)&&(parseInt(_userId) == currentJSONuserId)){\n                    afterCheck();\n                  }\n                  else{\n                    _this._cleanCache(afterCheck);\n                  }\n\n                  if (typeof callback == \"function\") callback(json.result);\n                })\n                .catch(function(e){\n                  afterCheck();\n                });}catch(e){\n                  afterCheck();\n                }\n            }else{\n              _loading = false;\n              _trusted = true;\n              _this.trigger(_user);\n              if (typeof callback == \"function\") callback(json.result);\n            }\n        });\n    },\n\n    updateIntercom: function() {\n      try{\n        var data = {\n          app_id: \"ar0opykp\",\n          user_id: _user._id,\n          name: _user.fullName,\n          email: _user.email || \"\",\n          created_at: Math.floor(new Date(_user.registered).getTime()/1000),\n          pro: _user.pro || false,\n          groups: (_user.groups||[]).length || 0,\n          platform: 'web'\n        };\n\n        if (_user.proExpire)\n          data.pro_expire = Math.floor(new Date(_user.proExpire).getTime()/1000);\n\n        if (typeof window != \"undefined\")\n          if (typeof window.Intercom != \"undefined\"){\n            window.Intercom('boot', data);\n          }\n\n        if (typeof NativeHelpers != \"undefined\"){\n          data.platform = \"ios\";\n          delete data.app_id;\n          NativeHelpers.intercomSetUser(data.user_id+\"\", data);\n        }\n      } catch(e) {}\n\n      try{\n        Raven.setUserContext({\n          email: _user.email,\n          id: _user._id\n        });\n      }catch(e){}\n    },\n\n    onToggleGroup: function(params){\n        var index = _.findIndex((_user.groups||[]), { id: params.id });\n        if (index!=-1) {\n            _user.groups[index].hidden = !_user.groups[index].hidden;\n            this.saveGroups();\n        }\n    },\n\n    onUpdateGroup: function(params) {\n        var index = _.findIndex((_user.groups||[]), { id: params.id });\n        if (index!=-1) {\n            for(var i in params.item)\n                _user.groups[index][i] = params.item[i];\n\n            this.saveGroups(function(json){\n                if (json.result)\n                    Toasts.show({text: t.s(\"saveSuccess\"), title: params.item.title});\n                else\n                    Toasts.show({text: t.s(\"saveError\"), title: params.item.title, status: \"error\"});\n            });\n        }\n    },\n\n    onInsertGroup: function(params, callback) {\n        if (typeof params.item.collections == \"string\")\n          params.item.collections = JSON.parse(params.item.collections)\n\n        _user.groups.push({\n            title: params.item.title,\n            hidden: false,\n            id: new Date().getTime(),\n            sort: (_user.groups||[]).length,\n            collections: params.item.collections || []\n        });\n        this.saveGroups(function(json){\n            if (!params.silent)\n              if (json.result)\n                  Toasts.show({text: t.s(\"addSuccess\"), title: params.item.title});\n              else\n                  Toasts.show({text: t.s(\"saveError\"), title: params.item.title, status: \"error\"});\n\n            if (typeof callback == \"function\")\n              callback(json.result);\n        }, params);\n    },\n\n    onRemoveGroup: function(params) {\n        var index = _.findIndex((_user.groups||[]), { id: params.id }), result = false, title = \"\";\n        if (index!=-1) {\n            title = _user.groups[index].title;\n            if ((_user.groups[index].collections||[]).length==0) {\n                _user.groups.splice(index, 1);\n                result = true;\n            }\n        }\n\n        if (result){\n            this.saveGroups();\n            Toasts.show({text: t.s(\"removeSuccess\"), title: title});\n        }else{\n            Toasts.show({text: t.s(\"removeGroupError\"), title: title, status: \"error\"});\n        }\n    },\n\n    onSwapGroups: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var fromIndex = _.findIndex(_user.groups, {id: parseInt(params.fromId)});\n      var toIndex = _.findIndex(_user.groups, {id: parseInt(params.toId)});\n\n      if ((fromIndex!=-1)&&(toIndex!=-1)){\n        _user.groups = strings.swapArray(_user.groups, fromIndex, toIndex);\n        for(var i in _user.groups){\n          _user.groups[i].sort = i;\n        }\n\n        this.saveGroups();\n      }else{\n        return false;\n      }\n    },\n\n    onUpdateCollection: function(params) {\n        var needUpdate = false, found = false;\n\n        if (typeof params.group == 'undefined')\n            params.group = -1;\n\n        for(var i in _user.groups)\n            for(var j in (_user.groups[i].collections||[]))\n                if (_user.groups[i].collections[j]==params._id) {\n                    if (params.group != i) {\n                        _user.groups[i].collections.splice(j, 1);\n                        needUpdate = true;\n                    }\n                    found = true;\n                }\n\n        if ((needUpdate)||(!found)) {\n            if (params.group>=0) {\n                if (typeof _user.groups[params.group].collections != 'object')\n                    _user.groups[params.group].collections = [];\n\n                if (typeof params.toTop != \"undefined\")\n                  _user.groups[params.group].collections.unshift(params._id);\n                else\n                  _user.groups[params.group].collections.push(params._id);\n                _user.groups[params.group].hidden = false;\n            }\n\n            this.saveGroups();\n        }\n    },\n\n    onSwapCollections: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var from = {\n            index: -1\n          },\n          to = {\n            index: -1\n          };\n\n      //find items indexes and parent groups\n      for(var i in _user.groups){\n        var tempFrom = (_user.groups[i].collections||[]).indexOf(parseInt(params.fromId));\n        var tempTo = (_user.groups[i].collections||[]).indexOf(parseInt(params.toId));\n\n        if (tempFrom!=-1){\n          from.index = tempFrom;\n          from.group = i;\n        }\n\n        if (tempTo!=-1){\n          to.index = tempTo;\n          to.group = i;\n        }\n\n        if ((from.index!=-1)&&(to.index!=-1))\n          break;\n      }\n\n      //swap items\n      if ((from.index!=-1)&&(to.index!=-1)){\n        if (from.group == to.group){\n          _user.groups[from.group].collections = strings.swapArray(_user.groups[from.group].collections, from.index, to.index);\n        }\n        else{\n          var tempFrom = _user.groups[from.group].collections[from.index];\n          _user.groups[from.group].collections.splice(from.index,1);\n\n          _user.groups[to.group].collections.splice(to.index, 0, tempFrom);\n        }\n\n        this.saveGroups();\n      }\n    },\n\n    onUpdateLanguage: function(params, callback) {\n        if (typeof _user.config != \"object\")\n            _user.config = {};\n\n        _user.config.lang = params.lang;\n        this.saveConfig({lang:_user.config.lang}, callback);\n    },\n\n    onUpdateConfig: function(params, callback) {\n      if (typeof _user.config != \"object\")\n          _user.config = {};\n\n      for(var i in params)\n        _user.config[i] = params[i];\n\n      this.saveConfig(params, callback);\n    },\n\n    onLogOut: function(callback) {\n      var _this = this;\n      _this._cleanCache(function(){\n        Api.get(network.fixURL(\"/auth/logout\"), function(){\n          _this.reset();\n          callback();\n        });\n      });\n    },\n\n    onSignIn: function(callback, params) {\n      var _this = this;\n      if (typeof params == \"undefined\") params = {};\n\n      var url = \"/account\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?extension\" : \"\");\n      if (params.google)\n        url = \"/auth/google\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?redirect=%2Fother%2Fmodal-login.html\" : \"\");\n\n      if ((window.environment||[]).indexOf(\"desktop\")!=-1)\n        window.location = (network.fixURL(url));\n      else if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n        window.location.hash = \"#/waitauth\";\n        BrowserBridge.openModal(network.fixURL(url), {width: 700, height: 600});\n      }\n      else if (typeof chrome != \"undefined\")\n        chrome.windows.create({\n          url: network.fixURL(url),\n          type: \"popup\",\n          width: 700,\n          height: 600\n        }, function(win) {\n          chrome.windows.onRemoved.addListener(function(id){\n            if (id == win.id)\n              _this._cleanCache(callback);\n          });\n        });\n      else{\n        window.open(network.fixURL(url), \"raindropwindow\", \"width=700,height=600,resizable=yes,scrollbars=yes,status=no,toolbar=no,menubar=no,location=no\");\n        window.location.hash = \"#/waitauth\";\n      }\n      /*else{\n        ModalFrameActions.show({\n          title: t.s(\"signIn\"),\n          url: network.fixURL(url),\n          width: 600,\n          height: 500,\n          onClose: function() {\n            _this._cleanCache(callback);\n          }\n        });\n      }*/\n    },\n\n    onSignUp: function(callback) {\n      var _this = this;\n\n      if ((window.environment||[]).indexOf(\"desktop\")!=-1)\n        window.location = (network.fixURL(\"/account/signup\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?extension\" : \"\")));\n      else if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n        window.location.hash = \"#/waitauth\";\n        BrowserBridge.openModal(network.fixURL(\"/account/signup?extension\"), {width: 700, height: 600});\n      }\n      else if (typeof chrome != \"undefined\")\n        chrome.windows.create({\n          url: network.fixURL(\"/account/signup?extension\"),\n          type: \"popup\",\n          width: 700,\n          height: 600\n        }, function(win) {\n          chrome.windows.onRemoved.addListener(function(id){\n            if (id == win.id)\n              _this._cleanCache(callback);\n          });\n        });\n      else{\n        window.open(network.fixURL(\"/account/signup?extension\"), \"raindropwindow\", \"width=700,height=600,resizable=yes,scrollbars=yes,status=no,toolbar=no,menubar=no,location=no\");\n        window.location.hash = \"#/waitauth\";\n      }\n      /*else{\n        ModalFrameActions.show({\n          title: t.s(\"signUp\"),\n          url: network.fixURL(\"/account/signup?extension\"),\n          width: 600,\n          height: 600,\n          onClose: function() {\n            _this._cleanCache(callback);\n          }\n        });\n      }*/\n    },\n\n    _cleanCache: function(callback) {\n      var bg = Api.getItem(\"background-image\");\n      //Api.get(\"user\", function(json){\n        //if ((json||{}).result||false){\n          Api.clear();\n          Api.setItem(\"welcome-onboard\",\"true\");\n          Api.setItem(\"background-image\",bg);\n          try{\n            ls.clear(function(err) {\n              callback();\n            });\n          }catch(e){if(e)callback();}\n        //}else\n          //callback();\n      //});\n    },\n\n    getUser: function() {\n        if (typeof _user._id == 'undefined')\n            this._resetFromCache();\n\n        return _.clone(_user);\n    },\n\n    getGroup: function(id) {\n        var index = _.findIndex((_user.groups||[]), { id: id });\n        if (index!=-1)\n            return _user.groups[index];\n        else\n            return null;\n    },\n\n    isLogged: function() {\n      return _logged;\n    },\n\n    isLoading: function() {\n      return _loading;\n    },\n\n    isPro: function() {\n      if (_logged)\n        if (_user.pro)\n          return true;\n\n      return false;\n    },\n\n    reset: function() {\n        _user = {};\n        _logged = false;\n        _loading = false;\n    },\n\n    cleanGroups: function() {\n        if ((_user.groups||[]).length>0) {\n            for (var i in _user.groups)\n                if ((_user.groups[i].id || null) == null)\n                    _user.groups[i].id = parseInt(i);\n\n            _user.groups = _.sortBy(_user.groups, function (item) {\n                return item.sort;\n            });\n        }else{\n            _user.groups = [{id:0, sort: 0, title: t.s(\"myCollections\"), hidden: false}];\n        }\n    },\n\n    saveGroups: function(callback, params) {\n      //cleanup\n      params = params || {};\n      if (typeof params.cleanCollections == \"undefined\")\n        params.cleanCollections = true;\n\n      if ((CollectionsStore.getCount()>0)&&(params.cleanCollections)) {\n        for(var i in _user.groups){\n          var indexes = [];\n          for(var j in (_user.groups[i].collections||[]))\n            if (CollectionsStore.getCollection(_user.groups[i].collections[j])==null)\n              indexes.push(j);\n\n          _.pullAt(_user.groups[i].collections, indexes);\n        }\n      }\n\n      this.saveConfig({groups:_user.groups}, callback);\n    },\n\n    removeEmptyGroups: function(callback) {\n      var indexes = [];\n\n      for(var i in _user.groups){\n        if ((_user.groups[i].collections||[]).length==0)\n          indexes.push(i);\n      }\n\n      _.pullAt(_user.groups, indexes);\n      this.saveGroups(callback, {cleanCollections: false});\n    },\n\n    saveConfig: function(params, callback) {\n        if (typeof params.updateModel == \"undefined\")\n            params.updateModel = true;\n\n        try{\n          if (params.updateModel){\n            _user.config[params.name] = true;\n          }\n        }catch(e){}\n\n        //if (_logged)\n        Api.put('userConfig', params, function(json) {\n            if (typeof callback==\"function\")\n                callback(json);\n        });\n        Api.setItem('user', JSON.stringify(_user));\n        try{\n          ls.setItem('user', _user).then(function(){}).catch(function(e){})\n        }catch(e){};\n        this.trigger(_user);\n    },\n\n    getCollectionGroup: function(cId) {\n        for(var i in _user.groups)\n            for(var j in (_user.groups[i].collections||[]))\n                if (_user.groups[i].collections[j]==cId)\n                    return parseInt(i);\n        return null;\n    },\n\n    getConfig: function(key) {\n        var val = false;\n        try{val = _user.config[key]} catch(e){}\n        return val;\n    },\n\n    _checkGroupsStability: function() {\n      if ( (UserStore.isLogged()) && (!UserStore.isLoading()) && (CollectionsStore.getCount()>0) && (!CollectionsStore.isLoading()) ){\n        var noGroup = [];\n        var collections = CollectionsStore.getCollections();\n\n        collections.forEach(function(coll) {\n          var found = (coll._id<=0);\n\n          if (typeof coll.parent != \"undefined\")\n            found = true;\n\n          if (typeof coll.parentId != \"undefined\")\n            found = true;\n\n          (_user.groups||[]).forEach(function(group) {\n            var inGroup = (group.collections||[]).some(function(cId) {\n              return ((parseInt(cId)) == (parseInt(coll._id)));\n            });\n            if (inGroup)\n              found = true;\n          });\n\n          if (!found)\n            noGroup.push(parseInt(coll._id));\n        });\n\n        if (noGroup.length>0){\n          noGroup = _.uniq(noGroup);\n\n          var index = _.findIndex((_user.groups||[]), { title: t.s(\"myCollections\") });\n          if (index!=-1){\n              _user.groups[index].collections = (_user.groups[index].collections||[]).concat(noGroup);\n          }\n          else{\n              _user.groups = _user.groups || [];\n              _user.groups.push({id: _user.groups.length, sort: _user.groups.length, title: t.s(\"myCollections\"), hidden: false, collections: noGroup});\n          }\n\n          UserStore.saveGroups();\n        }\n      }\n    },\n\n    _checkCache: function(cache,callback) {\n        if (_logged){\n          if (typeof callback == \"function\")\n            callback(_logged);\n          return;\n        }\n        if ((typeof cache == 'object')&&(cache!=null)){\n            _user = cache||{};\n            if (_user._id){\n              _logged = true;\n              this.cleanGroups();\n            }\n        }\n        \n        if (typeof callback == \"function\")\n          callback(_logged);\n    },\n\n    _resetFromCache: function(callback) {\n        if (window.cacheDisabled||false){\n          if (typeof callback == \"function\")\n            return callback(_logged);\n          return;\n        }\n\n        if (_logged){\n          if (typeof callback == \"function\")\n            return callback(_logged);\n          return;\n        }\n\n        _logged = false;\n\n        var cache = Api.getItem('user');\n        try{\n            cache = JSON.parse(cache);\n        }catch(e){if (e) cache = null;}\n\n        var _this = this;\n        if (cache==null)\n          try{ls.getItem(\"user\")\n            .then(function(cache) {\n              _this._checkCache(cache,callback);\n            })\n            .catch(function(e){if(e) if (typeof callback == \"function\") return callback(_logged)});}catch(e){if(e) if (typeof callback == \"function\") return callback(_logged)}\n        else\n          this._checkCache(cache,callback);\n    },\n\n    _setProData: function(isPro, proExpire){\n      _user.pro = isPro;\n      _user.proExpire = proExpire;\n    }\n});\n\nmodule.exports = UserStore;\n\n},{\"../actions/ModalFrame\":6,\"../actions/User\":14,\"./Collections\":115}]},{},[15]);\n"],"sourceRoot":"/source/"}