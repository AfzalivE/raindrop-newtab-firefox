{"version":3,"sources":["js/settings.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","BookmarkActions","Reflux","createActions",2,"ChildrensActions",3,"CollectionsActions",4,"ModalFrameActions",5,6,"ToastActions",7,"UserActions",8,"React","createClass","displayName","shouldComponentUpdate","nextProps","this","props","name","size","style","render","fullName","useTag","className","createElement","key","data-name","dangerouslySetInnerHTML","__html",9,"getInitialState","user","UserStore","getUser","id","Date","getTime","toString","loading","onUserChange","isMounted","setState","password","componentWillMount","onLoad","window","UserVoice","getLang","protocol","location","indexOf","uv","document","type","async","src","getElementsByTagName","parentNode","insertBefore","componentDidMount","unsubscribeUser","listen","componentWillUnmount","componentDidUpdate","isLogged","push","email","state","isPro","account","_id","plan","mode",10,"ToastStore","ReactCSSTransitionGroup","addons","CSSTransitionGroup","items","getToasts","onToastsChange","toasts","unsubscribeToast","handleCloseItem","Toasts","close","target","getAttribute","handleStopTimer","_this","map","item","title","icon","status","data-id","onMouseEnter","onClick","Icon","text","component","transitionName","transitionEnterTimeout","transitionLeaveTimeout","../../stores/Toast",11,"host","apiPrefix","screenshotService","contentTypes","proPage","modalMargin","languages","id_ID","de_DE","en_US","es_ES","fr_FR","nl_NL","pl_PL","pt_BR","sv_SE","fi_FI","tr_TR","kk_KZ","ru_RU","uk_UA","ko_KR","zh_TW","zh_CN","hy_AM","backgroundImages","contrast","pathPrefix","getBackgroundSelected","prefs","current","localStorage","getItem","setBackground","documentElement","classList","remove","add","trySetBg","bg","setBg","getElementById","backgroundImage","addEventListener","url","tempBg","xmlhttp","XMLHttpRequest","fileReader","FileReader","onload","readyState","blob","Blob","response","evt","result","setItem","readAsDataURL","open","responseType","send","defaultCollectionIcon","network","fixURL","getImportLink","environment",12,"isQuotaExceeded","quotaExceeded","number","request","timeout","makeFinalURL","consts","getText","callback","get","set","end","err","res","conf","body","post","data","put","del","upload","file","onProgress","attach","on","progress","parseInt","percent","LST","value","clear","console","log","removeItem","superagent",13,"getDomain","href","hostname","domain","split","trim","favIcon","thumb","width","encodeURIComponent","cleanDomain","temp","maxSize","splice","join","linkTarget","_target","settingsURL","sURL",14,"defaultLang","currentLang","cleanLang","lang","setLang","browserLang","navigator","language","userLanguage","substr","toLowerCase","moment","locale","initJSfile","Event","onreadystatechange","responseText","JSON","parse","languageLoaded","dispatchEvent","moment/locale/de.js","moment/locale/es.js","moment/locale/fi.js","moment/locale/fr.js","moment/locale/id.js","moment/locale/ko.js","moment/locale/nl.js","moment/locale/pl.js","moment/locale/pt.js","moment/locale/ru.js","moment/locale/tr.js","moment/locale/uk.js","moment/locale/zh-cn.js","moment/locale/zh-tw.js",15,"index","handleForward","preventDefault","images","forward","alt","react/addons",16,"changeTitle","targetLink","download",17,"../../app/components/Helpers/UserVoice",18,19,"backgroundColor","height","../components/Slider",20,"dropbox","dropboxLink","enabled","flex",21,"renderFree","renderPro","textTransform","proExpire","format",22,"handleFullNameChange","handleEmailChange","handleSaveProfile","update","newpassword","next","Api","json","show","error","handleLangChange","select","findDOMNode","refs","options","selectedIndex","updateLanguage","reload","handleOldPasswordChange","old","handleNewPasswordChange","handleSavePassword","oldpassword","handleRemoveAccount","confirm","selected","emailPassword","onChange","placeholder","required","onSubmit","defaultValue","ref",23,"CollectionsStore","collections","getCollections","childrens","onCollectionsChange","unsubscribeCollections","renderItem","cover","link","marginLeft","concat","_","sortBy","privateList","forEach","uniqKey","publicList","../../actions/Collections","../../stores/Collections",24,"contextTypes","router","PropTypes","func","mixins","Router","State","sidebar","componentWillReceiveProps","p","handleSidebar","handleTitle","renderLogged","importLink","context","isActive","renderStatic","backURL","search","DocumentTitle","RouteHandler",25,"S","ls","DefaultRoute","Route","Redirect","Link","AppRoute","commonComponents","loaded","load","eToast","Toast","eContent","SettingsRoute","ProRoute","ProfileRoute","ImportRoute","ExportRoute","IntegrationRoute","RSSRoute","InstallRoute","HelpRoute","routes","path","handler","to","run","Handler","setAttribute","appVersion","../actions/Toast","../actions/User","../app/components/Helpers/Icon.js","../app/components/Toast.js","../app/config","../modules/api.js","../modules/network.js","../modules/translate","../stores/User","./routes/Export","./routes/Help","./routes/Import","./routes/Install","./routes/Integration","./routes/Pro","./routes/Profile","./routes/RSS","./routes/Settings","localforage","lodash","react","react-document-title","react-router","reflux","string",26,"StatsStore","BookmarksActions","_collections","_currentId","_loaded","_speed","isIOSapp","_defaults","setDefaults","view","createStore","init","listenTo","setCurrent","onSetCurrent","updateCollection","onUpdateCollection","insertCollection","onInsertCollection","removeCollection","onRemoveCollection","updateCountCollection","onUpdateCountCollection","updateColorCollection","onUpdateColorCollection","_saveCache","then","stringify","params","_insertDefaults","trigger","_checkGroupsStability","Intercom","onLoadId","findIndex","_updateOrInsertItem","updateGroups","updateModel","group","parentId","silent","strings","getErrorFromJSON","removeNow","saveGroups","getCurrentId","reset","count","color","onlyWhat","getCollection","getAllCount","getCollectionCount","_prepareItem","getCount","speed","_resetFromCache","cacheDisabled","val","cache","parent","getCollectionGroup","_forceUpdate","isLoading","../actions/Bookmarks","../actions/Childrens","../actions/Collections","../stores/Stats",27,"StatsActions","_stat","_loading","_all","onUpdate","_countAll","getStat","../actions/Stats",28,"_toasts","_timeout","onShow","onClose","stopTimer","onStopTimer","setTimeout","closing","_removeItem","clearTimeout","withoutUpdate",29,"_user","_logged","toggleGroup","onToggleGroup","updateGroup","onUpdateGroup","insertGroup","onInsertGroup","removeGroup","onRemoveGroup","swapGroups","onSwapGroups","swapCollections","onSwapCollections","onUpdateLanguage","updateConfig","onUpdateConfig","logOut","onLogOut","signIn","onSignIn","signUp","onSignUp","afterCheck","cleanGroups","updateIntercom","auth","_userId","currentJSONuserId","_cleanCache","app_id","user_id","created_at","Math","floor","registered","pro","groups","platform","pro_expire","NativeHelpers","intercomSetUser","Raven","setUserContext","hidden","sort","fromId","toId","fromIndex","toIndex","swapArray","needUpdate","found","j","toTop","unshift","from","tempFrom","tempTo","config","saveConfig","google","hash","BrowserBridge","openModal","chrome","windows","create","win","onRemoved","addListener","clone","getGroup","cleanCollections","indexes","pullAt","removeEmptyGroups","cId","getConfig","noGroup","coll","inGroup","some","uniq","_setProData","../actions/ModalFrame","./Collections"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,GAAIK,GAAkBC,OAAOC,eACzB,OACA,WACA,eACA,iBACA,iBACA,0BACA,iBACA,0BACA,wBACA,gBACA,cACA,WACA,gBACA,cACA,YACA,cACA,SAGJH,GAAOJ,QAAUK,OAEXG,GAAG,SAASd,EAAQU,EAAOJ,GACjC,GAAIS,GAAmBH,OAAOC,eAC1B,OACA,kBACA,cACA,oBAGJH,GAAOJ,QAAUS,OAEXC,GAAG,SAAShB,EAAQU,EAAOJ,GACjC,GAAIW,GAAqBL,OAAOC,eAC5B,OACA,aACA,mBACA,mBACA,mBACA,wBACA,yBAGJH,GAAOJ,QAAUW,OAEXC,GAAG,SAASlB,EAAQU,EAAOJ,GACjC,GAAIa,GAAoBP,OAAOC,eAC3B,QAGJH,GAAOJ,QAAUa,OAEXC,GAAG,SAASpB,EAAQU,EAAOJ,GACjCI,EAAOJ,QAAUM,OAAOC,eACpB,cAGEQ,GAAG,SAASrB,EAAQU,EAAOJ,GACjC,GAAIgB,GAAeV,OAAOC,eACtB,OACA,QACA,aAGJH,GAAOJ,QAAUgB,OAEXC,GAAG,SAASvB,EAAQU,EAAOJ,GACjC,GAAIkB,GAAcZ,OAAOC,eACrB,OACA,cACA,cACA,cACA,cACA,aACA,aACA,mBACA,iBACA,eACA,kBACA,SACA,SACA,UAGJH,GAAOJ,QAAUkB,OAEXC,GAAG,SAASzB,EAAQU,EAAOJ,GAGjCI,EAAOJ,QAAUoB,MAAMC,aACrBC,YAAa,eAEbC,sBAAuB,SAASC,GAC9B,MAAIC,MAAKC,MAAMC,MAAQH,EAAUG,MACxB,EAELF,KAAKC,MAAME,MAAQJ,EAAUI,MACxB,EAELH,KAAKC,MAAMG,OAASL,EAAUK,OACzB,GAEF,GAGTC,OAAQ,WACJ,GAAIC,GAAWN,KAAKC,MAAMC,MAAMF,KAAKC,MAAME,KAAO,IAAIH,KAAKC,MAAME,KAAO,IACpEI,EAAS,qBAAqBD,EAAS,OACvCE,EAAY,OAAOR,KAAKC,MAAME,KAAO,QAAQH,KAAKC,MAAME,KAAO,GAKnE,OAHIH,MAAKC,MAAMO,YACbA,GAAa,IAAIR,KAAKC,MAAMO,WAG1Bb,MAAMc,cAAc,OAAQC,IAAK,QAAQJ,EAAUE,UAAWA,EAAWG,YAAaX,KAAKC,MAAMC,KAAME,MAAOJ,KAAKC,MAAMG,OAAO,KAAMQ,yBAA0BC,OAAQN,aAK5KO,GAAG,SAAS7C,EAAQU,EAAOJ,GACjCI,EAAOJ,QAAUoB,MAAMC,aACnBC,YAAa,oBAChBkB,gBAAiB,WAChB,OACCC,KAAMC,UAAUC,UAChBC,GAAI,uBAAwB,GAAIC,OAAOC,UAAUC,WACjDC,SAAS,IAIXC,aAAc,SAASR,GACZhB,KAAKyB,aACTzB,KAAK0B,UACDV,KAAMA,EACNW,YACAJ,SAAS,KAIjBK,mBAAoB,WAGhB,GAFAX,UAAUY,SAEqB,mBAApBC,QAAOC,UAAyB,CAC1C,GAAIrB,GAAM,wBACO,UAAbhD,EAAEsE,YACLtB,EAAM,yBAEP,IAAIuB,GAAW,EAC+B,KAA1CH,OAAOI,SAASD,SAASE,QAAQ,UACpCF,EAAW,UAEZF,UAAUD,OAAOC,cAAc,WAAY,GAAIK,GAAGC,SAAS5B,cAAc,SAAU2B,GAAGE,KAAK,kBAAkBF,EAAGG,OAAM,EAAKH,EAAGI,IAAIP,EAAS,0BAA0BvB,EAAI,KAAM,IAAI7C,GAAEwE,SAASI,qBAAqB,UAAU,EAAG5E,GAAE6E,WAAWC,aAAaP,EAAGvE,QAIlQ+E,kBAAmB,WACf5C,KAAK6C,gBAAkB5B,UAAU6B,OAAO9C,KAAKwB,eAGjDuB,qBAAsB,WAClB/C,KAAK6C,mBAGTG,mBAAoB,WACf/B,UAAUgC,YACblB,UAAUmB,MAAM,YACfC,MAAQnD,KAAKoD,MAAMpC,KAAKmC,MACxBjD,KAAOF,KAAKoD,MAAMpC,KAAKV,SACvBgC,KAAQrB,UAAUoC,QAAU,MAAQ,OACpCC,SACCC,IAAKvD,KAAKoD,MAAMpC,KAAKuC,IACrBrD,KAAMF,KAAKoD,MAAMpC,KAAKV,SACtBkD,KAAOvC,UAAUoC,QAAU,MAAQ,WAKnCtB,UAAUmB,MAAM,QAAS,IAAMlD,KAAKoD,MAAMjC,IAAKsC,KAAMzD,KAAKC,MAAMwD,SAGvEpD,OAAQ,WACP,MACCV,OAAMc,cAAc,OAAQU,GAAInB,KAAKoD,MAAMjC,GAAIX,UAAW,sBAKvDkD,IAAI,SAASzF,EAAQU,EAAOJ,GAElC,GAAIoF,GAAa1F,EAAQ,sBACrB2F,EAA0BjE,MAAMkE,OAAOC,kBAE3CnF,GAAOJ,QAAUoB,MAAMC,aACrBC,YAAa,QAIXkB,gBAAiB,WACb,OACIgD,MAAOJ,EAAWK,cAI1BC,eAAgB,SAASC,GACjBlE,KAAKyB,aAAazB,KAAK0B,UAAUqC,MAAMG,KAG/CtB,kBAAmB,WACf5C,KAAKmE,iBAAmBR,EAAWb,OAAO9C,KAAKiE,iBAGnDlB,qBAAsB,WAClB/C,KAAKmE,oBAGTC,gBAAiB,SAAS3G,GACtB4G,OAAOC,OAAOnD,GAAI1D,EAAE8G,OAAOC,aAAa,cAG5CC,gBAAiB,SAAShH,KAI1B4C,OAAQ,WACJ,GAAIqE,GAAQ1E,KAER+D,EAAQ/D,KAAKoD,MAAMW,MAAMY,IAAI,SAASC,GACtC,GAAIC,GAAQ,IACRD,GAAKC,QACLA,EAAQlF,MAAMc,cAAc,OAAQD,UAAW,SAAUb,MAAMc,cAAc,SAAU,KAAMmE,EAAKC,QAEtG,IAAIC,GAAO,cAIX,OAHIF,GAAKG,SACLD,EAAO,UAGPnF,MAAMc,cAAc,MAAOC,IAAK,SAASkE,EAAKzD,GAAI6D,UAAWJ,EAAKzD,GAAIA,GAAI,SAASyD,EAAKzD,GAAI8D,aAAcP,EAAMD,gBAAiBS,QAASR,EAAMN,iBAC5IzE,MAAMc,cAAc,OAAQD,UAAW,oBAAoBoE,EAAKG,QAAQ,IACpEpF,MAAMc,cAAc,MAAO,KAAMd,MAAMc,cAAc0E,MAAOjF,KAAM4E,KAClEnF,MAAMc,cAAc,MAAO,KACvBoE,EACAlF,MAAMc,cAAc,OAAQD,UAAW,WAAYoE,EAAKQ,UAO5E,OACIzF,OAAMc,cAAcmD,GAA0ByB,UAAW,KAAMC,eAAgB,YAAaC,uBAAwB,IAAKC,uBAAwB,KAC7IzB,QAMb0B,qBAAqB,KAAKC,IAAI,SAASzH,EAAQU,EAAOJ,GACzD,GAAIoH,GAAO,sBACPC,EAAY,OAEhBjH,GAAOJ,SACHoH,KAAMA,EACNC,UAAWD,EAAOC,EAClBC,kBAAmBF,EAAO,oBAC1BG,cAAe,OAAQ,UAAW,QAAS,SAE3CC,QAASJ,EAAO,cAChBK,YAAa,GAEbC,WACIC,MAAS,mBACTC,MAAS,UACTC,MAAS,UACTC,MAAS,UACTC,MAAS,WACTC,MAAS,aACTC,MAAS,SACTC,MAAS,qBACTC,MAAS,UACTC,MAAS,QACTC,MAAS,SACTC,MAAS,aACTC,MAAS,UACTC,MAAS,kBACTC,MAAS,MACTC,MAAS,UACTC,MAAS,SACTC,MAAS,WAGbC,mBAEQ5E,IAAK,GACL6E,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,wCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,oCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,oCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,iCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,kCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,0BAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,sCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,gCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,kCAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,yBAC/BD,SAAU,UAGV7E,KAAMV,OAAOwF,YAAY,IAAM,2BAC/BD,SAAU,UAIlBE,sBAAuB,WACnB,GAAIC,GAAQ,KAAMC,EAAU,CAC5B,KACkD,MAA1CC,aAAaC,QAAQ,sBACvBH,EAAQE,aAAaC,QAAQ,qBAClC,MAAMlK,IAEP,IAAI,GAAIS,KAAK8B,MAAKoH,iBACd,GAAIpH,KAAKoH,iBAAiBlJ,GAAGsE,KAAOgF,EAAM,CACtCC,EAAUvJ,CACV,OAER,MAAOuJ,IAGXG,cAAe,SAASN,GACpB,GAAIpJ,GAAI8B,KAAKuH,uBAEb,IAAIrJ,GAAG,EAAE,CACL,GAAIuJ,GAAUzH,KAAKoH,iBAAiBlJ,EAYpCmE,UAASwF,gBAAgBC,UAAUC,OAAO,kBAC1C1F,SAASwF,gBAAgBC,UAAUC,OAAO,kBAC1C1F,SAASwF,gBAAgBC,UAAUE,IAAI,YAAYP,EAAQJ,UAAU,QAErE,IAAIY,GAAW,SAASC,GACpB,GAAIC,GAAQ,WACuC,MAA3C9F,SAAS+F,eAAe,oBACxB/F,SAAS+F,eAAe,kBAAkBhI,MAAMiI,gBAAgB,QAAQH,EAAG,MAEpC,OAA3C7F,SAAS+F,eAAe,kBACxBD,IAEA9F,SAASiG,iBAAiB,mBAAoBH,GAItD,KAAKV,EAAQjF,IAET,WADAyF,GAAS,cAIb,IAAIM,IAAOjB,GAAY,IAAIG,EAAQjF,IAC/BgG,EAAS,IACb,KAAId,aAAaC,QAAQY,GAAM,MAAM9K,IAErC,GAAc,MAAV+K,EAAe,CACf,GAAIC,GAAU,GAAIC,gBACdC,EAAa,GAAIC,WAErBH,GAAQI,OAAS,WACf,GAA0B,GAAtBJ,EAAQK,YAAqC,KAAlBL,EAAQ1D,OAAe,CACpD,GAAIgE,GAAO,GAAIC,OAAMP,EAAQQ,WAAY3G,KAAM,cAC/CqG,GAAWE,OAAS,SAAUK,GAE1B,GAAIC,GAASD,EAAI3E,OAAO4E,MAExBlB,GAASkB,EACT,KAAIzB,aAAa0B,QAAQb,EAAKY,GAAS,MAAM1L,MAGjDkL,EAAWU,cAAcN,KAG7BN,EAAQa,KAAK,MAAOf,GAAK,GACzBE,EAAQc,aAAe,cACvBd,EAAQe,WAERvB,GAASO,KAKrBiB,sBAAuB,WACnB,MAAOC,SAAQC,OAAO,qCAG1BC,cAAe,WACX,MAAiC,mBAAtB9H,QAAO+H,YACPH,QAAQC,OAAO,6BAEf,8BAIbG,IAAI,SAAS7L,EAAQU,EAAOJ,GAGlC,QAASwL,GAAgBtM,GACvB,GAAIuM,IAAgB,CACpB,IAAIvM,EACF,GAAIA,EAAEY,KACJ,OAAQZ,EAAEY,MACR,IAAK,IACH2L,GAAgB,CAChB,MACF,KAAK,MAEY,+BAAXvM,EAAEyC,OACJ8J,GAAgB,OAIA,cAAbvM,EAAEwM,SAEXD,GAAgB,EAGpB,OAAOA,GAtBT,GAAIE,GAAUjM,EAAQ,aAyBtBU,GAAOJ,SACH4L,QAAS,IAETC,aAAc,SAAS7B,GACrB,MAAyB,IAArBA,EAAIpG,QAAQ,QACPoG,EAEA8B,OAAOzE,UAAY2C,GAG9B+B,QAAS,SAAS/B,EAAKgC,GACrBL,EACKM,IAAIjC,GACJkC,IAAI,mBAAoB,QACxBC,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAChCA,IAAUK,OAASxF,MAAM,SAInCoF,IAAO,SAASjC,EAAIgC,EAASM,GACzBA,EAAOA,MAEPX,EACKM,IAAIxK,KAAKoK,aAAa7B,IACtB4B,QAAQnK,KAAKmK,SACbM,IAAI,SAAU,oBACdA,IAAI,mBAAoB,QACxBC,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAE5BA,GADAM,EAAKzF,KACIwF,EAAIxF,MAAM,GAEVwF,EAAIE,aAI7BC,KAAM,SAASxC,EAAIyC,EAAKT,GACpBL,EACKa,KAAK/K,KAAKoK,aAAa7B,IACvB4B,QAAQnK,KAAKmK,SACbX,KAAKwB,GACLP,IAAI,SAAU,oBAEdC,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAChCA,GAASK,EAAIE,aAIzBG,IAAK,SAAS1C,EAAIyC,EAAKT,GACnBL,EACKe,IAAIjL,KAAKoK,aAAa7B,IACtB4B,QAAQnK,KAAKmK,SACbX,KAAKwB,GACLP,IAAI,SAAU,oBAEdC,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAChCA,GAASK,EAAIE,aAIzBI,IAAK,SAAS3C,EAAIgC,GACdL,EACKgB,IAAIlL,KAAKoK,aAAa7B,IACtB4B,QAAQnK,KAAKmK,SACbM,IAAI,SAAU,oBAEdC,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAChCA,GAASK,EAAIE,aAIzBK,OAAQ,SAAS5C,EAAK6C,EAAMC,EAAYd,GACpCL,EACKa,KAAK/K,KAAKoK,aAAa7B,IACvB+C,OAAOF,EAAKlL,KAAMkL,EAAKA,KAAMA,EAAKA,KAAKlL,MACvCqL,GAAG,WAAY,SAAS9N,GACrB,GAAI+N,GAAWC,SAAShO,EAAEiO,SAAS,EAE/BL,GAAWG,KAElBd,IAAI,SAASC,EAAKC,GACf,MAAkB,mBAAPA,OAAqBL,WAChCA,GAASK,EAAIE,aAIzBnD,QAAS,SAASjH,GACd,GAAIiL,EACJ,KACIA,EAAMjE,cAAgB5F,OAAO4F,aAC/B,MAAMjK,IAER,MAAIkO,GACOA,EAAIhE,QAAQjH,GAEZ,MAGf0I,QAAS,SAAS1I,EAAKkL,GACnB,GAAID,EACJ,KACIA,EAAMjE,cAAgB5F,OAAO4F,aAC/B,MAAMjK,IAER,GAAIkO,EACA,IACIA,EAAIvC,QAAQ1I,EAAKkL,GACnB,MAAMnO,GACAsM,EAAgBtM,IAEhBkO,EAAIE,YAIZC,SAAQC,IAAI,2BAGpBC,WAAY,SAAStL,GACjB,GAAIiL,EACJ,KACIA,EAAMjE,cAAgB5F,OAAO4F,aAC/B,MAAMjK,IAEJkO,EACAA,EAAIK,WAAWtL,GAEfoL,QAAQC,IAAI,2BAGpBF,MAAO,WACH,GAAIF,EACJ,KACIA,EAAMjE,cAAgB5F,OAAO4F,aAC/B,MAAMjK,IAEJkO,EACAA,EAAIE,QAEJC,QAAQC,IAAI,8BAIrBE,WAAa,eAAeC,IAAI,SAASjO,EAAQU,EAAOJ,GAC3DI,EAAOJ,SACH4N,UAAW,SAAS5D,GAElB,GADAA,EAAMA,GAAO,GACS,mBAAZlG,UAAwB,CAC9B,GAAIrE,GAAIqE,SAAS5B,cAAc,IAC/BzC,GAAEoO,KAAO7D,CACT,IAAI5C,GAAO3H,EAAEqO,QAEb,cADOrO,GACA2H,EAET,GAAI2G,EAYJ,OATIA,GADA/D,EAAIpG,QAAQ,OAAS,GACZoG,EAAIgE,MAAM,KAAK,GAGfhE,EAAIgE,MAAM,KAAK,GAI5BD,EAASA,EAAOC,MAAM,KAAK,IAM/B5C,OAAQ,SAAS9L,GACb,IACIA,EAAIA,EAAE2O,OACR,MAAM/O,GAAOA,IAAEI,EAAE,IAEnB,MAAqB,IAAjBA,EAAEsE,QAAQ,MACH,QAAQtE,EACM,GAAhBA,EAAEsE,QAAQ,KACR,sBAAsBtE,EAEtBA,GAGf4O,QAAS,SAAS5O,GACd,MAAO,gCAAgCA,GAAG,KAG9C6O,MAAO,SAAS7O,EAAE8O,GACd,IACI9O,EAAIA,EAAE2O,OACR,MAAM/O,GAAOA,IAAEI,EAAE,IAKnB,MAHoB,mBAAT8O,KACPA,EAAQ,KAEL,IAAH9O,EACuB,GAAnBA,EAAEsE,QAAQ,QACHnC,KAAK2J,OAAO9L,GACoB,GAAlCA,EAAEsE,QAAQ,uBACRtE,EAC+B,GAAjCA,EAAEsE,QAAQ,sBACRtE,EAEA,sCAAwC+O,mBAAmB/O,GAAK,UAAY8O,EAGhF,eAGfE,YAAa,SAASP,GAClB,IACI,GAAIQ,GAAOR,EAAOC,MAAM,KAAMQ,EAAU,CACpCD,GAAKrO,OAAOsO,KACkB,OAAzBD,EAAMA,EAAKrO,OAAO,IAAyC,OAAzBqO,EAAMA,EAAKrO,OAAO,IAAyC,OAAzBqO,EAAMA,EAAKrO,OAAO,IAAyC,MAAzBqO,EAAMA,EAAKrO,OAAO,MACzHsO,EAAU,GAEdD,EAAKE,OAAO,EAAGF,EAAKrO,OAAOsO,GAC3BT,EAASQ,EAAKG,KAAK,MAE1B,MAAMxP,IAEP,MAAO6O,IAGXY,WAAY,WACR,GAAIC,GAAU,OAOd,OANiD,KAA5CrL,OAAO+H,iBAAiB1H,QAAQ,aACjCgL,EAAU,QAEwC,KAAjDrL,OAAO+H,iBAAiB1H,QAAQ,kBACjCgL,EAAU,UAEPA,GAGXC,YAAa,WACT,GAAIC,GAAO,sCACPF,EAAU,OAad,OAZiD,KAA5CrL,OAAO+H,iBAAiB1H,QAAQ,aACjCgL,EAAU,UAGgC,IAA1CrL,OAAOI,SAASD,SAASE,QAAQ,UACjCkL,EAAO,uBAEkC,KAAxCvL,OAAO+H,iBAAiB1H,QAAQ,SAEjCkL,EAAO,6CAGJA,SAITC,IAAI,SAASrP,EAAQU,EAAOJ,GAClCN,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,uBACRA,EAAQ,0BACRA,EAAQ,0BAERU,EAAOJ,SACHgP,YAAa,QACbC,YAAa,QAGbxL,QAAS,WACL,MAAOhC,MAAKwN,aAGhBC,UAAW,SAASC,GAClB,IAAI,GAAIxP,KAAKmM,QAAOpE,UAClB,GAAqB,GAAjB/H,EAAEiE,QAAQuL,GACZ,MAAOxP,EAEX,OAAO8B,MAAKuN,aAGdI,QAAS,SAASD,GAEd,GAAmB,mBAARA,GAAoB,CAC7BA,EAAO,IACP,KAAIA,EAAOhG,aAAaC,QAAQ,aAAa,KAAM,MAAMlK,IAEzD,GAAU,MAANiQ,EAAW,CACb,GAAIE,GAAcC,UAAUC,UAAYD,UAAUE,cAAgB,EAClE,KACEH,EAAcA,EAAYpB,OAAOwB,OAAO,EAAE,GAAGC,cAC7C,MAAMxQ,GAAQA,IAAGmQ,EAAY,IAEd,IAAbA,IACFF,EAAO1N,KAAKyN,UAAUG,KAKS,mBAA1BvD,QAAOpE,UAAUyH,KACxBA,EAAO1N,KAAKuN,aAEhBvN,KAAKwN,YAAcE,CACnB,KAAIhG,aAAa0B,QAAQ,WAAYpJ,KAAKwN,aAAc,MAAM/P,IACzC,mBAAVyQ,QACTA,OAAOC,OAAOnO,KAAKwN,aACY,mBAAjB1L,QAAOoM,QACrBpM,OAAOoM,OAAOC,OAAOnO,KAAKwN,cAGhC3P,EAAG,SAASA,GACV,MAA+C,mBAApCiE,QAAO,QAAQ9B,KAAKwN,aACtB3P,EAEyC,mBAAvCiE,QAAO,QAAQ9B,KAAKwN,aAAa3P,GACjCiE,OAAO,QAAQ9B,KAAKwN,aAAa3P,GAEjCA,GAGbuQ,WAAY,WAKV,GAAI1J,GAAQ1E,KACRyI,EAAU,GAAIC,gBACdH,GAAOzG,OAAOwF,YAAY,IAAI,gBAAgBtH,KAAKwN,YAAY,MAE/D/P,EAAI,GAAI4Q,OAAM,aAClB5F,GAAQ6F,mBAAqB,WACC,GAAtB7F,EAAQK,YAAmBL,EAAQ8F,eACnCzM,OAAO,QAAQ4C,EAAM8I,aAAegB,KAAKC,MAAMhG,EAAQ8F,cACvDzM,OAAO4M,gBAAiB,EACxB5M,OAAO6M,cAAclR,KAG7BgL,EAAQa,KAAK,MAAOf,GAAK,GACzBE,EAAQe,WAIXoF,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,sBAAsB,sBAAsBC,yBAAyB,yBAAyBC,yBAAyB,2BAA2BC,IAAI,SAASzR,EAAQU,EAAOJ,GACrpB,GAAIqF,GAA0B3F,EAAQ,gBAAgB4F,OAAOC,kBAE7DnF,GAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkB,gBAAiB,WAChB,OACC4O,MAAM,IAIRC,cAAe,SAASnS,GACvBA,EAAEoS,iBACE7P,KAAKC,MAAM6P,OAAOrR,OAAOuB,KAAKoD,MAAMuM,MAAM,EAC7C3P,KAAK0B,UAAUiO,MAAO3P,KAAKoD,MAAMuM,MAAM,IAEvC3P,KAAK0B,UAAUiO,MAAO,KAGxBtP,OAAQ,WACP,GAAI0P,GAAU,IAGd,OAFI/P,MAAKC,MAAM6P,OAAOrR,OAAO,IAC5BsR,EAAUpQ,MAAMc,cAAc,KAAM2L,KAAM,GAAI5L,UAAW,cAAe0E,QAASlF,KAAK4P,eAAgBjQ,MAAMc,cAAc0E,MAAOjF,KAAM,cAEvIP,MAAMc,cAAc,OAAQD,UAAW,UACtCuP,EAECpQ,MAAMc,cAAcmD,GAA0B0B,eAAgB,YAC7D3F,MAAMc,cAAc,OAAQ+B,IAAKxC,KAAKC,MAAM6P,OAAO9P,KAAKoD,MAAMuM,OAAQK,IAAK,GAAItP,IAAKV,KAAKC,MAAM6P,OAAO9P,KAAKoD,MAAMuM,UAGnHhQ,MAAMc,cAAc,OAAQD,UAAW,QAASgC,IAAKxC,KAAKC,MAAM6P,OAAO9P,KAAKoD,MAAMuM,OAAQK,IAAK,WAMhGC,eAAe,iBAAiBC,IAAI,SAASjS,EAAQU,EAAOJ,GAC/DI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChD+C,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,qBAG5BwC,OAAQ,WACP,MACCV,OAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,qBAGrC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,cAAepB,OAAQzC,OAAOsO,WAAY5P,UAAW,OAAQ6P,UAAU,GAClH1Q,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,iBACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvC,SAEDb,MAAMc,cAAc,QAASD,UAAW,qBAAsBb,MAAMc,cAAc0E,MAAOjF,KAAM,gCAUjGoQ,IAAI,SAASrS,EAAQU,EAAOJ,GAClC,GAAIwD,GAAY9D,EAAQ,yCAExBU,GAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChD+C,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,UAG5BwC,OAAQ,WACP,MACCV,OAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,SACpC8B,MAAMc,cAAc,IAAK,KAAM/C,EAAEG,EAAE,eAGpC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAcsB,EAAW,MAC/BpC,MAAMc,cAAc,KAAM,MAC1B,uBAAwBd,MAAMc,cAAc,KAAM2L,KAAM,2BAA4B,4BAQvFmE,yCAAyC,IAAIC,IAAI,SAASvS,EAAQU,EAAOJ,GAC5EI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChD+C,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,qBAG5BwC,OAAQ,WACP,MAAQV,OAAMc,cAAc,UAAW+B,IAAK6H,OAAO1E,KAAK,sCAIpD8K,IAAI,SAASxS,EAAQU,EAAOJ,GACrBN,EAAQ,uBAErBU,GAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChD+C,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,aAG5BwC,OAAQ,WACP,MACCV,OAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,OAAQD,UAAW,uBAAwBJ,OAAQsQ,gBAAiB,YACvF/Q,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,sCAAuCqK,IAAK,KACzFrQ,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,OAAQD,UAAW,QAAS9C,EAAEG,EAAE,kBACpD8B,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,KAAM2L,KAAM,wFAAyF7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,yCAA0CgL,OAAQ,KAAMX,IAAK,MACtPrQ,MAAMc,cAAc,KAAM2L,KAAM,uDAAwD7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,0CAA2CgL,OAAQ,KAAMX,IAAK,MACtNrQ,MAAMc,cAAc,KAAM2L,KAAM,iDAAkD7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,yCAA0CgL,OAAQ,KAAMX,IAAK,MAC/MrQ,MAAMc,cAAc,KAAM2L,KAAM,yEAA0E7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,wCAAyCgL,OAAQ,KAAMX,IAAK,SAKzOrQ,MAAMc,cAAc,OAAQD,UAAW,OAAQJ,OAAQsQ,gBAAiB,YACvE/Q,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,gCAAiCqK,IAAK,KACnFrQ,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,OAAQD,UAAW,QAAS,iBAChDb,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,KAAM2L,KAAM,+EAAgF7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,sCAAuCgL,OAAQ,KAAMX,IAAK,SAK7OrQ,MAAMc,cAAc,OAAQD,UAAW,mBAAoBJ,OAAQsQ,gBAAiB,YACnF/Q,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,oCAAqCqK,IAAK,KACvFrQ,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,OAAQD,UAAW,QAAS,0BAChDb,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,KAAM2L,KAAM,6EAA8E7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,0CAA2CgL,OAAQ,KAAMX,IAAK,SAK/OrQ,MAAMc,cAAc,OAAQD,UAAW,OAAQJ,OAAQsQ,gBAAiB,YACvE/Q,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,gCAAiCqK,IAAK,KACnFrQ,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,OAAQD,UAAW,QAAS,YAChDb,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,KAAM2L,KAAM,2EAA4E7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,sCAAuCgL,OAAQ,KAAMX,IAAK,SAKzOrQ,MAAMc,cAAc,OAAQD,UAAW,OAAQJ,OAAQsQ,gBAAiB,YACvE/Q,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,gCAAiCqK,IAAK,KACnFrQ,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,OAAQD,UAAW,QAAS9C,EAAEG,EAAE,mBACpD8B,MAAMc,cAAc,OAAQD,UAAW,SACtCb,MAAMc,cAAc,KAAM2L,KAAM,sGAAuG7H,OAAQ,UAAW5E,MAAMc,cAAc,OAAQ+B,IAAK6H,OAAO1E,KAAK,yCAA0CgL,OAAQ,KAAMX,IAAK,gBAWzQY,uBAAuB,KAAKC,IAAI,SAAS5S,EAAQU,EAAOJ,GAC3DI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkB,gBAAiB,WAChB,OACCC,KAAMC,UAAUC,UAChBK,SAAS,IAIXC,aAAc,SAASR,GACZhB,KAAKyB,aACTzB,KAAK0B,UACDV,KAAMA,EACNW,YACAJ,SAAS,KAIjBK,mBAAoB,WAChBX,UAAUY,UAGde,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAY,eACpBnQ,KAAK6C,gBAAkB5B,UAAU6B,OAAO9C,KAAKwB,eAGjDuB,qBAAsB,WAClB/C,KAAK6C,mBAGZxC,OAAQ,WACP,GAAIyQ,IAAU,EAAOC,EAAY1G,OAAO1E,KAAK,oBAAsBjB,OAAQ1E,IAC3E,KAAI8Q,EAAQpM,MAAMtB,MAAMpC,KAAK8P,QAAQE,QAAS,MAAMvT,IAOpD,MANIqT,KACHC,EAAY1G,OAAO1E,KAAK,mBAEpB1E,UAAUoC,UACd0N,EAAY,kBAGZpR,MAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM,gBAGjCd,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,KAAM2L,KAAM2E,EAAaxM,OAAQzC,OAAOsO,WAAY5P,UAAW,QAClFb,MAAMc,cAAc,QAASD,UAAW,QAASJ,OAAQ6Q,KAAK,IAC7DvT,EAAEG,EAAE,eACJ8B,MAAMc,cAAc,QAASD,UAAW,YAAa9C,EAAEG,EAAE,kBAE1D8B,MAAMc,cAAc,QAASD,UAAW,aACvCb,MAAMc,cAAc,OAAQD,UAAW,kBAAkBsQ,EAAQ,UAAU,oBAW9EI,IAAI,SAASjT,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkB,gBAAiB,WAChB,OACCC,KAAMC,UAAUC,UAChBK,SAAS,IAIXC,aAAc,SAASR,GACZhB,KAAKyB,aACTzB,KAAK0B,UACDV,KAAMA,EACNO,SAAS,KAIjBK,mBAAoB,WAChBX,UAAUY,UAGde,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,mBACxBmC,KAAK6C,gBAAkB5B,UAAU6B,OAAO9C,KAAKwB,eAGjDuB,qBAAsB,WAClB/C,KAAK6C,mBAGZsO,WAAY,WACX,MAAInR,MAAKoD,MAAM7B,QAEb5B,MAAMc,cAAc,OAAQD,UAAW,aACvCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,WAAY,UAOnD8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,oBAGrC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,OAAQD,UAAW,aAAcgC,IAAK6H,OAAO1E,KAAK,sBAAuBgH,MAAO,MAAOqD,IAAK,KAChHrQ,MAAMc,cAAc,SAAU,KAAM/C,EAAEG,EAAE,eAAgB,IAAKH,EAAEG,EAAE,gBAAiB,KAClF8B,MAAMc,cAAc,KAAM,KACzBd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,sBACpC8B,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,kBACpC8B,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,qBACpC8B,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,gBACpC8B,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,gBAItC8B,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,iBAAkBpB,OAAQzC,OAAOsO,WAAY5P,UAAW,QACnGb,MAAMc,cAAc,QAASD,UAAW,QAASJ,OAAQ6Q,KAAK,IAAKvT,EAAEG,EAAE,mBACvE8B,MAAMc,cAAc,QAASD,UAAW,WAAYb,MAAMc,cAAc0E,MAAOjF,KAAM,oBAGtFP,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,cAAepB,OAAQzC,OAAOsO,WAAY5P,UAAW,eAChGb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,iBACtD8B,MAAMc,cAAc,QAASD,UAAW,WAAYb,MAAMc,cAAc0E,MAAOjF,KAAM,wBAQ3FkR,UAAW,WACV,MACCzR,OAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,oBAGrC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,UAAWL,OAAQiR,cAAc,eACpD1R,MAAMc,cAAc0E,MAAOjF,KAAM,OAAQM,UAAW,yBACpD9C,EAAEG,EAAE,SAAW,IAAMqQ,OAAOjN,UAAUC,UAAUoQ,WAAWC,OAAO,QAIpE5R,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,cAAepB,OAAQzC,OAAOsO,WAAY5P,UAAW,eAChGb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,aACtD8B,MAAMc,cAAc,QAASD,UAAW,WAAYb,MAAMc,cAAc0E,MAAOjF,KAAM,wBAQ3FG,OAAQ,WACP,MACCV,OAAMc,cAAc,OAAQD,UAAW,aACtCS,UAAUoC,QAAUrD,KAAKoR,YAAcpR,KAAKmR,aAE5CxR,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM,QAGjCd,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,2BACpCd,MAAMc,cAAc,IAAK,KACxB,8GAIFd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,uEACpCd,MAAMc,cAAc,IAAK,KACxB,uNAIFd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,qCACpCd,MAAMc,cAAc,IAAK,KACxB,2FAA4Fd,MAAMc,cAAc,KAAM2L,KAAM,mBAAoB,cAAe,MAIjKzM,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,+CACpCd,MAAMc,cAAc,IAAK,KACxB,sRAIFd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,qDACpCd,MAAMc,cAAc,IAAK,KACxB,oEAIFd,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAU,KAAM,uBACpCd,MAAMc,cAAc,IAAK,KACxB,6BAA8Bd,MAAMc,cAAc,KAAM2L,KAAM,mBAAoB,cAAe,kBAWpGoF,IAAI,SAASvT,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkB,gBAAiB,WAChB,OACCC,KAAMC,UAAUC,UAChBK,SAAS,IAIXC,aAAc,SAASR,GACZhB,KAAKyB,aACTzB,KAAK0B,UACDV,KAAMA,EACNW,YACAJ,SAAS,KAIjBK,mBAAoB,WAChBX,UAAUY,UAGde,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAYzS,EAAEG,EAAE,YACxBmC,KAAK6C,gBAAkB5B,UAAU6B,OAAO9C,KAAKwB,eAGjDuB,qBAAsB,WAClB/C,KAAK6C,mBAGT4O,qBAAsB,SAAShU,GAC9BuC,KAAKoD,MAAMpC,KAAKV,SAAW7C,EAAE8G,OAAOqH,MACjC5L,KAAK0B,UAAUV,KAAMhB,KAAKoD,MAAMpC,QAGpC0Q,kBAAmB,SAASjU,GAC3BuC,KAAKoD,MAAMpC,KAAKmC,MAAQ1F,EAAE8G,OAAOqH,MAC9B5L,KAAK0B,UAAUV,KAAMhB,KAAKoD,MAAMpC,QAGpC2Q,kBAAmB,SAASlU,GAC3BA,EAAEoS,gBAEF,IAAI+B,IAAUtR,SAAUN,KAAKoD,MAAMpC,KAAKV,SACpCN,MAAKoD,MAAMpC,KAAKmC,QACnByO,EAAOzO,MAAQnD,KAAKoD,MAAMpC,KAAKmC,MAE1BnD,KAAKoD,MAAMpC,KAAKW,WACpBiQ,EAAOC,YAAc7R,KAAKoD,MAAMzB,SAASmQ,OAI3C9R,KAAK0B,UAAUH,SAAQ,IACvBwQ,IAAI9G,IAAI,OAAQ2G,EAAQ,SAASI,GAC5BA,EAAK7I,OACR9E,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,iBAEvBwG,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,SAASmU,EAAKE,SAEtCjR,UAAUY,YAIZsQ,iBAAkB,SAAS1U,GAC1BA,EAAEoS,gBACC,IAAIuC,GAASzS,MAAM0S,YAAYrS,KAAKsS,KAAK5E,MACrCA,EAAO0E,EAAOG,QAAQH,EAAOI,eAAe5G,KAEhD5L,MAAK0B,UAAUH,SAAQ,IACvB9B,YAAYgT,gBAAgB/E,KAAKA,GAAO,WACvChQ,EAAEiQ,QAAQD,GACPxL,SAASwQ,YAKjBC,wBAAyB,SAASlV,GACjCuC,KAAKoD,MAAMzB,SAASiR,IAAMnV,EAAE8G,OAAOqH,MAChC5L,KAAK0B,UAAUC,SAAU3B,KAAKoD,MAAMzB,YAGxCkR,wBAAyB,SAASpV,GACjCuC,KAAKoD,MAAMzB,SAASmQ,KAAOrU,EAAE8G,OAAOqH,MACjC5L,KAAK0B,UAAUC,SAAU3B,KAAKoD,MAAMzB,YAGxCmR,mBAAoB,SAASrV,GAC5BA,EAAEoS,gBACF,IAAI+B,IACHmB,YAAa/S,KAAKoD,MAAMzB,SAASiR,IACjCf,YAAa7R,KAAKoD,MAAMzB,SAASmQ,KACjC3O,MAAOnD,KAAKoD,MAAMpC,KAAKmC,MACvB7C,SAAUN,KAAKoD,MAAMpC,KAAKV,SAG3BN,MAAK0B,UAAUH,SAAQ,IACvBwQ,IAAI9G,IAAI,OAAQ2G,EAAQ,SAASI,GAC5BA,EAAK7I,OACR9E,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,iBAEvBwG,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,SAASmU,EAAKE,SAEtCjR,UAAUY,YAIZmR,oBAAqB,SAASvV,GAC7BA,EAAEoS,iBACEoD,QAAQvV,EAAEG,EAAE,qBACfiE,OAAOI,SAAWmI,OAAO1E,KAAO,qBAGrCtF,OAAQ,WACP,GAAIL,KAAKoD,MAAM7B,QACd,MACC5B,OAAMc,cAAc,OAAQD,UAAW,aACvCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,WAAY,SAMpD,KAAKoD,UAAUgC,WACd,MACCtD,OAAMc,cAAc,OAAQD,UAAW,aAGzC,IAAIyF,KACJ,KAAI,GAAI5H,KAAQgM,QAAOpE,UAChBA,EAAU/C,KACTvD,MAAMc,cAAc,UAAWyS,SAAUxV,EAAEsE,WAAW3D,EAAMuN,MAAOvN,GAAOgM,OAAOpE,UAAU5H,IAG7F,IAAI8U,GAAgB,IAW1B,OAVWnT,MAAKoD,MAAMpC,KAAKW,WACpBwR,EACCxT,MAAMc,cAAc,SAAUD,UAAW,QAC9Cb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,aACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,SAAU6B,KAAM,WAAY8Q,SAAUpT,KAAK6S,wBAAyBQ,YAAa3V,EAAEG,EAAE,eAAgByV,UAAU,OAMtI3T,MAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,cACpC8B,MAAMc,cAAc,IAAK,KACxB/C,EAAEG,EAAE,sBAIN8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,QAAS8S,SAAUvT,KAAK2R,mBAC3ChS,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAUD,UAAW,QACxCb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,aACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,SAAU6B,KAAM,OAAQkR,aAAcxT,KAAKoD,MAAMpC,KAAKV,SAAU8S,SAAUpT,KAAKyR,qBAAsB6B,UAAU,MAIrI3T,MAAMc,cAAc,SAAUD,UAAW,QACxCb,MAAMc,cAAc,QAASD,UAAW,SAAU,SAClDb,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,SAAU6B,KAAM,QAASkR,aAAcxT,KAAKoD,MAAMpC,KAAKmC,MAAOiQ,SAAUpT,KAAK0R,kBAAmB2B,YAAa,iBAAkBC,UAAU,MAI/JH,EAEAxT,MAAMc,cAAc,SAAUD,UAAW,QACxCb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,aACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,UAAWgT,IAAK,OAAQL,SAAUpT,KAAKmS,kBAC1DlM,KAKHtG,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,QAASD,UAAW,SAAU,MAClDb,MAAMc,cAAc,QAASD,UAAW,SACvCR,KAAKoD,MAAMpC,KAAKuC,MAIlB5D,MAAMc,cAAc,KAAM2L,KAAM,uBAAwB7H,OAAQ,SAAU/D,UAAW,QACpFb,MAAMc,cAAc,QAASD,UAAW,QAASJ,OAAQ6Q,KAAK,IAAKvT,EAAEG,EAAE,iBACvE8B,MAAMc,cAAc,QAASD,UAAW,WAAYb,MAAMc,cAAc0E,MAAOjF,KAAM,qBAIvFP,MAAMc,cAAc,OAAQD,UAAW,WACtCb,MAAMc,cAAc,SAAU6B,KAAM,SAAUsJ,MAAOlO,EAAEG,EAAE,cAM7D8B,MAAMc,cAAc,WAAYD,UAAWR,KAAKoD,MAAMpC,KAAKW,SAAW,GAAK,UAC1EhC,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,oBAGrC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,QAAS8S,SAAUvT,KAAK8S,oBAC3CnT,MAAMc,cAAc,OAAQD,UAAW,QACtCb,MAAMc,cAAc,SAAUD,UAAW,QACxCb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,oBACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,SAAU6B,KAAM,WAAY8Q,SAAUpT,KAAK2S,wBAAyBU,YAAa3V,EAAEG,EAAE,mBAAoByV,UAAU,MAIzI3T,MAAMc,cAAc,SAAUD,UAAW,QACxCb,MAAMc,cAAc,QAASD,UAAW,SAAU9C,EAAEG,EAAE,gBACtD8B,MAAMc,cAAc,QAASD,UAAW,SACvCb,MAAMc,cAAc,SAAU6B,KAAM,WAAY8Q,SAAUpT,KAAK6S,wBAAyBQ,YAAa3V,EAAEG,EAAE,eAAgByV,UAAU,OAKtI3T,MAAMc,cAAc,OAAQD,UAAW,WACtCb,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,iBAAkBpB,OAAQ,UAAW7G,EAAEG,EAAE,oBACrF8B,MAAMc,cAAc,SAAU6B,KAAM,SAAUsJ,MAAOlO,EAAEG,EAAE,wBAM7D8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,WACtCb,MAAMc,cAAc,KAAM2L,KAAM,GAAIlH,QAASlF,KAAKgT,qBAAsBtV,EAAEG,EAAE,8BAS7E6V,IAAI,SAASzV,EAAQU,EAAOJ,GAClC,GACIoV,IADqB1V,EAAQ;AACVA,EAAQ,4BAE/BU,GAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkB,gBAAiB,WAChB,OACC6S,YAAaD,EAAiBE,iBAC9BC,eAIFC,oBAAqB,SAASH,GACnB5T,KAAKyB,aACTzB,KAAK0B,UACDkS,YAAaA,KAIrBhS,mBAAoB,WAChB+R,EAAiB9R,UAGrBe,kBAAmB,WAClB5C,KAAKC,MAAMkQ,YAAY,MAEvB,IAAIzL,GAAQ1E,IACTA,MAAKgU,uBAAyBL,EAAiB7Q,OAAO9C,KAAK+T,qBAC3DhC,IAAIvH,IAAI,YAAa,SAASwH,GAC7BtN,EAAMhD,UAAUoS,UAAW9B,EAAKjO,eAIrChB,qBAAsB,WAClB/C,KAAKgU,0BAGTC,WAAY,SAASrP,GACpB,GAAIsP,GAAQ7J,OAAOZ,uBAChB,KAAIyK,EAAQxK,QAAQC,OAAO/E,EAAKsP,MAAM,IAAK,MAAMzW,IAEpD,MACCkC,OAAMc,cAAc,KAAM2L,KAAMxH,EAAKuP,KAAM5P,OAAQzC,OAAOsO,WAAY5P,UAAW,QACnFb,MAAMc,cAAc,QAASD,UAAW,SAAUoE,EAAKC,OACvDlF,MAAMc,cAAc,QAASD,UAAW,SACvCoE,EAAKuP,MAENxU,MAAMc,cAAc,QAASD,UAAW,YAAaJ,OAAQgU,WAAW,SAAUzU,MAAMc,cAAc,OAAQ+B,IAAK0R,EAAO1T,UAAW,OAAQmQ,OAAQ,KAAMX,IAAK,QAKnK3P,OAAQ,WACP,GAAIqE,GAAQ1E,KAER4T,EAAc5T,KAAKoD,MAAMwQ,YAAYS,OAAOrU,KAAKoD,MAAM0Q,UAC3DF,GAAcU,EAAEC,OAAOX,EAAa,QAEpC,IAAIY,KACJZ,GAAYa,QAAQ,SAAS7P,GACvBA,EAAKrB,IAAI,GAAKqB,EAAY,SAC/B4P,EAAYtR,KAAKwB,EAAMuP,YACtBpP,MAAOD,EAAKC,MACZsP,KAAM9J,OAAO1E,KAAK,SAASf,EAAK8P,QAChCR,MAAOtP,EAAKsP,UAKd,IAAIS,KAWJ,OAVAf,GAAYa,QAAQ,SAAS7P,GACxBA,EAAKrB,IAAI,GACboR,EAAWzR,KAAKwB,EAAMuP,YACrBpP,MAAOD,EAAKC,MACZsP,KAAM9J,OAAO1E,KAAK,eAAef,EAAKrB,IAAI,QAC1C2Q,MAAOtP,EAAKsP,WAMbvU,MAAMc,cAAc,OAAQD,UAAW,aACtCb,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,mBACpC8B,MAAMc,cAAc,IAAK,KAAM/C,EAAEG,EAAE,iBAGpC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCR,KAAKiU,YAAYpP,MAAOnH,EAAEG,EAAE,iBAAkBsW,KAAM9J,OAAO1E,KAAK,UAAU1E,UAAUC,UAAUwT,UAC9F1U,KAAKiU,YAAYpP,MAAOnH,EAAEG,EAAE,qBAAsBsW,KAAM9J,OAAO1E,KAAK,SAAS1E,UAAUC,UAAUwT,UACjGF,KAKH7U,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,SAAU,KAC7Bd,MAAMc,cAAc,KAAM,KAAM/C,EAAEG,EAAE,mBAGrC8B,MAAMc,cAAc,UAAW,KAC9Bd,MAAMc,cAAc,OAAQD,UAAW,QACtCmU,WASJC,4BAA4B,EAAEC,2BAA2B,KAAKC,IAAI,SAAS7W,EAAQU,EAAOJ,GAC7FI,EAAOJ,QAAUoB,MAAMC,aAAaC,YAAa,UAChDkV,cACOC,OAAQrV,MAAMsV,UAAUC,MAG5BC,QAAUC,OAAOC,OAEjBtU,gBAAiB,WACnB,OACCC,KAAMC,UAAUC,UAChBK,SAAS,EACT+T,SAAS,EACTzQ,MAAO,KAITrD,aAAc,SAASR,GACZhB,KAAKyB,aACTzB,KAAK0B,UACDV,KAAMA,EACNW,YACAJ,SAAS,KAIjBK,mBAAoB,WAChBX,UAAUY,UAGde,kBAAmB,WACf5C,KAAK6C,gBAAkB5B,UAAU6B,OAAO9C,KAAKwB,eAGjDuB,qBAAsB,WAClB/C,KAAK6C,mBAGT0S,0BAA2B,SAASC,GACnCxV,KAAKyV,iBAGNA,cAAe,SAAShY,GACnBA,GACJA,EAAEoS,gBAEF,IAAIyF,IAAWtV,KAAKoD,MAAMkS,OAC1BtV,MAAK0B,UAAU4T,QAASA,IAEpBA,EACHjT,SAASwF,gBAAgBC,UAAUE,IAAI,gBAEvC3F,SAASwF,gBAAgBC,UAAUC,OAAO,iBAG5C2N,YAAa,SAAS7Q,GACrB7E,KAAK0B,UAAUmD,MAAOA,KAGvB8Q,aAAc,WACb,GAAIC,GAAajW,MAAMc,cAAc,KAAM2L,KAAM,qBAAsB1O,EAAEG,EAAE,mBAI3E,OAHuC,IAAnCiE,OAAO+H,YAAY1H,QAAQ,SAC9ByT,EAAajW,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,4BAA6BpB,OAAQ,UAAW7G,EAAEG,EAAE,qBAG7G8B,MAAMc,cAAc,OAAQ,KAC9Bd,MAAMc,cAAc,MAAOD,UAAW,WACrC9C,EAAEG,EAAE,YAEL8B,MAAMc,cAAc,MAAOD,UAAW,qBAAqBR,KAAK6V,QAAQb,OAAOc,SAAS,OAAS,SAAW,KAC3GnW,MAAMc,cAAc,KAAM2L,KAAM,kBAAmB1O,EAAEG,EAAE,oBAExD8B,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,WAAa,SAAW,KACnGnW,MAAMc,cAAc,KAAM2L,KAAM,cAAe1O,EAAEG,EAAE,aAGpD8B,MAAMc,cAAc,MAAOD,UAAW,WACrC9C,EAAEG,EAAE,cAEL8B,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,UAAY,SAAW,KAClGF,GAEDjW,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,UAAY,SAAW,KAClGnW,MAAMc,cAAc,KAAM2L,KAAM,qBAAsB1O,EAAEG,EAAE,qBAE3D8B,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,eAAiB,SAAW,KACvGnW,MAAMc,cAAc,KAAM2L,KAAM,0BAA2B,gBAE5DzM,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,OAAS,SAAW,KAC/FnW,MAAMc,cAAc,KAAM2L,KAAM,kBAAmB,QAGpDzM,MAAMc,cAAc,MAAOD,UAAW,YAGtCb,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,WAAa,SAAW,KACnGnW,MAAMc,cAAc,KAAM2L,KAAM,sBAAuB1O,EAAEG,EAAE,WAAY,MAAO8B,MAAMc,cAAc0E,MAAOjF,KAAM,UAAW,IAAKP,MAAMc,cAAc0E,MAAOjF,KAAM,UAAWM,UAAW,gBAAiB,IAAKb,MAAMc,cAAc0E,MAAOjF,KAAM,kBAAmB,IAAKP,MAAMc,cAAc0E,MAAOjF,KAAM,aAEvSP,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,QAAU,SAAW,KAChGnW,MAAMc,cAAc,KAAM2L,KAAM,mBAAoB1O,EAAEG,EAAE,UAEzD8B,MAAMc,cAAc,MAAOD,UAAW,SAAUS,UAAUoC,QAAqB,GAAX,WACnE1D,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,mBAAoBpB,OAAQzC,OAAOsO,YAAa1S,EAAEG,EAAE,sBAEjG8B,MAAMc,cAAc,MAAOD,UAAW,QACrCb,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,OAAQpB,OAAQzC,OAAOsO,YAAa1S,EAAEG,EAAE,qBAMrFkY,aAAc,WACb,MACCpW,OAAMc,cAAc,OAAQ,KAC9Bd,MAAMc,cAAc,MAAOD,UAAW,WACrC,eAEDb,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,WAAa,SAAW,KACnGnW,MAAMc,cAAc,KAAM2L,KAAM,sBAAuB1O,EAAEG,EAAE,aAE5D8B,MAAMc,cAAc,MAAOD,UAAW,SAASR,KAAK6V,QAAQb,OAAOc,SAAS,QAAU,SAAW,KAChGnW,MAAMc,cAAc,KAAM2L,KAAM,mBAAoB1O,EAAEG,EAAE,UAEzD8B,MAAMc,cAAc,MAAOD,UAAW,QACrCb,MAAMc,cAAc,KAAM2L,KAAM/B,OAAO1E,KAAK,OAAQpB,OAAQzC,OAAOsO,YAAa1S,EAAEG,EAAE,qBAMxFwC,OAAQ,WACP,GAAI2V,GAAU,GAWd,OAT6C,IAAzClU,OAAO+H,YAAY1H,QAAQ,eAC9B6T,EAAU,wBAE4B,IAAnClU,OAAO+H,YAAY1H,QAAQ,SAC9B6T,EAAU,qBAEgC,IAAvClU,OAAO+H,YAAY1H,QAAQ,aAC9B6T,EAAU,oBAAoBlU,OAAOI,SAAS+T,QAG9CtW,MAAMc,cAAc,OAAQU,GAAI,QAC/BxB,MAAMc,cAAc,OAAQU,GAAI,WAC/BxB,MAAMc,cAAc,UAAWD,UAAW,gBACzCb,MAAMc,cAAc,KAAM2L,KAAM,GAAIlH,QAASlF,KAAKyV,eACjD9V,MAAMc,cAAc0E,MAAOjF,KAAM,YAInCe,UAAUgC,WAAajD,KAAK2V,eAAiB3V,KAAK+V,gBAEnDpW,MAAMc,cAAc,OAAQU,GAAI,WAE/BxB,MAAMc,cAAcyV,eAAgBrR,MAAO7E,KAAKoD,MAAMyB,OAAO,KAC7DlF,MAAMc,cAAc0V,cAAehG,YAAanQ,KAAK0V,eAGtD/V,MAAMc,cAAc,OAAQU,GAAI,WAC/BxB,MAAMc,cAAc,KAAM2L,KAAM4J,EAAS7U,GAAI,WAAYxB,MAAMc,cAAc0E,MAAOjF,KAAM,UAC1FP,MAAMc,cAAc,KAAM2L,KAAM,GAAI5L,UAAW,QAAS0E,QAASlF,KAAKyV,eACrEzV,KAAKoD,MAAMyB,MACXlF,MAAMc,cAAc0E,MAAOjF,KAAM,aAAcC,KAAM,QAASK,UAAW,uCAQzE4V,IAAI,SAASnY,EAAQU,EAAOJ,GAEjCoB,MAAQ1B,EAAQ,SAChBY,OAASZ,EAAQ,UAGjBoM,OAASpM,EAAQ,iBAGjB8T,IAAM9T,EAAQ,qBACdP,EAAIO,EAAQ,wBACZ6D,OAAOoM,OAASjQ,EAAQ,UACxBP,EAAEiQ,UACFjQ,EAAE0Q,aAGFkG,EAAIrW,EAAQ,UACZyL,QAAUzL,EAAQ,yBAClBoY,EAAIpY,EAAQ,UACZkH,KAAOlH,EAAQ,qCAGfqY,GAAKrY,EAAQ,eAOdoG,OAASpG,EAAQ,oBACjBiY,cAAgBjY,EAAQ,wBAGxBwB,YAAcxB,EAAQ,mBACtBgD,UAAYhD,EAAQ,kBAGpBmX,OAASnX,EAAQ,eACjB,IAAIsY,GAAenB,OAAOmB,aACtBC,EAAQpB,OAAOoB,MACfC,EAAWrB,OAAOqB,QACtBN,cAAef,OAAOe,aACtBO,KAAOtB,OAAOsB,IAEd,IAAIC,GAAWhX,MAAMC,aAAaC,YAAa,WAC3CQ,OAAQ,WACJ,MACIV,OAAMc,cAAc0V,aAAc,SAK1CS,GACFC,QAAQ,EACRC,KAAM,WACJ,GAAI9W,KAAK6W,OAAQ,OAAO,CAExB5V,WAAUY,QAEV,IAAIkV,GAAS1U,SAAS+F,eAAe,aAEjC4O,EAAQ/Y,EAAQ,6BACpB0B,OAAMU,OAAOV,MAAMc,cAAcuW,EAAO,MAAOD,GAE/C/W,KAAK6W,QAAS,GAIlB/U,QAAOwG,iBAAkBxG,OAAO4M,eAAiB,mBAAqB,aAAe,WACpF,GAAIuI,GAAW5U,SAAS+F,eAAe,eAEnC8O,EAAgBjZ,EAAQ,qBAExBkZ,EAAWlZ,EAAQ,gBACnBmZ,EAAenZ,EAAQ,oBACvBoZ,EAAcpZ,EAAQ,mBACtBqZ,EAAcrZ,EAAQ,mBACtBsZ,EAAmBtZ,EAAQ,wBAC3BuZ,EAAWvZ,EAAQ,gBACnBwZ,EAAexZ,EAAQ,oBACvByZ,EAAYzZ,EAAQ,iBAEpB0Z,EACAhY,MAAMc,cAAc+V,GAAQoB,KAAM,IAAKC,QAASlB,GAC5ChX,MAAMc,cAAc+V,GAAQtW,KAAM,WAAY0X,KAAM,YAAaC,QAASX,GACzEvX,MAAMc,cAAc8V,GAAerW,KAAM,UAAW2X,QAAST,IAC7DzX,MAAMc,cAAc+V,GAAQtW,KAAM,MAAO0X,KAAM,MAAOC,QAASV,IAC/DxX,MAAMc,cAAc+V,GAAQtW,KAAM,SAAU0X,KAAM,SAAUC,QAASR,IACrE1X,MAAMc,cAAc+V,GAAQtW,KAAM,SAAU0X,KAAM,SAAUC,QAASP,IACrE3X,MAAMc,cAAc+V,GAAQtW,KAAM,cAAe0X,KAAM,cAAeC,QAASN,IAC/E5X,MAAMc,cAAc+V,GAAQtW,KAAM,MAAO0X,KAAM,MAAOC,QAASL,IAC/D7X,MAAMc,cAAc+V,GAAQtW,KAAM,UAAW0X,KAAM,UAAWC,QAASJ,IACvE9X,MAAMc,cAAc+V,GAAQtW,KAAM,OAAQ0X,KAAM,OAAQC,QAASH,KAElE/X,MAAMc,cAAcgW,GAAWqB,GAAI,aAK3C1C,QAAO2C,IAAIJ,EAAQ,SAAUK,EAAQna,GACnC,GAAID,GAAE,IACN,KAAKA,EAAIC,EAAE8Z,OAAO,GAAGzX,KAAMtC,EAAIC,EAAE8Z,OAAO,GAAGzX,KAAM,MAAMzC,IACvD4E,SAASyI,KAAKmN,aAAa,aAAcra,GAAG,IAE5C+B,MAAMU,OAAOV,MAAMc,cAAcuX,EAAS,MAAOf,EAAU,WAAWL,EAAiBE,aAI1FhV,OAAO+H,eAAkB/H,OAAOsO,WAAa,QACC,IAA1CtO,OAAOI,SAASD,SAASE,QAAQ,QACpCL,OAAO+H,YAAY3G,KAAK,aAGxBpB,OAAO+H,YAAY3G,KAAK,QAGqB,IAA1CpB,OAAOI,SAASkK,KAAKjK,QAAQ,YAChCL,OAAO+H,YAAY3G,KAAK,WAE0B,IAAzCpB,OAAOI,SAAS+T,OAAO9T,QAAQ,WACxCL,OAAO+H,YAAY3G,KAAK,OACxBpB,OAAOsO,WAAa,UAG6B,IAA9CtO,OAAOI,SAASkK,KAAKjK,QAAQ,iBAChCL,OAAO+H,YAAY3G,KAAK,gBAGgB,IAArC2K,UAAUqK,WAAW/V,QAAQ,QAAYL,OAAO+H,YAAY3G,KAAK,WAC5B,IAArC2K,UAAUqK,WAAW/V,QAAQ,QAAYL,OAAO+H,YAAY3G,KAAK,SAC5B,IAArC2K,UAAUqK,WAAW/V,QAAQ,QAAYL,OAAO+H,YAAY3G,KAAK,QAC1B,IAAvC2K,UAAUqK,WAAW/V,QAAQ,UAAcL,OAAO+H,YAAY3G,KAAK,QAEvE,KAAI,GAAIhF,KAAK4D,QAAO+H,YACnBxH,SAASwF,gBAAgBC,UAAUE,IAAIlG,OAAO+H,YAAY3L,MAExDia,mBAAmB,EAAEC,kBAAkB,EAAEC,oCAAoC,EAAEC,6BAA6B,GAAGC,gBAAgB,GAAGC,oBAAoB,GAAGC,wBAAwB,GAAGC,uBAAuB,GAAGC,iBAAiB,GAAGC,kBAAkB,GAAGC,gBAAgB,GAAGC,kBAAkB,GAAGC,mBAAmB,GAAGC,uBAAuB,GAAGC,eAAe,GAAGC,mBAAmB,GAAGC,eAAe,GAAGC,oBAAoB,GAAGC,YAAc,cAAcC,OAAS,SAASpL,OAAS,SAASqL,MAAQ,QAAQC,uBAAuB,uBAAuBC,eAAe,eAAeC,OAAS,SAASC,OAAS,WAAWC,IAAI,SAAS3b,EAAQU,EAAOJ,GACjoB,GAAIW,GAAqBjB,EAAQ,0BAC7Be,EAAmBf,EAAQ,wBAC3BwB,EAAcxB,EAAQ,mBACtB4b,EAAa5b,EAAQ,mBACrB6b,EAAmB7b,EAAQ,wBAE3B8b,KAAmBC,EAAa,GAAIC,GAAU,EAAOC,EAAS,MAE3C,oBAAZC,YACPH,EAAa,EAEjB,IAAII,MACAC,EAAc,WACdD,IAEQ7W,IAAK,EACLsB,MAAOnH,EAAEG,EAAE,OACXyc,KAAM,SAGN/W,IAAK,GACLsB,MAAOnH,EAAEG,EAAE,iBACXyc,KAAM,WAIN/W,IAAK,GACLsB,MAAOnH,EAAEG,EAAE,wBACXyc,KAAM,SAIN/W,IAAK,IACLsB,MAAOnH,EAAEG,EAAE,yBACXyc,KAAM,SAIN/W,IAAK,GACLsB,MAAOnH,EAAEG,EAAE,YACXyc,KAAM,SAIN/W,IAAK,GACLsB,MAAOnH,EAAEG,EAAE,UAAY,IAAMH,EAAEG,EAAE,OAAS,IAAMH,EAAEG,EAAE,UAAUoQ,cAC9DqM,KAAM,WAGd,KAAI,GAAIpc,KAAKkc,GACTA,EAAUlc,GAAGoc,KAAOvI,IAAIpK,QAAQ,cAAgByS,EAAUlc,GAAGqF,IAAM,UAAY6W,EAAUlc,GAAGoc,KAC5FF,EAAUlc,GAAGgW,QAAUpS,OAAOwF,YAAY,IAAM,8BAA8B8S,EAAUlc,GAAGqF,IAAI,QAInGlB,UACIP,OAAO4M,eACP2L,IAEAvY,OAAOwG,iBAAiB,aAAc+R,GAG1CA,GAEJ,IAAI1G,GAAmB9U,OAAO0b,aAC1BC,KAAM,WAEFxa,KAAKya,SAASvb,EAAmB4X,KAAM9W,KAAK6B,QAC5C7B,KAAKya,SAASvb,EAAmBwb,WAAY1a,KAAK2a,cAClD3a,KAAKya,SAASvb,EAAmB0b,iBAAkB5a,KAAK6a,oBACxD7a,KAAKya,SAASvb,EAAmB4b,iBAAkB9a,KAAK+a,oBACxD/a,KAAKya,SAASvb,EAAmB8b,iBAAkBhb,KAAKib,oBACxDjb,KAAKya,SAASvb,EAAmBgc,sBAAuBlb,KAAKmb,yBAC7Dnb,KAAKya,SAASvb,EAAmBkc,sBAAuBpb,KAAKqb,0BAGjEC,WAAY,WACR,OAAOpB,GACH,IAAK,QACD,IAAI5D,GAAGlN,QAAQ,cAAe2Q,GAAcwB,KAAK,cAA7CjF,SAAiE,SAAS7Y,MAAM,MAAMA,IAC9F,KAEA,KAAK,OACDsU,IAAI3I,QAAQ,cAAeoF,KAAKgN,UAAUzB,MAKtDlY,OAAQ,SAAS4Z,GACb,GAAI/W,GAAQ1E,IAEPia,IACDlI,IAAIvH,IAAI,cAAe,SAAUwH,GAG7B,GAFAiI,GAAU,EAENjI,EAAK7I,OAAO,CACZ4Q,EAAe/H,EAAKjO,UAEpBW,EAAMgX,kBAENhX,EAAMiX,QAAQ5B,GACdrV,EAAM4W,aAENra,UAAU2a,uBAEV,KAAI9Z,OAAO+Z,SAAS,UAAWjI,YAAamG,EAAatb,SAAS,MAAMhB,SAMxFqe,SAAU,SAAS3a,EAAIoJ,GACnB,GAAI7F,GAAQ1E,KACR2P,EAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKpC,GAClC,KAAPwO,EACJoC,IAAIvH,IAAI,cAAcrJ,EAAI,SAAS6Q,GAC3BA,EAAK7I,SACLzE,EAAMsX,oBAAoBhK,EAAKpN,MAC/BF,EAAMiX,QAAQ5B,IAGK,kBAAZxP,IACPA,MAEmB,kBAAZA,IACPA,KAIZoQ,aAAc,SAASxZ,GACnB,GAAU,MAANA,EAGA,MAFA6Y,GAAa,SACbha,MAAK2b,QAAQ5B,EAIjBC,GAAavO,SAAStK,EAEtB,IAAIwO,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKyW,GAClC,KAAPrK,EACA3P,KAAK2b,QAAQ5B,GAEb/Z,KAAK8b,SAAS9B,IAGtBa,mBAAoB,SAASY,EAAQlR,GACjC,GAAI7F,GAAQ1E,KAAMic,GAAe,CAEA,oBAAtBR,GAAOS,cACdT,EAAOS,aAAc,IAEQ,gBAArBT,GAAO7W,KAAKuX,OAAoD,gBAAxBV,GAAO7W,KAAKwX,YAC5DH,GAAe,GAEa,gBAArBR,GAAO7W,KAAKuX,MACnBV,EAAO7W,KAAKwX,SAAW,aAEhBX,GAAO7W,KAAKuX,MAEnBF,GACAxc,EAAYmb,kBAAkBrX,IAAKkY,EAAO7W,KAAKrB,IAAK4Y,MAAOV,EAAO7W,KAAKuX,QAE3EpK,IAAI9G,IAAI,cAAgBwQ,EAAO7W,KAAKrB,IAAKkY,EAAO7W,KAAM,SAAUoN,GACxDA,EAAK7I,QACLzE,EAAMsX,oBAAoBhK,EAAKpN,MAE1B6W,EAAOY,QACRhY,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,eAAgBgH,MAAO4W,EAAO7W,KAAKC,SAEzD4W,EAAOY,QACRhY,OAAO4N,MAAM7M,KAAMkX,QAAQC,iBAAiBvK,GAAOnN,MAAO4W,EAAO7W,KAAKC,MAAOE,OAAQ,UAGtE,kBAAZwF,IACPA,GAAUyH,EAAKpN,UAAYrB,MAAO,IAG1C,IAAIoM,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKkI,SAASgQ,EAAO7W,KAAKrB,MAElE,IAAY,IAAPoM,GAAa8L,EAAkB,YAAG,CACnC,IAAI,GAAIvd,KAAKud,GAAO7W,KAChBmV,EAAapK,GAAOzR,GAAKud,EAAO7W,KAAK1G,EAIzC,IAFA8B,KAAK2b,QAAQ5B,GAETA,EAAapK,GAAOpM,KAAO,EAC3B,IAAI,GAAIrF,KAAKud,GAAO7W,KAChBmN,IAAI3I,QAAQ,cAAgBqS,EAAO7W,KAAKrB,IAAM,IAAMrF,EAAGud,EAAO7W,KAAK1G,GAG3E8B,MAAKsb,eAIbP,mBAAoB,SAASU,EAAQlR,GACjC,GAAI7F,GAAQ1E,IAEZ+R,KAAIhH,KAAK,aAAc0Q,EAAO7W,KAAM,SAASoN,GACrCA,EAAK7I,QACL4Q,EAAa7W,KAAK8O,EAAKpN,MAES,gBAArB6W,GAAO7W,KAAKuX,QACnBV,EAAO7W,KAAKwX,SAAW,OACvB3c,EAAYmb,kBAAkBrX,IAAKyO,EAAKpN,KAAKrB,IAAK4Y,MAAOV,EAAO7W,KAAKuX,SAGpEV,EAAOY,QACRhY,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,cAAegH,MAAO4W,EAAO7W,KAAKC,QAE7DH,EAAMiX,QAAQ5B,GACdrV,EAAM4W,cAEDG,EAAOY,QACRhY,OAAO4N,MAAM7M,KAAMkX,QAAQC,iBAAiBvK,GAAOnN,MAAO4W,EAAO7W,KAAKC,MAAOE,OAAQ,UAGtE,kBAAZwF,IACPA,GAAWyH,EAAKpN,UAAUrB,MAAK,MAI3C0X,mBAAoB,SAASQ,EAAOlR,GAChC,GAAI7F,GAAQ1E,KAERwc,EAAY,WACZzK,IAAI7G,IAAI,cAAcuQ,EAAO7W,KAAKrB,IAAK,SAASyO,GAC5C,GAAIA,EAAK7I,OAAO,CACZ,GAAIsS,EAAO7W,KAAKrB,IAAI,EAAE,CAClB,GAAIoM,GAAQ2E,EAAEyH,UAAUhC,GAAexW,IAAIkY,EAAO7W,KAAKrB,KAC5C,KAAPoM,GACAoK,EAAa/M,OAAO2C,EAAM,GAGlCtL,OAAO4N,MAAM7M,KAA0B,KAAnBqW,EAAO7W,KAAKrB,IAAa7F,EAAEG,EAAE,2BAA6BH,EAAEG,EAAE,cAAgBgH,MAAO4W,EAAO7W,KAAKC,QAErHH,EAAMiX,QAAQ5B,GACdrV,EAAM4W,aAENtc,EAAiBgc,iBAAiBS,GAClChc,EAAYgd,aAER/X,EAAMgY,gBAAkBjB,EAAO7W,KAAKrB,KACpCuW,EAAiB6C,OAAM,OAG3BtY,QAAO4N,MAAM7M,KAAMkX,QAAQC,iBAAiBvK,GAAOnN,MAAO4W,EAAO7W,KAAKC,MAAOE,OAAQ,SAGlE,mBAAZwF,IACPA,EAAUyH,EAAK7I,UAItBsS,GAAOY,OAQRG,IAPIvJ,QAAQvV,EAAEG,EAAE,4BACZ2e,IAEuB,kBAAZjS,IACPA,GAAU,IAO1B4Q,wBAAyB,SAASM,GAChC,GAAI9L,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKkI,SAASgQ,EAAOlY,MAC7D,IAAW,IAAPoM,EAAU,CACZ,OAAO8L,EAAOmB,OACZ,IAAK,IACH7C,EAAapK,GAAOiN,OACtB,MAEA,KAAK,IACH7C,EAAapK,GAAOiN,OACtB,MAEA,SACE7C,EAAapK,GAAOiN,MAAQnB,EAAOmB,MAIvC5c,KAAK2b,QAAQ5B,KAIjBsB,wBAAyB,SAASI,GAChC,GAAI9L,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKkI,SAASgQ,EAAOlY,MAClD,KAAPoM,IACFoK,EAAapK,GAAOkN,MAAQpB,EAAOoB,OAC9B9C,EAAapK,GAAOuE,WAAWzV,OAAO,GACvCsT,IAAI3I,QAAQ,oBAAoB2Q,EAAapK,GAAOuE,MAAM,GAAIuH,EAAOoB,OACzE7c,KAAK2b,QAAQ5B,KAIjBlG,eAAgB,WACZ,MAAOkG,IAGX2C,aAAc,SAASI,GACnB,GAAIA,EACA,OAAOA,GACH,IAAK,OACD,GAAe,EAAX9C,GACe,GAAXA,EACA,MAAO,GAI3B,MAAOA,IAGX+C,cAAe,SAAS5b,GACpBA,EAAKsK,SAAStK,EACd,IAAIwO,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKpC,GAC7C,OAAW,IAAPwO,GACS,IAALxO,EACA4Y,EAAapK,GAAOiN,MAAQ/C,EAAWmD,cAC9B,EAAH7b,IACN4Y,EAAapK,GAAOiN,MAAQ/C,EAAWoD,mBAAmB9b,IAGvDnB,KAAKkd,aAAanD,EAAapK,KAG/B,MAGfwN,SAAU,WACR,MAAOpD,GAAatb,QAGtBke,MAAO,SAASlB,GACZA,EAASA,MAEPvB,EADyB,mBAAhBuB,GAAO2B,MACP3B,EAAO2B,MAEP,OAEXrD,KACAC,EAAa,GACU,mBAAZG,YACPH,EAAa,GACjBC,GAAU,EAEgB,GAArBF,EAAatb,QAAcwb,GAC5Bja,KAAKqd,mBAGbrB,oBAAqB,SAASpX,GAC1B,GAAI+K,GAAQ2E,EAAEyH,UAAUhC,GAAgBxW,IAAKkI,SAAS7G,EAAKrB,MAChD,KAAPoM,EACAoK,EAAapK,GAAS/K,EAEtBmV,EAAa7W,KAAK0B,IAG1B8W,gBAAiB,WACb,GAAIhX,GAAQ1E,IACZoa,GAAU3F,QAAQ,SAAS7P,GACvBF,EAAMsX,oBAAoBpX,MAIlCyY,gBAAiB,WACb,IAAIvb,OAAOwb,cAGX,OAAOpD,GACH,IAAK,QACD,GAAIxV,GAAQ1E,IACZ,KAAIsW,GAAG3O,QAAQ,eACV4T,KAAK,SAAUgC,GACR,GAAiC,GAAvBxD,EAAatb,SACvBsb,EAAewD,EACf7Y,EAAMgX,kBACNhX,EAAMiX,QAAQ5B,MALtBzD,SAQO,SAAS7Y,MACZ,MAAMA,IAClB,KAEA,KAAK,OACD,GAAI+f,GAAQzL,IAAIpK,QAAQ,cACxB,KACI6V,EAAQhP,KAAKC,MAAM+O,GACtB,MAAM/f,GAAOA,IAAG+f,EAAQ,MAEJ,gBAATA,IAA4B,MAAPA,IAC7BzD,EAAeyD,EACfxd,KAAK0b,qBAMrBwB,aAAc,SAAStY,GAOnB,GAN0B,mBAAfA,GAAK6Y,QACqB,mBAAtB7Y,GAAK6Y,OAAY,MACxB7Y,EAAKwX,SAAWxX,EAAK6Y,OAAY,UAC1B7Y,GAAKuX,OAGQ,mBAAjBvX,GAAKwX,SAAwB,CACpC,GAAID,GAAQlb,UAAUyc,mBAAmB9Y,EAAKrB,IACnC,OAAP4Y,IACAvX,EAAKuX,MAAQ1Q,SAAS0Q,IAS9B,OANKvX,EAAKsP,WAAWzV,OAAO,IACxBmG,EAAKiY,MAAQ9K,IAAIpK,QAAQ,oBAAoB/C,EAAKsP,MAAM,KAKrDtP,GAGX+Y,aAAc,WACV3d,KAAK2b,QAAQ5B,IAGjB6D,UAAW,WACP,OAAQ3D,IAGhBtG,GAAiBgJ,QAEjBhe,EAAOJ,QAAUoV,IAEdkK,uBAAuB,EAAEC,uBAAuB,EAAEC,yBAAyB,EAAE3F,kBAAkB,EAAE4F,kBAAkB,KAAKC,IAAI,SAAShgB,EAAQU,EAAOJ,GACvJ,GAAI2f,GAAejgB,EAAQ,oBACvBiB,EAAqBjB,EAAQ,0BAE7BkgB,KAAYC,GAAW,EAAOC,EAAO,EAAGpE,GAAU,EAElDJ,EAAahb,OAAO0b,aACpBC,KAAM,WAEFxa,KAAKya,SAASyD,EAAapH,KAAM9W,KAAK6B,QACtC7B,KAAKya,SAASvb,EAAmBgc,sBAAuBlb,KAAKse,WAGjEzc,OAAQ,WACP,GAAI6C,GAAQ1E,IAEZ,KAAIoe,EAAJ,CAGG,IAAI9H,GAAG3O,QAAQ,QACV4T,KAAK,SAAUgC,GACR,IAAWtD,IACXkE,EAAQZ,EACR7Y,EAAM6Z,YACN7Z,EAAMiX,QAAQwC,MALtB7H,SAQO,SAAS7Y,MAEZ,MAAMA,IAEjB2gB,GAAW,EACXrM,IAAIvH,IAAI,OAAQ,SAASwH,GACxB,GAAIA,EAAK7I,OAAO,CACfgV,EAAQnM,EAAKjO,MACbW,EAAM6Z,WACG,KAAIjI,GAAGlN,QAAQ,OAAQ+U,GAAO5C,KAAK,cAA/BjF,SAAmD,SAAS7Y,MAAM,MAAMA,IACrFiH,EAAMiX,QAAQwC,GAGTC,GAAW,EACXnE,GAAU,MAIlBqE,SAAU,SAAS7C,GACf,GAAI9L,GAAQ2E,EAAEyH,UAAUoC,GAAQ5a,IAAKkY,EAAOlY,KAE5C,QAAOkY,EAAOmB,OACZ,IAAK,IACa,KAAZnB,EAAOlY,KAAU8a,IACV,IAAP1O,GAAWwO,EAAMxO,GAAOiN,QAC5B5c,KAAK2b,QAAQwC,EACf,MAEA,KAAK,IACa,KAAZ1C,EAAOlY,KAAU8a,IACZ,EAALA,IACAA,EAAO,GAEA,IAAP1O,IACAwO,EAAMxO,GAAOiN,QACTuB,EAAMxO,GAAOiN,MAAM,IACnBuB,EAAMxO,GAAOiN,MAAQ,IAE7B5c,KAAK2b,QAAQwC,KAKrBI,UAAW,WACVF,EAAO,CACP,KAAI,GAAIngB,KAAKigB,GACe,KAAjBA,EAAMjgB,GAAGqF,IACX8a,GAAeF,EAAMjgB,GAAG0e,OAAO,EACA,gBAAhBuB,GAAMjgB,GAAGqF,MAC9B8a,GAAQ5S,SAAS0S,EAAMjgB,GAAG0e,OAAO,GAExB,GAALyB,IAAQA,EAAO,IAGvBG,QAAS,WACR,MAAOL,IAGRnB,YAAa,WACZ,MAAOqB,IAGRpB,mBAAoB,SAAS9b,GACzB,GAAIwO,GAAQ2E,EAAEyH,UAAUoC,GAAQ5a,IAAKpC,GACrC,OAAW,IAAPwO,EACOwO,EAAMxO,GAAOiN,MAEb,IAInBje,GAAOJ,QAAUsb,IAEdkE,yBAAyB,EAAEU,mBAAmB,IAAIC,IAAI,SAASzgB,EAAQU,EAAOJ,GACjF,GAAIogB,MACAC,EAAW,IAEXjb,EAAa9E,OAAO0b,aACpBC,KAAM,WAEFxa,KAAKya,SAASpW,OAAO4N,KAAMjS,KAAK6e,QAChC7e,KAAKya,SAASpW,OAAOC,MAAOtE,KAAK8e,SACjC9e,KAAKya,SAASpW,OAAO0a,UAAW/e,KAAKgf,cAGzCH,OAAQ,SAASpD,GACbA,EAAOta,GAAKsK,UAAS,GAAIrK,OAAOC,UAAU,KAC1Coa,EAAOtR,QAAU8U,WAAW,WACxB5a,OAAOC,OAAOnD,GAAGsa,EAAOta,MACzByd,GACHnD,EAAOyD,SAAU,EACjBP,EAAQzb,KAAKuY,GAMbzb,KAAK2b,QAAQgD,IAGjBG,QAAS,SAASrD,GAIVzb,KAAKmf,YAAY1T,SAASgQ,EAAOta,MAIzC6d,YAAa,SAASvD,GAClB,GAAI9L,GAAQ2E,EAAEyH,UAAU4C,GAAUxd,GAAIsK,SAASgQ,EAAOta,KAE3C,KAAPwO,GACAyP,aAAaT,EAAQhP,GAAOxF,UAIpCgV,YAAa,SAAShe,EAAIke,GACtB,GAAI3a,GAAQ1E,KAER2P,EAAQ2E,EAAEyH,UAAU4C,GAAUxd,GAAIA,GACtC,IAAW,IAAPwO,EAAJ,CAEA,IAAIyP,aAAaT,EAAQhP,GAAOxF,SAAU,MAAM1M,IAEhDkhB,EAAQ3R,OAAO2C,EAAO,GAEM,mBAAjB0P,IACP3a,EAAMiX,QAAQgD,KAGtB3a,UAAW,WACP,MAAO2a,IAGXhC,MAAO,WACHgC,OAIRhgB,GAAOJ,QAAUoF,OAEX2b,IAAI,SAASrhB,EAAQU,EAAOJ,GAClC,GAAIkB,GAAcxB,EAAQ,mBAEtB0V,GADoB1V,EAAQ,yBACTA,EAAQ,kBAE3BshB,KAAYC,GAAU,EAAOpB,GAAW,EAExCnd,EAAYpC,OAAO0b,aACnBC,KAAM,WAEFxa,KAAKya,SAAShb,EAAYqX,KAAM9W,KAAK6B,QAErC7B,KAAKya,SAAShb,EAAYggB,YAAazf,KAAK0f,eAC5C1f,KAAKya,SAAShb,EAAYkgB,YAAa3f,KAAK4f,eAC5C5f,KAAKya,SAAShb,EAAYogB,YAAa7f,KAAK8f,eAC5C9f,KAAKya,SAAShb,EAAYsgB,YAAa/f,KAAKggB,eAC5ChgB,KAAKya,SAAShb,EAAYwgB,WAAYjgB,KAAKkgB,cAC3ClgB,KAAKya,SAAShb,EAAYgd,WAAYzc,KAAKyc,YAE3Czc,KAAKya,SAAShb,EAAYmb,iBAAkB5a,KAAK6a,oBACjD7a,KAAKya,SAAShb,EAAY0gB,gBAAiBngB,KAAKogB,mBAEhDpgB,KAAKya,SAAShb,EAAYgT,eAAgBzS,KAAKqgB,kBAC/CrgB,KAAKya,SAAShb,EAAY6gB,aAActgB,KAAKugB,gBAC7CvgB,KAAKya,SAAShb,EAAY+gB,OAAQxgB,KAAKygB,UACvCzgB,KAAKya,SAAShb,EAAYihB,OAAQ1gB,KAAK2gB,UACvC3gB,KAAKya,SAAShb,EAAYmhB,OAAQ5gB,KAAK6gB,WAG3Chf,OAAQ,SAAS0I,GACb,GAAI6T,EAGF,YAFuB,kBAAZ7T,IACPA,GAAS,GAIf,IAAI7F,GAAQ1E,IACZoe,IAAW,EACXpe,KAAKqd,kBAELtL,IAAIvH,IAAI,OAAQ,SAASwH,GACrB,GAAI8O,GAAa,WACX9O,EAAK7I,QACLoW,EAAQvN,EAAKhR,KACbwe,GAAU,EACV9a,EAAMqc,gBAERxB,KACAC,GAAU,GAMZzN,IAAI3I,QAAQ,OAAQoF,KAAKgN,UAAU+D,GACnC,KAAIjJ,GAAGlN,QAAQ,UAAWmW,EAAMhc,KAAO,GAAGgY,KAAK,cAA3CjF,SAA+D,SAAS7Y,MAAM,MAAMA,IAExF2gB,GAAW,EAEX1Z,EAAMiX,QAAQ4D,GACd7a,EAAMkX,wBACNlX,EAAMsc,iBAGR,IAA2B,iBAAfhP,GAAK7I,QAA6C,iBAAb6I,GAAKiP,KACpD,IAAI3K,GAAG3O,QAAQ,WACZ4T,KAAK,SAAS2F,GACb,GAAIC,GAAoB,IACxB,KAAIA,EAAoB1V,SAASuG,EAAKhR,KAAKuC,KAAM,MAAM9F,IAElDuU,EAAK7I,QAAiBsC,SAASyV,IAAYC,EAC9CL,IAEApc,EAAM0c,YAAYN,GAGG,kBAAZvW,IAAwBA,EAASyH,EAAK7I,UAXjDmN,SAaK,SAAS7Y,GACdqjB,MACE,MAAMrjB,GACRqjB,QAGmB,kBAAZvW,IAAwBA,EAASyH,EAAK7I,WAK3D6X,eAAgB,WACd,IACE,GAAIhW,IACFqW,OAAQ,WACRC,QAAS/B,EAAMhc,IACfrD,KAAMqf,EAAMjf,SACZ6C,MAAOoc,EAAMpc,OAAS,GACtBoe,WAAYC,KAAKC,MAAM,GAAIrgB,MAAKme,EAAMmC,YAAYrgB,UAAU,KAC5DsgB,IAAKpC,EAAMoC,MAAO,EAClBC,QAASrC,EAAMqC,YAAYnjB,QAAU,EACrCojB,SAAU,MAGRtC,GAAMjO,YACRtG,EAAK8W,WAAaN,KAAKC,MAAM,GAAIrgB,MAAKme,EAAMjO,WAAWjQ,UAAU,MAE9C,mBAAVS,SACqB,mBAAnBA,QAAO+Z,UAChB/Z,OAAO+Z,SAAS,OAAQ7Q,GAGA,mBAAjB+W,iBACT/W,EAAK6W,SAAW,YACT7W,GAAKqW,OACZU,cAAcC,gBAAgBhX,EAAKsW,QAAQ,GAAItW,IAEjD,MAAMvN,IAER,IACEwkB,MAAMC,gBACJ/e,MAAOoc,EAAMpc,MACbhC,GAAIoe,EAAMhc,MAEb,MAAM9F,MAGTiiB,cAAe,SAASjE,GACpB,GAAI9L,GAAQ2E,EAAEyH,UAAWwD,EAAMqC,YAAezgB,GAAIsa,EAAOta,IAC9C,KAAPwO,IACA4P,EAAMqC,OAAOjS,GAAOwS,QAAU5C,EAAMqC,OAAOjS,GAAOwS,OAClDniB,KAAKyc,eAIbmD,cAAe,SAASnE,GACpB,GAAI9L,GAAQ2E,EAAEyH,UAAWwD,EAAMqC,YAAezgB,GAAIsa,EAAOta,IACzD,IAAW,IAAPwO,EAAW,CACX,IAAI,GAAIzR,KAAKud,GAAO7W,KAChB2a,EAAMqC,OAAOjS,GAAOzR,GAAKud,EAAO7W,KAAK1G,EAEzC8B,MAAKyc,WAAW,SAASzK,GACjBA,EAAK7I,OACL9E,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,eAAgBgH,MAAO4W,EAAO7W,KAAKC,QAE1DR,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,aAAcgH,MAAO4W,EAAO7W,KAAKC,MAAOE,OAAQ,cAKvF+a,cAAe,SAASrE,EAAQlR,GACU,gBAA3BkR,GAAO7W,KAAKgP,cACrB6H,EAAO7W,KAAKgP,YAAcpF,KAAKC,MAAMgN,EAAO7W,KAAKgP,cAEnD2L,EAAMqC,OAAO1e,MACT2B,MAAO4W,EAAO7W,KAAKC,MACnBsd,QAAQ,EACRhhB,IAAI,GAAIC,OAAOC,UACf+gB,MAAO7C,EAAMqC,YAAYnjB,OACzBmV,YAAa6H,EAAO7W,KAAKgP,kBAE7B5T,KAAKyc,WAAW,SAASzK,GAChByJ,EAAOY,SACNrK,EAAK7I,OACL9E,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,cAAegH,MAAO4W,EAAO7W,KAAKC,QAEzDR,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,aAAcgH,MAAO4W,EAAO7W,KAAKC,MAAOE,OAAQ,WAEtD,kBAAZwF,IACTA,EAASyH,EAAK7I,SACjBsS,IAGPuE,cAAe,SAASvE,GACpB,GAAI9L,GAAQ2E,EAAEyH,UAAWwD,EAAMqC,YAAezgB,GAAIsa,EAAOta,KAAOgI,GAAS,EAAOtE,EAAQ,EAC7E,KAAP8K,IACA9K,EAAQ0a,EAAMqC,OAAOjS,GAAO9K,MACsB,IAA7C0a,EAAMqC,OAAOjS,GAAOiE,iBAAiBnV,SACtC8gB,EAAMqC,OAAO5U,OAAO2C,EAAO,GAC3BxG,GAAS,IAIbA,GACAnJ,KAAKyc,aACLpY,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,iBAAkBgH,MAAOA,KAEhDR,OAAO4N,MAAM7M,KAAM1H,EAAEG,EAAE,oBAAqBgH,MAAOA,EAAOE,OAAQ,WAI1Emb,aAAc,SAASzE,GACrB,GAAIA,EAAO4G,QAAQ5G,EAAO6G,KACxB,OAAO,CAET,IAAIC,GAAYjO,EAAEyH,UAAUwD,EAAMqC,QAASzgB,GAAIsK,SAASgQ,EAAO4G,UAC3DG,EAAUlO,EAAEyH,UAAUwD,EAAMqC,QAASzgB,GAAIsK,SAASgQ,EAAO6G,OAE7D,IAAgB,IAAXC,GAA0B,IAATC,EAQpB,OAAO,CAPPjD,GAAMqC,OAAStF,QAAQmG,UAAUlD,EAAMqC,OAAQW,EAAWC,EAC1D,KAAI,GAAItkB,KAAKqhB,GAAMqC,OACjBrC,EAAMqC,OAAO1jB,GAAGkkB,KAAOlkB,CAGzB8B,MAAKyc,cAMT5B,mBAAoB,SAASY,GACzB,GAAIiH,IAAa,EAAOC,GAAQ,CAEL,oBAAhBlH,GAAOU,QACdV,EAAOU,MAAQ,GAEnB,KAAI,GAAIje,KAAKqhB,GAAMqC,OACf,IAAI,GAAIgB,KAAMrD,GAAMqC,OAAO1jB,GAAG0V,gBACtB2L,EAAMqC,OAAO1jB,GAAG0V,YAAYgP,IAAInH,EAAOlY,MACnCkY,EAAOU,OAASje,IAChBqhB,EAAMqC,OAAO1jB,GAAG0V,YAAY5G,OAAO4V,EAAG,GACtCF,GAAa,GAEjBC,GAAQ,IAGhB,IAAgBA,KACZlH,EAAOU,OAAO,IACuC,gBAA1CoD,GAAMqC,OAAOnG,EAAOU,OAAOvI,cAClC2L,EAAMqC,OAAOnG,EAAOU,OAAOvI,gBAEJ,mBAAhB6H,GAAOoH,MAChBtD,EAAMqC,OAAOnG,EAAOU,OAAOvI,YAAYkP,QAAQrH,EAAOlY,KAEtDgc,EAAMqC,OAAOnG,EAAOU,OAAOvI,YAAY1Q,KAAKuY,EAAOlY,KACrDgc,EAAMqC,OAAOnG,EAAOU,OAAOgG,QAAS,GAGxCniB,KAAKyc,eAIb2D,kBAAmB,SAAS3E,GAC1B,GAAIA,EAAO4G,QAAQ5G,EAAO6G,KACxB,OAAO,CAET,IAAIS,IACEpT,MAAO,IAETmI,GACEnI,MAAO,GAIb,KAAI,GAAIzR,KAAKqhB,GAAMqC,OAAO,CACxB,GAAIoB,IAAYzD,EAAMqC,OAAO1jB,GAAG0V,iBAAiBzR,QAAQsJ,SAASgQ,EAAO4G,SACrEY,GAAU1D,EAAMqC,OAAO1jB,GAAG0V,iBAAiBzR,QAAQsJ,SAASgQ,EAAO6G,MAYvE,IAVc,IAAVU,IACFD,EAAKpT,MAAQqT,EACbD,EAAK5G,MAAQje,GAGH,IAAR+kB,IACFnL,EAAGnI,MAAQsT,EACXnL,EAAGqE,MAAQje,GAGI,IAAZ6kB,EAAKpT,OAAuB,IAAVmI,EAAGnI,MACxB,MAIJ,GAAiB,IAAZoT,EAAKpT,OAAuB,IAAVmI,EAAGnI,MAAW,CACnC,GAAIoT,EAAK5G,OAASrE,EAAGqE,MACnBoD,EAAMqC,OAAOmB,EAAK5G,OAAOvI,YAAc0I,QAAQmG,UAAUlD,EAAMqC,OAAOmB,EAAK5G,OAAOvI,YAAamP,EAAKpT,MAAOmI,EAAGnI,WAE5G,CACF,GAAIqT,GAAWzD,EAAMqC,OAAOmB,EAAK5G,OAAOvI,YAAYmP,EAAKpT,MACzD4P,GAAMqC,OAAOmB,EAAK5G,OAAOvI,YAAY5G,OAAO+V,EAAKpT,MAAM,GAEvD4P,EAAMqC,OAAO9J,EAAGqE,OAAOvI,YAAY5G,OAAO8K,EAAGnI,MAAO,EAAGqT,GAGzDhjB,KAAKyc,eAIT4D,iBAAkB,SAAS5E,EAAQlR,GACJ,gBAAhBgV,GAAM2D,SACb3D,EAAM2D,WAEV3D,EAAM2D,OAAOxV,KAAO+N,EAAO/N,KAC3B1N,KAAKmjB,YAAYzV,KAAK6R,EAAM2D,OAAOxV,MAAOnD,IAG9CgW,eAAgB,SAAS9E,EAAQlR,GACJ,gBAAhBgV,GAAM2D,SACb3D,EAAM2D,UAEV,KAAI,GAAIhlB,KAAKud,GACX8D,EAAM2D,OAAOhlB,GAAKud,EAAOvd,EAE3B8B,MAAKmjB,WAAW1H,EAAQlR,IAG1BkW,SAAU,SAASlW,GACjB,GAAI7F,GAAQ1E,IACZ0E,GAAM0c,YAAY,WAChBrP,IAAIvH,IAAId,QAAQC,OAAO,gBAAiB,WACtCjF,EAAMiY,QACNpS,SAKNoW,SAAU,SAASpW,EAAUkR,GAC3B,GAAI/W,GAAQ1E,IACS,oBAAVyb,KAAuBA,KAElC,IAAIlT,GAAM,YAAwD,KAAxCzG,OAAO+H,iBAAiB1H,QAAQ,OAAc,aAAe,GACnFsZ,GAAO2H,SACT7a,EAAM,gBAA4D,KAAxCzG,OAAO+H,iBAAiB1H,QAAQ,OAAc,wCAA0C,KAEnE,KAA5CL,OAAO+H,iBAAiB1H,QAAQ,WACnCL,OAAOI,SAAYwH,QAAQC,OAAOpB,GACkB,KAA5CzG,OAAO+H,iBAAiB1H,QAAQ,YACxCL,OAAOI,SAASmhB,KAAO,aACvBC,cAAcC,UAAU7Z,QAAQC,OAAOpB,IAAOoE,MAAO,IAAKgE,OAAQ,OAE1C,mBAAV6S,QACdA,OAAOC,QAAQC,QACbnb,IAAKmB,QAAQC,OAAOpB,GACpBjG,KAAM,QACNqK,MAAO,IACPgE,OAAQ,KACP,SAASgT,GACVH,OAAOC,QAAQG,UAAUC,YAAY,SAAS1iB,GACxCA,GAAMwiB,EAAIxiB,IACZuD,EAAM0c,YAAY7W,QAIxBzI,OAAOwH,KAAKI,QAAQC,OAAOpB,GAAM,iBAAkB,iGACnDzG,OAAOI,SAASmhB,KAAO,eAe3BxC,SAAU,SAAStW,GACjB,GAAI7F,GAAQ1E,IAEqC,MAA5C8B,OAAO+H,iBAAiB1H,QAAQ,WACnCL,OAAOI,SAAYwH,QAAQC,OAAO,mBAA+D,KAAxC7H,OAAO+H,iBAAiB1H,QAAQ,OAAc,aAAe,KAClE,KAA5CL,OAAO+H,iBAAiB1H,QAAQ,YACxCL,OAAOI,SAASmhB,KAAO,aACvBC,cAAcC,UAAU7Z,QAAQC,OAAO,8BAA+BgD,MAAO,IAAKgE,OAAQ,OAElE,mBAAV6S,QACdA,OAAOC,QAAQC,QACbnb,IAAKmB,QAAQC,OAAO,6BACpBrH,KAAM,QACNqK,MAAO,IACPgE,OAAQ,KACP,SAASgT,GACVH,OAAOC,QAAQG,UAAUC,YAAY,SAAS1iB,GACxCA,GAAMwiB,EAAIxiB,IACZuD,EAAM0c,YAAY7W,QAIxBzI,OAAOwH,KAAKI,QAAQC,OAAO,6BAA8B,iBAAkB,iGAC3E7H,OAAOI,SAASmhB,KAAO,eAe3BjC,YAAa,SAAS7W,GACpB,GAAIrC,GAAK6J,IAAIpK,QAAQ,mBAGjBoK,KAAIlG,QACJkG,IAAI3I,QAAQ,kBAAkB,QAC9B2I,IAAI3I,QAAQ,mBAAmBlB,EAC/B,KACEoO,GAAGzK,MAAM,SAASlB,GAChBJ,MAEH,MAAM9M,GAAG8M,MAMhBrJ,QAAS,WAIL,MAHwB,mBAAbqe,GAAMhc,KACbvD,KAAKqd,kBAEF/I,EAAEwP,MAAMvE,IAGnBwE,SAAU,SAAS5iB,GACf,GAAIwO,GAAQ2E,EAAEyH,UAAWwD,EAAMqC,YAAezgB,GAAIA,GAClD,OAAW,IAAPwO,EACO4P,EAAMqC,OAAOjS,GAEb,MAGf1M,SAAU,WACR,MAAOuc,IAGT5B,UAAW,WACT,MAAOQ,IAGT/a,MAAO,WACL,MAAImc,IACED,EAAMoC,KACD,GAEJ,GAGThF,MAAO,WACH4C,KACAC,GAAU,EACVpB,GAAW,GAGf2C,YAAa,WACT,IAAKxB,EAAMqC,YAAYnjB,OAAO,EAAG,CAC7B,IAAK,GAAIP,KAAKqhB,GAAMqC,OACoB,OAA/BrC,EAAMqC,OAAO1jB,GAAGiD,IAAM,QACvBoe,EAAMqC,OAAO1jB,GAAGiD,GAAKsK,SAASvN,GAEtCqhB,GAAMqC,OAAStN,EAAEC,OAAOgL,EAAMqC,OAAQ,SAAUhd,GAC5C,MAAOA,GAAKwd,WAGhB7C,GAAMqC,SAAWzgB,GAAG,EAAGihB,KAAM,EAAGvd,MAAOnH,EAAEG,EAAE,iBAAkBskB,QAAQ,KAI7E1F,WAAY,SAASlS,EAAUkR,GAM7B,GAJAA,EAASA,MAC6B,mBAA3BA,GAAOuI,mBAChBvI,EAAOuI,kBAAmB,GAEvBrQ,EAAiBwJ,WAAW,GAAK1B,EAAuB,iBAC3D,IAAI,GAAIvd,KAAKqhB,GAAMqC,OAAO,CACxB,GAAIqC,KACJ,KAAI,GAAIrB,KAAMrD,GAAMqC,OAAO1jB,GAAG0V,gBACwC,MAAhED,EAAiBoJ,cAAcwC,EAAMqC,OAAO1jB,GAAG0V,YAAYgP,KAC7DqB,EAAQ/gB,KAAK0f,EAEjBtO,GAAE4P,OAAO3E,EAAMqC,OAAO1jB,GAAG0V,YAAaqQ,GAI1CjkB,KAAKmjB,YAAYvB,OAAOrC,EAAMqC,QAASrX,IAGzC4Z,kBAAmB,SAAS5Z,GAC1B,GAAI0Z,KAEJ,KAAI,GAAI/lB,KAAKqhB,GAAMqC,OAC6B,IAAzCrC,EAAMqC,OAAO1jB,GAAG0V,iBAAiBnV,QACpCwlB,EAAQ/gB,KAAKhF,EAGjBoW,GAAE4P,OAAO3E,EAAMqC,OAAQqC,GACvBjkB,KAAKyc,WAAWlS,GAAWyZ,kBAAkB,KAG/Cb,WAAY,SAAS1H,EAAQlR,GACQ,mBAAtBkR,GAAOS,cACdT,EAAOS,aAAc,EAEzB,KACMT,EAAOS,cACTqD,EAAM2D,OAAOzH,EAAOvb,OAAQ,GAE/B,MAAMzC,IAGPsU,IAAI9G,IAAI,aAAcwQ,EAAQ,SAASzJ,GACd,kBAAVzH,IACPA,EAASyH,KAEjBD,IAAI3I,QAAQ,OAAQoF,KAAKgN,UAAU+D,IACnCvf,KAAK2b,QAAQ4D,IAGjB7B,mBAAoB,SAAS0G,GACzB,IAAI,GAAIlmB,KAAKqhB,GAAMqC,OACf,IAAI,GAAIgB,KAAMrD,GAAMqC,OAAO1jB,GAAG0V,gBAC1B,GAAI2L,EAAMqC,OAAO1jB,GAAG0V,YAAYgP,IAAIwB,EAChC,MAAO3Y,UAASvN,EAC5B,OAAO,OAGXmmB,UAAW,SAAS3jB,GAChB,GAAI6c,IAAM,CACV,KAAIA,EAAMgC,EAAM2D,OAAOxiB,GAAM,MAAMjD,IACnC,MAAO8f,IAGX3B,sBAAuB,WACrB,GAAM3a,EAAUgC,aAAiBhC,EAAU2c,aAAiBjK,EAAiBwJ,WAAW,IAAQxJ,EAAiBiK,YAAc,CAC7H,GAAI0G,MACA1Q,EAAcD,EAAiBE,gBAuBnC,IArBAD,EAAYa,QAAQ,SAAS8P,GAC3B,GAAI5B,GAAS4B,EAAKhhB,KAAK,CAEG,oBAAfghB,GAAK9G,SACdkF,GAAQ,GAEkB,mBAAjB4B,GAAKnI,WACduG,GAAQ,IAETpD,EAAMqC,YAAYnN,QAAQ,SAAS0H,GAClC,GAAIqI,IAAWrI,EAAMvI,iBAAiB6Q,KAAK,SAASL,GAClD,MAAS3Y,UAAS2Y,IAAU3Y,SAAS8Y,EAAKhhB,MAExCihB,KACF7B,GAAQ,KAGPA,GACH2B,EAAQphB,KAAKuI,SAAS8Y,EAAKhhB,QAG3B+gB,EAAQ7lB,OAAO,EAAE,CACnB6lB,EAAUhQ,EAAEoQ,KAAKJ,EAEjB,IAAI3U,GAAQ2E,EAAEyH,UAAWwD,EAAMqC,YAAe/c,MAAOnH,EAAEG,EAAE,kBAC9C,KAAP8R,EACA4P,EAAMqC,OAAOjS,GAAOiE,aAAe2L,EAAMqC,OAAOjS,GAAOiE,iBAAiBS,OAAOiQ,IAG/E/E,EAAMqC,OAASrC,EAAMqC,WACrBrC,EAAMqC,OAAO1e,MAAM/B,GAAIoe,EAAMqC,OAAOnjB,OAAQ2jB,KAAM7C,EAAMqC,OAAOnjB,OAAQoG,MAAOnH,EAAEG,EAAE,iBAAkBskB,QAAQ,EAAOvO,YAAa0Q,KAGpIrjB,EAAUwb,gBAKhBY,gBAAiB,WACb,IAAIvb,OAAOwb,gBAGPkC,EAAJ,CAGAA,GAAU,CAEV,IAAIhC,GAAQzL,IAAIpK,QAAQ,OACxB,KACI6V,EAAQhP,KAAKC,MAAM+O,GACtB,MAAM/f,GAAOA,IAAG+f,EAAQ,MAEJ,gBAATA,IAA4B,MAAPA,IAC7B+B,EAAQ/B,EACJ+B,EAAMhc,MACRic,GAAU,EACVxf,KAAK+gB,kBAKf4D,YAAa,SAASthB,EAAOiO,GAC3BiO,EAAMoC,IAAMte,EACZkc,EAAMjO,UAAYA,IAIxB3S,GAAOJ,QAAU0C,IAEd2jB,wBAAwB,EAAExM,kBAAkB,EAAEyM,gBAAgB,UAAU","file":"js/settings.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar BookmarkActions = Reflux.createActions([\n    'load',\n    'parseURL',\n    'loadBookmark',\n    'insertBookmark',\n    'updateBookmark',\n    'updateSelectedBookmarks',\n    'removeBookmark',\n    'removeSelectedBookmarks',\n    'copySelectedBookmarks',\n    'swapBookmarks',\n    'saveAllSort',\n    'syncMove',\n    'initFavorites',\n    'setSelected',\n    'selectAll',\n    'clearSelect',\n    'reset'\n]);\n\nmodule.exports = BookmarkActions;\n\n},{}],2:[function(require,module,exports){\nvar ChildrensActions = Reflux.createActions([\n    'load',\n    'swapCollections',\n    'saveAllSort',\n    'removeCollection'\n]);\n\nmodule.exports = ChildrensActions;\n\n},{}],3:[function(require,module,exports){\nvar CollectionsActions = Reflux.createActions([\n    'load',\n    'setCurrent',\n    'updateCollection',\n    'insertCollection',\n    'removeCollection',\n    'updateCountCollection',\n    'updateColorCollection'\n]);\n\nmodule.exports = CollectionsActions;\n\n},{}],4:[function(require,module,exports){\nvar ModalFrameActions = Reflux.createActions([\n    'show'\n]);\n\nmodule.exports = ModalFrameActions;\n\n},{}],5:[function(require,module,exports){\nmodule.exports = Reflux.createActions([\n    'load'\n]);\n\n},{}],6:[function(require,module,exports){\nvar ToastActions = Reflux.createActions([\n    'show',\n    'close',\n    'stopTimer'\n]);\n\nmodule.exports = ToastActions;\n\n},{}],7:[function(require,module,exports){\nvar UserActions = Reflux.createActions([\n    'load',\n    'toggleGroup',\n    'updateGroup',\n    'insertGroup',\n    'removeGroup',\n    'swapGroups',\n    'saveGroups',\n    'updateCollection',\n    'updateLanguage',\n    'updateConfig',\n    'swapCollections',\n    'logOut',\n    'signIn',\n    'signUp'\n]);\n\nmodule.exports = UserActions;\n\n},{}],8:[function(require,module,exports){\n/** @jsx React.DOM */\n\nmodule.exports = React.createClass({\n  displayName: \"Helpers/Icon\",\n\n  shouldComponentUpdate: function(nextProps) {\n    if (this.props.name != nextProps.name)\n      return true;\n\n    if (this.props.size != nextProps.size)\n      return true;\n\n    if (this.props.style != nextProps.style)\n      return true;\n\n    return false;\n  },\n\n  render: function() {\n      var fullName = this.props.name+(this.props.size ? \"-\"+this.props.size : \"\");\n      var useTag = '<use xlink:href=\"#'+fullName+'\" />',\n          className = \"icn\"+(this.props.size ? \" icn-\"+this.props.size : \"\");\n\n      if (this.props.className)\n        className += \" \"+this.props.className;\n\n      return (\n          React.createElement(\"svg\", {key: \"icon_\"+fullName, className: className, \"data-name\": this.props.name, style: this.props.style||null, dangerouslySetInnerHTML: {__html: useTag}})\n      );\n  }\n});\n\n},{}],9:[function(require,module,exports){\nmodule.exports = React.createClass({\n    displayName: \"Helpers/UserVoice\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tuser: UserStore.getUser(),\n\t\t\tid: 'feedback-uservoice-' + new Date().getTime().toString(),\n\t\t\tloading: true\n\t\t}\n\t},\n\n\tonUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user,\n            password: {},\n            loading: false\n        });\n    },\n\n    componentWillMount: function() {\n        UserStore.onLoad();\n\n        if (typeof window.UserVoice == \"undefined\"){\n        \tvar key = \"jlb8wSxdcZRy8qdRNzP1OQ\";\n        \tif (t.getLang()==\"ru_RU\")\n        \t\tkey = \"Kbyq0Zv9xshiMnm61ryC7g\";\n\n        \tvar protocol = \"\";\n        \tif (window.location.protocol.indexOf(\"http\")==-1)\n        \t\tprotocol = \"https:\";\n\n        \tUserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src=protocol+'//widget.uservoice.com/'+key+'.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();\n    \t}\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n    componentDidUpdate: function() {\n    \tif (UserStore.isLogged()){\n\t    \tUserVoice.push(['identify',{\n\t\t\t\t\t\t\temail:\t\tthis.state.user.email,\n\t\t\t\t\t\t\tname:\t\tthis.state.user.fullName,\n\t\t\t\t\t\t\ttype:\t\t(UserStore.isPro() ? \"PRO\" : \"Free\"),\n\t\t\t\t\t\t\taccount: {\n\t\t\t\t\t\t\t\t_id:\tthis.state.user._id,\n\t\t\t\t\t\t\t\tname:\tthis.state.user.fullName,\n\t\t\t\t\t\t\t\tplan:\t(UserStore.isPro() ? \"PRO\" : \"Free\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]);\n    \t}\n\n        UserVoice.push(['embed', '#' + this.state.id, {mode: this.props.mode}]);\n    },\n\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {id: this.state.id, className: \"userVoice\"})\n\t\t);\n\t}\n});\n\n},{}],10:[function(require,module,exports){\n/** @jsx React.DOM */\nvar ToastStore = require('../../stores/Toast');\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\nmodule.exports = React.createClass({\n  displayName: \"Toast\",\n\n    //mixins: [PureRenderMixin],\n\n    getInitialState: function() {\n        return {\n            items: ToastStore.getToasts()\n        }\n    },\n\n    onToastsChange: function(toasts) {\n        if (this.isMounted()) this.setState({items:toasts});\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeToast = ToastStore.listen(this.onToastsChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeToast();\n    },\n\n    handleCloseItem: function(e) {\n        Toasts.close({id: e.target.getAttribute(\"data-id\")});\n    },\n\n    handleStopTimer: function(e) {\n        //Toasts.stopTimer({id: e.target.getAttribute(\"data-id\")});\n    },\n\n    render: function() {\n        var _this = this;\n\n        var items = this.state.items.map(function(item){\n            var title = null;\n            if (item.title)\n                title = React.createElement(\"div\", {className: \"title\"}, React.createElement(\"strong\", null, item.title));\n\n            var icon = \"info-outline\";\n            if (item.status||\"\" == \"error\")\n                icon = \"cancel\";\n\n            return (\n                React.createElement(\"li\", {key: \"toast_\"+item.id, \"data-id\": item.id, id: \"toast-\"+item.id, onMouseEnter: _this.handleStopTimer, onClick: _this.handleCloseItem}, \n                    React.createElement(\"div\", {className: \"item-wrap status-\"+item.status||\"\"}, \n                        React.createElement(\"div\", null, React.createElement(Icon, {name: icon})), \n                        React.createElement(\"div\", null, \n                            title, \n                            React.createElement(\"div\", {className: \"excerpt\"}, item.text)\n                        )\n                    )\n                )\n            );\n        });\n\n        return (\n            React.createElement(ReactCSSTransitionGroup, {component: \"ul\", transitionName: \"toastanim\", transitionEnterTimeout: 300, transitionLeaveTimeout: 300}, \n                items\n            )\n        );\n    }\n});\n\n},{\"../../stores/Toast\":28}],11:[function(require,module,exports){\nvar host = \"https://raindrop.io\",\n    apiPrefix = \"/api/\";\n\nmodule.exports = {\n    host: host,\n    apiPrefix: host + apiPrefix,\n    screenshotService: host + \"/screenshot/?url=\",\n    contentTypes: [\"link\", \"article\", \"image\", \"video\"],\n\n    proPage: host + \"/static/pro\",\n    modalMargin: 30,\n\n    languages: {\n        \"id_ID\": \"Bahasa Indonesia\",\n        \"de_DE\": \"Deutsch\",\n        \"en_US\": \"English\",\n        \"es_ES\": \"Espaol\",\n        \"fr_FR\": \"Franais\",\n        \"nl_NL\": \"Nederlands\",\n        \"pl_PL\": \"Polski\",\n        \"pt_BR\": \"Portugus (Brasil)\",\n        \"sv_SE\": \"Svenska\",\n        \"fi_FI\": \"Suomi\",\n        \"tr_TR\": \"Trke\",\n        \"kk_KZ\": \" \",\n        \"ru_RU\": \"\",\n        \"uk_UA\": \" \",\n        \"ko_KR\": \"\",\n        \"zh_TW\": \" ()\",\n        \"zh_CN\": \"\",\n        \"hy_AM\": \"\"\n    },\n\n    backgroundImages: [\n        {\n            src: \"\",\n            contrast: \"black\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/reflectiononthelake.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/milleniumbridge.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/empireofthealps.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/brown-sunset.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/san-francisco.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/rocks.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/material-geometry.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/brown-rocks.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/material-view.jpg\",\n            contrast: \"black\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/surf.jpg\",\n            contrast: \"white\"\n        },\n        {\n            src: (window.pathPrefix||\"\") + \"images/themes/silver.jpg\",\n            contrast: \"black\"\n        }\n    ],\n\n    getBackgroundSelected: function() {\n        var prefs = null, current = 0;\n        try{\n            if (localStorage.getItem(\"background-image\")!=null)\n              prefs = localStorage.getItem(\"background-image\");\n        }catch(e){}\n\n        for(var i in this.backgroundImages)\n            if (this.backgroundImages[i].src == prefs){\n                current = i;\n                break;\n            }\n        return current;\n    },\n\n    setBackground: function(pathPrefix) {\n        var i = this.getBackgroundSelected();\n\n        if (i>=0){\n            var current = this.backgroundImages[i];\n\n            /*var setBg = function() {\n                if (document.getElementById('app-background')!=null)\n                    document.getElementById('app-background').style.backgroundImage = \"url(\"+(pathPrefix||\"\")+current.src+\")\";\n            }\n            if (document.getElementById('app-background')!=null)\n                setBg();\n            else\n                document.addEventListener(\"DOMContentLoaded\", setBg);*/\n\n            //document.documentElement.style.backgroundImage = \"url(\"+(pathPrefix||\"\")+current.src+\")\";\n            document.documentElement.classList.remove(\"contrast-white\");\n            document.documentElement.classList.remove(\"contrast-black\");\n            document.documentElement.classList.add(\"contrast-\"+current.contrast||\"black\");\n\n            var trySetBg = function(bg) {\n                var setBg = function(){\n                    if (document.getElementById('app-background')!=null)\n                        document.getElementById('app-background').style.backgroundImage='url(\"'+bg+'\")';\n                }\n                if (document.getElementById('app-background')!=null)\n                    setBg();\n                else\n                    document.addEventListener(\"DOMContentLoaded\", setBg);\n            };\n\n            //Load from HTTP\n            if (!current.src){\n                trySetBg(\"about:blank\");\n                return;\n            }\n\n            var url = (pathPrefix||\"\")+current.src;\n            var tempBg = null;\n            try{localStorage.getItem(url);}catch(e){}\n\n            if (tempBg == null){\n                var xmlhttp = new XMLHttpRequest();\n                var fileReader = new FileReader();\n\n                xmlhttp.onload = function() {\n                  if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n                    var blob = new Blob([xmlhttp.response], {type: \"image/jpeg\"});\n                    fileReader.onload = function (evt) {\n                        // Read out file contents as a Data URL\n                        var result = evt.target.result;\n                        \n                        trySetBg(result);\n                        try{localStorage.setItem(url, result);}catch(e){}\n                    };\n                    // Load blob as Data URL\n                    fileReader.readAsDataURL(blob);\n                  }\n                }\n                xmlhttp.open(\"GET\", url, true);\n                xmlhttp.responseType = 'arraybuffer';\n                xmlhttp.send();\n            }else{\n                trySetBg(tempBg);\n            }\n        }\n    },\n\n    defaultCollectionIcon: function() {\n        return network.fixURL(\"/other/popup/img/icon-folder.png\");\n    },\n\n    getImportLink: function() {\n        if (typeof window.environment != \"undefined\")\n            return network.fixURL(\"/other/import/import.html\");\n        else\n            return \"../import/index.html\";\n    }\n}\n\n},{}],12:[function(require,module,exports){\nvar request = require('superagent');\n\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e) {\n    if (e.code) {\n      switch (e.code) {\n        case 22:\n          quotaExceeded = true;\n          break;\n        case 1014:\n          // Firefox\n          if (e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n            quotaExceeded = true;\n          }\n          break;\n      }\n    } else if (e.number === -2147024882) {\n      // Internet Explorer 8\n      quotaExceeded = true;\n    }\n  }\n  return quotaExceeded;\n}\n\nmodule.exports = {\n    timeout: 6000,\n\n    makeFinalURL: function(url) {\n      if (url.indexOf('http')==0)\n        return url;\n      else\n        return consts.apiPrefix + url;\n    },\n\n    getText: function(url, callback) {\n      request\n          .get(url)\n          .set('Content-Encoding', 'gzip')\n          .end(function(err, res){\n              if (typeof res == \"undefined\") {callback({});return;}\n              callback((res||{}).text||null);\n          });\n    },\n\n    \"get\": function(url,callback,conf) {\n        conf = conf || {};\n\n        request\n            .get(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .set('Accept', 'application/json')\n            .set('Content-Encoding', 'gzip')\n            .end(function(err, res){\n                if (typeof res == \"undefined\") {callback({});return;}\n                if (conf.text)\n                    callback(res.text||\"\");\n                else\n                    callback(res.body||{});\n            });\n    },\n\n    post: function(url,data,callback) {\n        request\n            .post(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .send(data)\n            .set('Accept', 'application/json')\n            //.set('Content-Encoding', 'gzip')\n            .end(function(err, res){\n                if (typeof res == \"undefined\") {callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    put: function(url,data,callback) {\n        request\n            .put(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .send(data)\n            .set('Accept', 'application/json')\n            //.set('Content-Encoding', 'gzip')\n            .end(function(err, res){\n                if (typeof res == \"undefined\") {callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    del: function(url,callback) {\n        request\n            .del(this.makeFinalURL(url))\n            .timeout(this.timeout)\n            .set('Accept', 'application/json')\n            //.set('Content-Encoding', 'gzip')\n            .end(function(err, res){\n                if (typeof res == \"undefined\") {callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    upload: function(url, file, onProgress, callback) {\n        request\n            .post(this.makeFinalURL(url))\n            .attach(file.name, file.file, file.file.name)\n            .on('progress', function(e) {\n                var progress = parseInt(e.percent||0);\n                //if ((progress % 20 === 0)||(progress===100))\n                    onProgress(progress);\n            })\n            .end(function(err, res){\n                if (typeof res == \"undefined\") {callback({});return;}\n                callback(res.body||{});\n            });\n    },\n\n    getItem: function(key) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            return LST.getItem(key);\n        else\n            return null;\n    },\n\n    setItem: function(key, value) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            try {\n                LST.setItem(key, value);\n            } catch(e) {\n                if (isQuotaExceeded(e)) {\n                    // Storage full, maybe notify user or do some clean-up\n                    LST.clear();\n                }\n            }\n        else\n            console.log(\"No localStorage access\");\n    },\n\n    removeItem: function(key) {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            LST.removeItem(key);\n        else\n            console.log(\"No localStorage access\");\n    },\n\n    clear: function() {\n        var LST;\n        try {\n            LST = localStorage || window.localStorage;\n        } catch(e) {}\n\n        if (LST)\n            LST.clear();\n        else\n            console.log(\"No localStorage access\");\n    }\n}\n\n},{\"superagent\":\"superagent\"}],13:[function(require,module,exports){\nmodule.exports = {\n    getDomain: function(url){\n      url = url || \"\";\n      if(typeof document != \"undefined\"){\n          var a = document.createElement('a');\n          a.href = url;\n          var host = a.hostname;\n          delete a;\n          return host;\n      }else{\n        var domain;\n        //find & remove protocol (http, ftp, etc.) and get domain\n        if (url.indexOf(\"://\") > -1) {\n            domain = url.split('/')[2];\n        }\n        else {\n            domain = url.split('/')[0];\n        }\n\n        //find & remove port number\n        domain = domain.split(':')[0];\n\n        return domain;\n      }\n    },\n\n    fixURL: function(s) {\n        try{\n            s = s.trim();\n        } catch(e) {if(e)s=\"\";}\n\n        if (s.indexOf('//')==0)\n            return \"http:\"+s;\n        else if (s.indexOf('/')==0)/*((s.indexOf('http://')!=0)&&(s.indexOf('https://')!=0)&&(s.indexOf('chrome-extension://')!=0))*/\n            return \"https://raindrop.io\"+s;\n        else\n            return s;\n    },\n\n    favIcon: function(s) {\n        return \"https://raindrop.io/favicon/\"+(s||\"\");\n    },\n\n    thumb: function(s,width) {\n        try{\n            s = s.trim();\n        } catch(e) {if(e)s=\"\";}\n\n        if (typeof width == \"undefined\")\n            width = 230;\n\n        if (s!=\"\") {\n            if (s.indexOf('http')!=0)\n                return this.fixURL(s);\n            else if (s.indexOf('https://raindrop.io')==0)\n                return s;\n            else if (s.indexOf('http://raindrop.io')==0)\n                return s;\n            else\n                return \"https://raindrop.io/makethumb/?url=\" + encodeURIComponent(s) + \"&width=\" + width;\n        }\n        else\n            return \"about:blank\";\n    },\n\n    cleanDomain: function(domain) {\n        try{\n            var temp = domain.split('.'), maxSize = 2;\n            if (temp.length>maxSize){\n                if ((temp[ temp.length-2 ] == 'org')||(temp[ temp.length-2 ] == 'net')||(temp[ temp.length-2 ] == 'com')||(temp[ temp.length-2 ] == 'co'))\n                    maxSize = 3;\n\n                temp.splice(0, temp.length-maxSize );\n                domain = temp.join('.');\n            }\n        }catch(e){}\n\n        return domain;\n    },\n\n    linkTarget: function() {\n        var _target = \"_self\";\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1)\n            _target = \"_top\";\n\n        if ((window.environment||[]).indexOf(\"safari_popup\")!=-1)\n            _target = \"_blank\";\n        \n        return _target;\n    },\n\n    settingsURL: function() {\n        var sURL = \"../settings/settings.html#/settings\";\n        var _target = \"_self\";\n        if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n            _target = \"_blank\";\n        }\n        \n        if (window.location.protocol.indexOf(\"http\")!=-1) {\n            sURL = \"/settings#/settings\";\n        }\n        if ((window.environment||[]).indexOf(\"mac\")!=-1)\n        {\n            sURL = \"../settings/settings.html?isMac#/settings\";\n        }\n        \n        return sURL;\n    }\n};\n\n},{}],14:[function(require,module,exports){\nrequire(\"moment/locale/id.js\");\nrequire(\"moment/locale/de.js\");\nrequire(\"moment/locale/es.js\");\nrequire(\"moment/locale/fr.js\");\nrequire(\"moment/locale/nl.js\");\nrequire(\"moment/locale/pl.js\");\nrequire(\"moment/locale/pt.js\");\nrequire(\"moment/locale/fi.js\");\nrequire(\"moment/locale/tr.js\");\nrequire(\"moment/locale/ru.js\");\nrequire(\"moment/locale/uk.js\");\nrequire(\"moment/locale/ko.js\");\nrequire(\"moment/locale/zh-cn.js\");\nrequire(\"moment/locale/zh-tw.js\");\n\nmodule.exports = {\n    defaultLang: \"en_US\",\n    currentLang: \"en_US\",\n    //strings: require(\"./languages\"),\n\n    getLang: function() {\n        return this.currentLang;\n    },\n\n    cleanLang: function(lang) {\n      for(var i in consts.languages)\n        if (i.indexOf(lang)==0){\n          return i;\n        }\n      return this.defaultLang;\n    },\n\n    setLang: function(lang) {\n        //get defautls if lang not presented\n        if (typeof lang == \"undefined\"){\n          lang = null;\n          try{lang = localStorage.getItem(\"language\")||null;}catch(e){}\n\n          if (lang==null){\n            var browserLang = navigator.language || navigator.userLanguage || \"\";\n            try{\n              browserLang = browserLang.trim().substr(0,2).toLowerCase();\n            } catch(e) {if (e) browserLang=\"\"; }\n\n            if (browserLang!=\"\"){\n              lang = this.cleanLang(browserLang);\n            }\n          }\n        }\n\n        if (typeof consts.languages[lang] == \"undefined\")\n            lang = this.defaultLang;\n\n        this.currentLang = lang;\n        try{localStorage.setItem(\"language\", this.currentLang);}catch(e){}\n        if (typeof moment != \"undefined\")\n          moment.locale(this.currentLang);\n        else if (typeof window.moment != \"undefined\")\n          window.moment.locale(this.currentLang);\n    },\n\n    s: function(s) {\n      if (typeof window[\"lang_\"+this.currentLang] == \"undefined\")\n        return s;\n\n      if (typeof window[\"lang_\"+this.currentLang][s] != \"undefined\")\n          return window[\"lang_\"+this.currentLang][s];\n      else\n          return s;\n    },\n\n    initJSfile: function() {\n      /*var script = document.createElement(\"script\");\n      script.src = (window.pathPrefix||\"\")+\"../common/js/\"+this.currentLang+\".js\";\n      document.head.appendChild(script);*/\n\n      var _this = this;\n      var xmlhttp = new XMLHttpRequest();\n      var url = (window.pathPrefix||\"\")+\"../common/js/\"+this.currentLang+\".js\";\n\n      var e = new Event('langLoaded');\n      xmlhttp.onreadystatechange = function() {\n          if (xmlhttp.readyState == 4 && xmlhttp.responseText) {\n              window[\"lang_\"+_this.currentLang] = JSON.parse(xmlhttp.responseText);\n              window.languageLoaded = true;\n              window.dispatchEvent(e);\n          }\n      }\n      xmlhttp.open(\"GET\", url, true);\n      xmlhttp.send();\n    }\n}\n\n},{\"moment/locale/de.js\":\"moment/locale/de.js\",\"moment/locale/es.js\":\"moment/locale/es.js\",\"moment/locale/fi.js\":\"moment/locale/fi.js\",\"moment/locale/fr.js\":\"moment/locale/fr.js\",\"moment/locale/id.js\":\"moment/locale/id.js\",\"moment/locale/ko.js\":\"moment/locale/ko.js\",\"moment/locale/nl.js\":\"moment/locale/nl.js\",\"moment/locale/pl.js\":\"moment/locale/pl.js\",\"moment/locale/pt.js\":\"moment/locale/pt.js\",\"moment/locale/ru.js\":\"moment/locale/ru.js\",\"moment/locale/tr.js\":\"moment/locale/tr.js\",\"moment/locale/uk.js\":\"moment/locale/uk.js\",\"moment/locale/zh-cn.js\":\"moment/locale/zh-cn.js\",\"moment/locale/zh-tw.js\":\"moment/locale/zh-tw.js\"}],15:[function(require,module,exports){\nvar ReactCSSTransitionGroup = require('react/addons').addons.CSSTransitionGroup;\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tindex:0\n\t\t}\n\t},\n\n\thandleForward: function(e) {\n\t\te.preventDefault();\n\t\tif (this.props.images.length>this.state.index+1)\n\t\t\tthis.setState({index: this.state.index+1});\n\t\telse\n\t\t\tthis.setState({index: 0});\n\t},\n\n\trender: function() {\n\t\tvar forward = null;\n\t\tif (this.props.images.length>1)\n\t\t\tforward = React.createElement(\"a\", {href: \"\", className: \"action-icon\", onClick: this.handleForward}, React.createElement(Icon, {name: \"forward\"}));\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"slider\"}, \n\t\t\t\tforward, \n\n\t\t\t\t\tReact.createElement(ReactCSSTransitionGroup, {transitionName: \"carousel\"}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: this.props.images[this.state.index], alt: \"\", key: this.props.images[this.state.index]})\n\t\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"img\", {className: \"space\", src: this.props.images[this.state.index], alt: \"\"})\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"react/addons\":\"react/addons\"}],16:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcomponentDidMount: function() {\n\t\tthis.props.changeTitle(t.s(\"exportBookmarks\"));\n\t},\n\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"exportBookmarks\"))\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/api/export\", target: window.targetLink, className: \"item\", download: true}, \n\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"allBookmarks\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\".html\" \n\t\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"forward last-icon\"}, React.createElement(Icon, {name: \"chevron-right\"}))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],17:[function(require,module,exports){\nvar UserVoice = require(\"../../app/components/Helpers/UserVoice\");\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcomponentDidMount: function() {\n\t\tthis.props.changeTitle(t.s(\"help\"));\n\t},\n\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"help\")), \n\t\t\t\t\t\tReact.createElement(\"p\", null, t.s(\"haveIdeas\"))\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(UserVoice, null), \n\t\t\t\t\t\tReact.createElement(\"br\", null), \n\t\t\t\t\t\t\"Send your emails to \", React.createElement(\"a\", {href: \"mailto:info@raindrop.io\"}, \"info@raindrop.io\")\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../app/components/Helpers/UserVoice\":9}],18:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcomponentDidMount: function() {\n\t\tthis.props.changeTitle(t.s(\"importBookmarks\"));\n\t},\n\t\n\trender: function() {\n\t\treturn (React.createElement(\"iframe\", {src: consts.host+\"/other/import/import.html\"}));\n\t}\n});\n\n},{}],19:[function(require,module,exports){\nvar Slider = require(\"../components/Slider\");\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcomponentDidMount: function() {\n\t\tthis.props.changeTitle(t.s(\"install\"));\n\t},\n\t\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"div\", {className: \"platforms\"}, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"item hide-on-clipper\", style: {backgroundColor: \"#707D87\"}}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/extension.png\", alt: \"\"}), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"desc\"}, t.s(\"browserPlugin\")), \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"links\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://chrome.google.com/webstore/detail/raindropio/ldgfbffkinooeloadekpmfoklnobpien\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-chrome.png\", height: \"32\", alt: \"\"})), \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://addons.mozilla.org/firefox/addon/raindropio/\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-firefox.png\", height: \"32\", alt: \"\"})), \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://raindrop.io/releases/safari.safariextz\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-safari.png\", height: \"32\", alt: \"\"})), \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://addons.opera.com/extensions/details/raindropio-smart-bookmarks\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-opera.png\", height: \"32\", alt: \"\"}))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"div\", {className: \"item\", style: {backgroundColor: \"#4B88B7\"}}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/ios.png\", alt: \"\"}), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"desc\"}, \"iPhone & iPad\"), \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"links\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://itunes.apple.com/us/app/raindrop.io-keep-your-favorites/id1021913807\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-ios.png\", height: \"32\", alt: \"\"}))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"div\", {className: \"item hide-on-mac\", style: {backgroundColor: \"#4CB580\"}}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/android.png\", alt: \"\"}), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"desc\"}, \"Android Phone & Tablet\"), \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"links\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://play.google.com/store/apps/details?id=io.raindrop.raindropio&hl=en\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-android.png\", height: \"38\", alt: \"\"}))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"div\", {className: \"item\", style: {backgroundColor: \"#7753CD\"}}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/mac.png\", alt: \"\"}), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"desc\"}, \"Mac OS X\"), \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"links\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://itunes.apple.com/app/raindrop.io-keep-your-favorites/id957810159\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-mac.png\", height: \"32\", alt: \"\"}))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"div\", {className: \"item\", style: {backgroundColor: \"#E8674F\"}}, \n\t\t\t\t\t\tReact.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/mac.png\", alt: \"\"}), \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"title\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"desc\"}, t.s(\"pro_speed_dial\")), \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"links\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://chrome.google.com/webstore/detail/raindropio-new-tab-speed/knifgjkgmgdinjeecneiphoniamhgbof\", target: \"_blank\"}, React.createElement(\"img\", {src: consts.host+\"/img/marketing/teaser/badge-chrome.png\", height: \"32\", alt: \"\"}))\n\t\t\t\t\t\t\t\t/*<a href=\"https://raindrop.io/releases/newtab.xpi\" target=\"_blank\"><img src={consts.host+\"/img/marketing/teaser/badge-firefox.png\"} height=\"32\" alt=\"\" /></a>*/\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\t\t\t\t\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../components/Slider\":15}],20:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tuser: UserStore.getUser(),\n\t\t\tloading: true\n\t\t}\n\t},\n\n\tonUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user,\n            password: {},\n            loading: false\n        });\n    },\n\n    componentWillMount: function() {\n        UserStore.onLoad();\n    },\n\n    componentDidMount: function() {\n    \tthis.props.changeTitle(\"Integration\");\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n\trender: function() {\n\t\tvar dropbox = false, dropboxLink=consts.host+\"/dropbox/authorize\"; _this = this;\n\t\ttry{dropbox=_this.state.user.dropbox.enabled;}catch(e){}\n\t\tif (dropbox)\n\t\t\tdropboxLink=consts.host+\"/dropbox/revoke\";\n\n\t\tif (!UserStore.isPro())\n\t\t\tdropboxLink=\"#/settings/pro\"\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, \"Integration\")\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\tReact.createElement(\"a\", {href: dropboxLink, target: window.targetLink, className: \"item\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\", style: {flex:1}}, \n\t\t\t\t\t\t\t\t\tt.s(\"pro_dropbox\"), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"subtitle\"}, t.s(\"pro_dropboxD\"))\n\t\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"last-icon\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"extra-checkbox\"+(dropbox?\" active\":\"\")})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],21:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tuser: UserStore.getUser(),\n\t\t\tloading: true\n\t\t}\n\t},\n\n\tonUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user,\n            loading: false\n        });\n    },\n\n    componentWillMount: function() {\n        UserStore.onLoad();\n    },\n\n    componentDidMount: function() {\n    \tthis.props.changeTitle(t.s(\"upgradeAccount\"));\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n\trenderFree: function() {\n\t\tif (this.state.loading)\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"loading\"), \"...\")\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t\n\t\treturn (\n\t\t\tReact.createElement(\"section\", null, \n\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"upgradeAccount\"))\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\tReact.createElement(\"img\", {className: \"pull-right\", src: consts.host+\"/img/v3/pro-buy.png\", width: \"109\", alt: \"\"}), \n\t\t\t\t\t\t\tReact.createElement(\"strong\", null, t.s(\"footerProAd\"), \" \", t.s(\"footerProAdD\"), \":\"), \n\t\t\t\t\t\t\tReact.createElement(\"ul\", null, \n\t\t\t\t\t\t\t\tReact.createElement(\"li\", null, t.s(\"nestedCollections\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"li\", null, t.s(\"dropboxBackup\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"li\", null, t.s(\"pro_nextFeatures\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"li\", null, t.s(\"pro_support\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"li\", null, t.s(\"pro_noAds\"))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\n\t\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/pages/pricing\", target: window.targetLink, className: \"item\"}, \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\", style: {flex:1}}, t.s(\"compareFreePro\")), \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"forward\"}, React.createElement(Icon, {name: \"chevron-right\"}))\n\t\t\t\t\t\t), \n\n\t\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/static/pro\", target: window.targetLink, className: \"item accent\"}, \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"upgradeToPro\")), \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"forward\"}, React.createElement(Icon, {name: \"chevron-right\"}))\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t},\n\n\trenderPro: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"section\", null, \n\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"upgradeAccount\"))\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\tReact.createElement(\"strong\", {style: {textTransform:\"capitalize\"}}, \n\t\t\t\t\t\t\t\tReact.createElement(Icon, {name: \"done\", className: \"icn-green pull-right\"}), \n\t\t\t\t\t\t\t\tt.s(\"until\") + \" \" + moment(UserStore.getUser().proExpire).format(\"ll\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\n\t\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/static/pro\", target: window.targetLink, className: \"item accent\"}, \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"renewPro\")), \n\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"forward\"}, React.createElement(Icon, {name: \"chevron-right\"}))\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t},\n\n\trender: function() {\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tUserStore.isPro() ? this.renderPro() : this.renderFree(), \n\n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, \"Q&A\")\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"Where do I get started?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"Start with the free plan  its the best choice if you want to test our apps. Plus, its completely free.\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"Do I have to pay for my nested collections to keep them accessible?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"No. Dont worry, we wont charge you for hosting your nested collections. The great news is that all your nested collections remain accessible even if your subscription ends or youve switched to the free plan.\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"How can I cancel my subscription?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"At any time you can cancel the subscription and get your money back. To do this, please \", React.createElement(\"a\", {href: \"#/settings/help\"}, \"contact us\"), \".\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"What happens at the end of the paid period?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"When the period of paid subscription ends you automatically switch to the free plan. All your collections (including nested) will remain accessible, but if you want to create more nested collections you will have to switch to paid plan. Also Dropbox backup will be stopped.\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"Is there any discount for an annual subscription?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"Yes, we offer a 20% discount if you choose annual subscription.\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"text\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"strong\", null, \"Got more questions?\"), \n\t\t\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\t\t\t\"We are happy to help you. \", React.createElement(\"a\", {href: \"#/settings/help\"}, \"Contact us\"), \".\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],22:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tuser: UserStore.getUser(),\n\t\t\tloading: true\n\t\t}\n\t},\n\n\tonUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user,\n            password: {},\n            loading: false\n        });\n    },\n\n    componentWillMount: function() {\n        UserStore.onLoad();\n    },\n\n    componentDidMount: function() {\n    \tthis.props.changeTitle(t.s(\"profile\"));\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n    handleFullNameChange: function(e) {\n    \tthis.state.user.fullName = e.target.value;\n        this.setState({user: this.state.user});\n    },\n\n    handleEmailChange: function(e) {\n    \tthis.state.user.email = e.target.value;\n        this.setState({user: this.state.user});\n    },\n\n    handleSaveProfile: function(e) {\n    \te.preventDefault();\n\n    \tvar update = {fullName: this.state.user.fullName}, _this = this;\n    \tif (this.state.user.email){\n    \t\tupdate.email = this.state.user.email;\n\n    \t\tif (!this.state.user.password){\n    \t\t\tupdate.newpassword = this.state.password.next;\n    \t\t}\n    \t}\n\n    \tthis.setState({loading:true});\n    \tApi.put(\"user\", update, function(json) {\n    \t\tif (json.result)\n    \t\t\tToasts.show({text: t.s('saveSuccess')});\n    \t\telse\n    \t\t\tToasts.show({text: t.s('server'+json.error)});\n\n    \t\tUserStore.onLoad();\n    \t});\n    },\n\n    handleLangChange: function(e) {\n    \te.preventDefault();\n        var select = React.findDOMNode(this.refs.lang);\n        var lang = select.options[select.selectedIndex].value;\n\n        this.setState({loading:true});\n        UserActions.updateLanguage({lang:lang}, function(){\n        \tt.setLang(lang);\n            location.reload();//window.history.back();\n        });\n    },\n\n\n    handleOldPasswordChange: function(e) {\n    \tthis.state.password.old = e.target.value;\n        this.setState({password: this.state.password});\n    },\n\n    handleNewPasswordChange: function(e) {\n    \tthis.state.password.next = e.target.value;\n        this.setState({password: this.state.password});\n    },\n\n    handleSavePassword: function(e) {\n    \te.preventDefault();\n    \tvar update = {\n    \t\toldpassword: this.state.password.old,\n    \t\tnewpassword: this.state.password.next,\n    \t\temail: this.state.user.email,\n    \t\tfullName: this.state.user.fullName\n    \t}, _this = this;\n\n    \tthis.setState({loading:true});\n    \tApi.put(\"user\", update, function(json) {\n    \t\tif (json.result)\n    \t\t\tToasts.show({text: t.s('saveSuccess')});\n    \t\telse\n    \t\t\tToasts.show({text: t.s('server'+json.error)});\n\n    \t\tUserStore.onLoad();\n    \t});\n    },\n\n    handleRemoveAccount: function(e) {\n    \te.preventDefault();\n    \tif (confirm(t.s(\"removeAccountD\")))\n    \t\twindow.location = consts.host + \"/api/user-remove\";\n    },\n\n\trender: function() {\n\t\tif (this.state.loading)\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"loading\"), \"...\")\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\n\t\tif (!UserStore.isLogged())\n\t\t\treturn (\n\t\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"})\n\t\t\t);\n\n\t\tvar languages = [];\n\t\tfor(var code in consts.languages)\n        \tlanguages.push(\n        \t\tReact.createElement(\"option\", {selected: t.getLang()==code, value: code}, consts.languages[code])\n        \t);\n\n        var emailPassword = null;\n        if (!this.state.user.password)\n        \temailPassword = (\n        \t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"password\")), \n\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\tReact.createElement(\"input\", {type: \"password\", onChange: this.handleNewPasswordChange, placeholder: t.s(\"newPassword\"), required: true})\n\t\t\t\t\t)\n\t\t\t\t)\n        \t);\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"basicData\")), \n\t\t\t\t\t\tReact.createElement(\"p\", null, \n\t\t\t\t\t\t\tt.s(\"changeAvatarInfo\")\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"form\", {onSubmit: this.handleSaveProfile}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"yourName\")), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"text\", defaultValue: this.state.user.fullName, onChange: this.handleFullNameChange, required: true})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, \"Email\"), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"email\", defaultValue: this.state.user.email, onChange: this.handleEmailChange, placeholder: \"your@email.com\", required: true})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\t\temailPassword, \n\n\t\t\t\t\t\t\t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"language\")), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tReact.createElement(\"select\", {ref: \"lang\", onChange: this.handleLangChange}, \n\t\t\t\t\t\t\t\t\t\t\tlanguages\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, \"ID\"), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tthis.state.user._id\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"https://gravatar.com\", target: \"_blank\", className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\", style: {flex:1}}, t.s(\"changeAvatar\")), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"forward\"}, React.createElement(Icon, {name: \"chevron-right\"}))\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"actions\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"submit\", value: t.s(\"save\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"section\", {className: this.state.user.password ? \"\" : \"hidden\"}, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"changePassword\"))\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"form\", {onSubmit: this.handleSavePassword}, \n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"currentPassword\")), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"password\", onChange: this.handleOldPasswordChange, placeholder: t.s(\"currentPassword\"), required: true})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\t\tReact.createElement(\"label\", {className: \"item\"}, \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, t.s(\"newPassword\")), \n\t\t\t\t\t\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"password\", onChange: this.handleNewPasswordChange, placeholder: t.s(\"newPassword\"), required: true})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t), \n\n\t\t\t\t\t\t\tReact.createElement(\"div\", {className: \"actions\"}, \n\t\t\t\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/account/reset\", target: \"_blank\"}, t.s(\"recoverPassword\")), \n\t\t\t\t\t\t\t\tReact.createElement(\"input\", {type: \"submit\", value: t.s(\"changePassword\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"actions\"}, \n\t\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", onClick: this.handleRemoveAccount}, t.s(\"removeAccount\"))\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],23:[function(require,module,exports){\nvar CollectionsActions = require('../../actions/Collections');\nvar CollectionsStore = require('../../stores/Collections');\n\nmodule.exports = React.createClass({displayName: \"exports\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tcollections: CollectionsStore.getCollections(),\n\t\t\tchildrens: []\n\t\t};\n\t},\n\n\tonCollectionsChange: function(collections) {\n        if (this.isMounted())\n        this.setState({\n            collections: collections\n        });\n    },\n\n    componentWillMount: function() {\n        CollectionsStore.onLoad();\n    },\n\n    componentDidMount: function() {\n    \tthis.props.changeTitle(\"RSS\");\n\n    \tvar _this = this;\n        this.unsubscribeCollections = CollectionsStore.listen(this.onCollectionsChange);\n        Api.get(\"childrens\", function(json){\n        \t_this.setState({childrens: json.items||[]});\n        });\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeCollections();\n    },\n\n    renderItem: function(item) {\n    \tvar cover = consts.defaultCollectionIcon();\n        try{cover = network.fixURL(item.cover[0]);}catch(e){}\n\n    \treturn (\n    \t\tReact.createElement(\"a\", {href: item.link, target: window.targetLink, className: \"item\"}, \n\t\t\t\tReact.createElement(\"span\", {className: \"title\"}, item.title), \n\t\t\t\tReact.createElement(\"span\", {className: \"block\"}, \n\t\t\t\t\titem.link\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"span\", {className: \"last-icon\", style: {marginLeft:\"20px\"}}, React.createElement(\"img\", {src: cover, className: \"icon\", height: \"24\", alt: \"\"}))\n\t\t\t)\n    \t);\n    },\n\n\trender: function() {\n\t\tvar _this = this;\n\n\t\tvar collections = this.state.collections.concat(this.state.childrens);\n\t\tcollections = _.sortBy(collections, \"title\");\n\n\t\tvar privateList = [];\n\t\tcollections.forEach(function(item){\n\t\t\tif ((item._id>0)&&(item.uniqKey))\n\t\t\tprivateList.push(_this.renderItem({\n\t\t\t\ttitle: item.title,\n\t\t\t\tlink: consts.host+\"/feed/\"+item.uniqKey,\n\t\t\t\tcover: item.cover\n\t\t\t}));\n\t\t});\n\n\n\t\tvar publicList = [];\n\t\tcollections.forEach(function(item){\n\t\t\tif (item._id>0)\n\t\t\tpublicList.push(_this.renderItem({\n\t\t\t\ttitle: item.title,\n\t\t\t\tlink: consts.host+\"/collection/\"+item._id+\"/feed\",\n\t\t\t\tcover: item.cover\n\t\t\t}));\n\t\t});\n\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {className: \"page-wrap\"}, \n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"privateRSSfeed\")), \n\t\t\t\t\t\tReact.createElement(\"p\", null, t.s(\"feedWarning\"))\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\tthis.renderItem({title: t.s(\"myCollections\"), link: consts.host+\"/feeds/\"+UserStore.getUser().uniqKey}), \n\t\t\t\t\t\t\tthis.renderItem({title: t.s(\"orAlternativeFeed\"), link: consts.host+\"/feed/\"+UserStore.getUser().uniqKey}), \n\t\t\t\t\t\t\tprivateList\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"section\", null, \n\t\t\t\t\tReact.createElement(\"header\", null, \n\t\t\t\t\t\tReact.createElement(\"h2\", null, t.s(\"publicRSSfeed\"))\n\t\t\t\t\t), \n\n\t\t\t\t\tReact.createElement(\"article\", null, \n\t\t\t\t\t\tReact.createElement(\"div\", {className: \"list\"}, \n\t\t\t\t\t\t\tpublicList\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"../../actions/Collections\":3,\"../../stores/Collections\":26}],24:[function(require,module,exports){\nmodule.exports = React.createClass({displayName: \"exports\",\n\tcontextTypes: {\n        router: React.PropTypes.func\n    },\n\n    mixins: [ Router.State ],\n\n    getInitialState: function() {\n\t\treturn {\n\t\t\tuser: UserStore.getUser(),\n\t\t\tloading: true,\n\t\t\tsidebar: false,\n\t\t\ttitle: \"\"\n\t\t}\n\t},\n\n\tonUserChange: function(user) {\n        if (this.isMounted())\n        this.setState({\n            user: user,\n            password: {},\n            loading: false\n        });\n    },\n\n    componentWillMount: function() {\n        UserStore.onLoad();\n    },\n\n    componentDidMount: function() {\n        this.unsubscribeUser = UserStore.listen(this.onUserChange);\n    },\n\n    componentWillUnmount: function() {\n        this.unsubscribeUser();\n    },\n\n    componentWillReceiveProps: function(p) {\n    \tthis.handleSidebar();\n    },\n\n    handleSidebar: function(e) {\n    \tif (e)\n    \te.preventDefault();\n\n    \tvar sidebar = !this.state.sidebar;\n    \tthis.setState({sidebar: sidebar});\n\n    \tif (sidebar)\n    \t\tdocument.documentElement.classList.add(\"sidebar-open\");\n    \telse\n    \t\tdocument.documentElement.classList.remove(\"sidebar-open\");\n    },\n\n    handleTitle: function(title) {\n    \tthis.setState({title: title});\n    },\n\n    renderLogged: function() {\n    \tvar importLink = React.createElement(\"a\", {href: \"#/settings/import\"}, t.s(\"importBookmarks\"));\n    \tif (window.environment.indexOf(\"mac\")!=-1)\n    \t\timportLink = React.createElement(\"a\", {href: consts.host+\"/other/import/import.html\", target: \"_blank\"}, t.s(\"importBookmarks\"));\n\n    \treturn (\n    \t\tReact.createElement(\"menu\", null, \n\t\t\t\tReact.createElement(\"li\", {className: \"section\"}, \n\t\t\t\t\tt.s(\"account\")\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item hide-on-mac \"+(this.context.router.isActive(\"pro\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/pro\"}, t.s(\"upgradeAccount\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"profile\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings\"}, t.s(\"profile\"))\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"li\", {className: \"section\"}, \n\t\t\t\t\tt.s(\"basicData\")\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"import\") ? \"active\" : \"\")}, \n\t\t\t\t\timportLink\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"export\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/export\"}, t.s(\"exportBookmarks\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"integration\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/integration\"}, \"Integration\")\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"rss\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/rss\"}, \"RSS\")\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"li\", {className: \"section\"}\n\t\t\t\t\t\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"install\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/install\"}, t.s(\"install\"), \"  \", React.createElement(Icon, {name: \"apple\"}), \" \", React.createElement(Icon, {name: \"android\", className: \"hide-on-mac\"}), \" \", React.createElement(Icon, {name: \"google-chrome\"}), \" \", React.createElement(Icon, {name: \"laptop\"}))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"help\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/help\"}, t.s(\"help\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(!UserStore.isPro() ? \"hidden\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/static/upcoming\", target: window.targetLink}, t.s(\"pro_nextFeatures\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item\"}, \n\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/dev\", target: window.targetLink}, t.s(\"forDevelopers\"))\n\t\t\t\t)\n\t\t\t)\n    \t);\n    },\n\n    renderStatic: function() {\n    \treturn (\n    \t\tReact.createElement(\"menu\", null, \n\t\t\t\tReact.createElement(\"li\", {className: \"section\"}, \n\t\t\t\t\t\"Raindrop.io\"\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"install\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/install\"}, t.s(\"install\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item \"+(this.context.router.isActive(\"help\") ? \"active\" : \"\")}, \n\t\t\t\t\tReact.createElement(\"a\", {href: \"#/settings/help\"}, t.s(\"help\"))\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"li\", {className: \"item\"}, \n\t\t\t\t\tReact.createElement(\"a\", {href: consts.host+\"/dev\", target: window.targetLink}, t.s(\"forDevelopers\"))\n\t\t\t\t)\n    \t\t)\n    \t);\n    },\n\n\trender: function() {\n\t\tvar backURL = \"/\";\n\n\t\tif (window.environment.indexOf(\"extension\")!=-1)\n\t\t\tbackURL = \"../../app/index.html\";\n\n\t\tif (window.environment.indexOf(\"mac\")!=-1)\n\t\t\tbackURL = \"../mac/index.html\";\n\n\t\tif (window.environment.indexOf(\"clipper\")!=-1)\n\t\t\tbackURL = \"../app/index.html\"+window.location.search;\n\n\t\treturn (\n\t\t\tReact.createElement(\"div\", {id: \"page\"}, \n\t\t\t\tReact.createElement(\"div\", {id: \"sidebar\"}, \n\t\t\t\t\tReact.createElement(\"header\", {className: \"desktop_hide\"}, \n\t\t\t\t\t\tReact.createElement(\"a\", {href: \"\", onClick: this.handleSidebar}, \n\t\t\t\t\t\t\tReact.createElement(Icon, {name: \"clear\"})\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\n\t\t\t\t\tUserStore.isLogged() ? this.renderLogged() : this.renderStatic()\n\t\t\t\t), \n\t\t\t\tReact.createElement(\"div\", {id: \"content\"}, \n\t\t\t\t\t\n\t\t\t\t\tReact.createElement(DocumentTitle, {title: this.state.title||\"\"}), \n\t\t\t\t\tReact.createElement(RouteHandler, {changeTitle: this.handleTitle})\n\t\t\t\t), \n\n\t\t\t\tReact.createElement(\"div\", {id: \"toolbar\"}, \n\t\t\t\t\tReact.createElement(\"a\", {href: backURL, id: \"go-back\"}, React.createElement(Icon, {name: \"back\"})), \n\t\t\t\t\tReact.createElement(\"a\", {href: \"\", className: \"title\", onClick: this.handleSidebar}, \n\t\t\t\t\t\tthis.state.title, \n\t\t\t\t\t\tReact.createElement(Icon, {name: \"arrow-down\", size: \"small\", className: \"mobileMenu desktop_hide\"})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],25:[function(require,module,exports){\n{\n\tReact = require('react');\n\tReflux = require('reflux');\n\n\t/* Const */\n\tconsts = require('../app/config');\n\n\t/* Translate */\n\tApi = require('../modules/api.js');\n\tt = require('../modules/translate');\n\twindow.moment = require('moment');\n\tt.setLang();\n\tt.initJSfile();\n\n\t/* Helpers */\n\t_ = require(\"lodash\");\n\tnetwork = require('../modules/network.js');\n\tS = require('string');\n\tIcon = require('../app/components/Helpers/Icon.js');\n\n\t/* Caching */\n\tls = require('localforage');\n\t/*chromeStorageLocal = require('../modules/chromestoragelocal.js');\n\tls.defineDriver(chromeStorageLocal).then(function() {\n\t\tls.setDriver([chromeStorageLocal._driver, ls.INDEXEDDB, ls.LOCALSTORAGE]);\n\t});*/\n}\n\nToasts = require('../actions/Toast');\nDocumentTitle = require('react-document-title');\n\n/* User */\nUserActions = require('../actions/User');\nUserStore = require('../stores/User');\n\n/* Routing */\nRouter = require('react-router');\nvar DefaultRoute = Router.DefaultRoute;\nvar Route = Router.Route;\nvar Redirect = Router.Redirect;\nRouteHandler = Router.RouteHandler;\nLink = Router.Link;\n\nvar AppRoute = React.createClass({displayName: \"AppRoute\",\n    render: function () {\n        return (\n            React.createElement(RouteHandler, null)\n        );\n    }\n});\n\nvar commonComponents = {\n  loaded: false,\n  load: function() {\n    if (this.loaded) return false;\n\n    UserStore.onLoad();\n\n    var eToast = document.getElementById('app-toast');\n\n    var Toast = require('../app/components/Toast.js');\n    React.render(React.createElement(Toast, null), eToast);\n\n    this.loaded = true;\n  }\n}\n\nwindow.addEventListener((window.languageLoaded ? \"DOMContentLoaded\" : \"langLoaded\"), function() {\n\tvar eContent = document.getElementById('app-content');\n\n\tvar SettingsRoute = require(\"./routes/Settings\");\n\n\tvar ProRoute = require(\"./routes/Pro\");\n\tvar ProfileRoute = require(\"./routes/Profile\");\n\tvar ImportRoute = require(\"./routes/Import\");\n\tvar ExportRoute = require(\"./routes/Export\");\n\tvar IntegrationRoute = require(\"./routes/Integration\");\n\tvar RSSRoute = require(\"./routes/RSS\");\n\tvar InstallRoute = require(\"./routes/Install\");\n\tvar HelpRoute = require(\"./routes/Help\");\n\n\tvar routes = (\n\t    React.createElement(Route, {path: \"/\", handler: AppRoute}, \n\t        React.createElement(Route, {name: \"settings\", path: \"/settings\", handler: SettingsRoute}, \n\t        \tReact.createElement(DefaultRoute, {name: \"profile\", handler: ProfileRoute}), \n\t        \tReact.createElement(Route, {name: \"pro\", path: \"pro\", handler: ProRoute}), \n\t        \tReact.createElement(Route, {name: \"import\", path: \"import\", handler: ImportRoute}), \n\t        \tReact.createElement(Route, {name: \"export\", path: \"export\", handler: ExportRoute}), \n\t        \tReact.createElement(Route, {name: \"integration\", path: \"integration\", handler: IntegrationRoute}), \n\t        \tReact.createElement(Route, {name: \"rss\", path: \"rss\", handler: RSSRoute}), \n\t        \tReact.createElement(Route, {name: \"install\", path: \"install\", handler: InstallRoute}), \n\t        \tReact.createElement(Route, {name: \"help\", path: \"help\", handler: HelpRoute})\n\t        ), \n\t        React.createElement(Redirect, {to: \"settings\"})\n\t    )\n\t);\n\n\t/* Init */\n\tRouter.run(routes, function (Handler,s) {\n\t  var r=null;\n\t  try {r = s.routes[1].name; r = s.routes[2].name;}catch(e){}\n\t  document.body.setAttribute('data-route', r||\"\");\n\n\t  React.render(React.createElement(Handler, null), eContent, function(){commonComponents.load();});\n\t});\n});\n\nwindow.environment = []; window.targetLink = \"_self\";\nif (window.location.protocol.indexOf(\"http\")==-1){\n\twindow.environment.push(\"extension\");\n}\nelse{\n\twindow.environment.push(\"site\");\n}\n\nif (window.location.href.indexOf(\"clipper/\")!=-1){\n\twindow.environment.push(\"clipper\");\n\t//window.targetLink = \"_blank\";\n}else if (window.location.search.indexOf(\"isMac\")!=-1){\n\twindow.environment.push(\"mac\");\n\twindow.targetLink = \"_blank\";\n}\n\nif (window.location.href.indexOf(\"only_current\")!=-1)\n\twindow.environment.push(\"only_current\");\n\n//OS\nif (navigator.appVersion.indexOf(\"Win\")!=-1) window.environment.push(\"Windows\");\nif (navigator.appVersion.indexOf(\"Mac\")!=-1) window.environment.push(\"MacOS\");\nif (navigator.appVersion.indexOf(\"X11\")!=-1) window.environment.push(\"UNIX\");\nif (navigator.appVersion.indexOf(\"Linux\")!=-1) window.environment.push(\"Linux\");\n\nfor(var i in window.environment)\n\tdocument.documentElement.classList.add(window.environment[i]);\n\n},{\"../actions/Toast\":6,\"../actions/User\":7,\"../app/components/Helpers/Icon.js\":8,\"../app/components/Toast.js\":10,\"../app/config\":11,\"../modules/api.js\":12,\"../modules/network.js\":13,\"../modules/translate\":14,\"../stores/User\":29,\"./routes/Export\":16,\"./routes/Help\":17,\"./routes/Import\":18,\"./routes/Install\":19,\"./routes/Integration\":20,\"./routes/Pro\":21,\"./routes/Profile\":22,\"./routes/RSS\":23,\"./routes/Settings\":24,\"localforage\":\"localforage\",\"lodash\":\"lodash\",\"moment\":\"moment\",\"react\":\"react\",\"react-document-title\":\"react-document-title\",\"react-router\":\"react-router\",\"reflux\":\"reflux\",\"string\":\"string\"}],26:[function(require,module,exports){\nvar CollectionsActions = require('../actions/Collections');\nvar ChildrensActions = require('../actions/Childrens');\nvar UserActions = require('../actions/User');\nvar StatsStore = require('../stores/Stats');\nvar BookmarksActions = require('../actions/Bookmarks');\n\nvar _collections = [], _currentId = -2, _loaded = false, _speed = \"sync\";\n\nif (typeof isIOSapp != \"undefined\")\n    _currentId = 0;\n\nvar _defaults = [];\nvar setDefaults = function() {\n    _defaults = [\n        {\n            _id: 0,\n            title: t.s(\"all\"),\n            view: \"list\"\n        },\n        {\n            _id: -2,\n            title: t.s(\"favoriteSites\"),\n            view: \"simple\",\n            //color: \"243,73,94\"\n        },\n        {\n            _id: -1,\n            title: t.s(\"defaultCollection--1\"),\n            view: \"list\",\n            //color: \"245,166,35\"\n        },\n        {\n            _id: -99,\n            title: t.s(\"defaultCollection--99\"),\n            view: \"list\"\n        },\n\n        {\n            _id: -3,\n            title: t.s(\"articles\"),\n            view: \"list\"\n        },\n\n        {\n            _id: -4,\n            title: t.s(\"images\") + \" \" + t.s(\"und\") + \" \" + t.s(\"videos\").toLowerCase(),\n            view: \"masonry\"\n        },\n    ];\n    for(var i in _defaults) {\n        _defaults[i].view = Api.getItem(\"collection/\" + _defaults[i]._id + \"/view\") || _defaults[i].view;\n        _defaults[i].cover = [(window.pathPrefix||\"\") + \"../common/images/collection\"+_defaults[i]._id+\".png\"];\n    }\n}\n\nif (document){\n    if (window.languageLoaded)\n        setDefaults();\n    else\n        window.addEventListener(\"langLoaded\", setDefaults);\n}\nelse\n    setDefaults();\n\nvar CollectionsStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(CollectionsActions.load, this.onLoad);\n        this.listenTo(CollectionsActions.setCurrent, this.onSetCurrent);\n        this.listenTo(CollectionsActions.updateCollection, this.onUpdateCollection);\n        this.listenTo(CollectionsActions.insertCollection, this.onInsertCollection);\n        this.listenTo(CollectionsActions.removeCollection, this.onRemoveCollection);\n        this.listenTo(CollectionsActions.updateCountCollection, this.onUpdateCountCollection);\n        this.listenTo(CollectionsActions.updateColorCollection, this.onUpdateColorCollection);\n    },\n\n    _saveCache: function() {\n        switch(_speed){\n            case \"async\":\n                try{ls.setItem('collections', _collections).then(function(){}).catch(function(e){})}catch(e){};\n            break;\n\n            case \"sync\":\n                Api.setItem('collections', JSON.stringify(_collections));\n            break;\n        }\n    },\n\n    onLoad: function(params) {\n        var _this = this;\n\n        if (!_loaded) {\n            Api.get(\"collections\", function (json) {\n                _loaded = true;\n                \n                if (json.result){\n                    _collections = json.items || [];\n\n                    _this._insertDefaults();\n\n                    _this.trigger(_collections);\n                    _this._saveCache();\n\n                    UserStore._checkGroupsStability();\n\n                    try{window.Intercom('update', {collections: _collections.length})}catch(e){}\n                }\n            });\n        }\n    },\n\n    onLoadId: function(id, callback) {\n        var _this = this;\n        var index = _.findIndex(_collections, { _id: id });\n        if (index==-1)\n        Api.get(\"collection/\"+id, function(json){\n            if (json.result) {\n                _this._updateOrInsertItem(json.item);\n                _this.trigger(_collections);\n            }\n\n            if (typeof callback == 'function')\n                callback();\n        });else{\n            if (typeof callback == 'function')\n                callback();\n        }\n    },\n\n    onSetCurrent: function(id) {\n        if (id == null){\n            _currentId = null;\n            this.trigger(_collections);\n            return;\n        }\n\n        _currentId = parseInt(id);\n\n        var index = _.findIndex(_collections, { _id: _currentId });\n        if (index!=-1)\n            this.trigger(_collections);\n        else\n            this.onLoadId(_currentId);\n    },\n\n    onUpdateCollection: function(params, callback){\n        var _this = this, updateGroups = false;\n\n        if (typeof params.updateModel == \"undefined\")\n            params.updateModel = true;\n\n        if ((typeof params.item.group == 'number')||(typeof params.item.parentId == 'number'))\n            updateGroups = true;\n\n        if (typeof params.item.group == 'number') {\n            params.item.parentId = \"root\";\n        }else{\n            delete params.item.group;\n        }\n        if (updateGroups)\n            UserActions.updateCollection({_id: params.item._id, group: params.item.group});\n\n        Api.put(\"collection/\" + params.item._id, params.item, function (json) {\n            if (json.result) {\n                _this._updateOrInsertItem(json.item);\n\n                if (!params.silent)\n                    Toasts.show({text: t.s(\"saveSuccess\"), title: params.item.title});\n            }else{\n                if (!params.silent)\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n            }\n\n            if (typeof callback == 'function')\n                callback((json.item || [])._id || false);\n        });\n\n        var index = _.findIndex(_collections, { _id: parseInt(params.item._id) });\n\n        if ((index!=-1)&&(params.updateModel)) {\n            for(var i in params.item)\n                _collections[index][i] = params.item[i];\n\n            this.trigger(_collections);\n\n            if (_collections[index]._id <= 0){\n                for(var i in params.item)\n                    Api.setItem(\"collection/\" + params.item._id + \"/\" + i, params.item[i]);\n            }\n\n            this._saveCache();\n        }\n    },\n\n    onInsertCollection: function(params, callback){\n        var _this = this;\n\n        Api.post(\"collection\", params.item, function(json){\n            if (json.result){\n                _collections.push(json.item);\n\n                if (typeof params.item.group == 'number') {\n                    params.item.parentId = \"root\";\n                    UserActions.updateCollection({_id: json.item._id, group: params.item.group});\n                }\n\n                if (!params.silent)\n                    Toasts.show({text: t.s(\"addSuccess\"), title: params.item.title});\n\n                _this.trigger(_collections);\n                _this._saveCache();\n            }else{\n                if (!params.silent)\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n            }\n\n            if (typeof callback == 'function')\n                callback( (json.item||[])._id||false );\n        });\n    },\n\n    onRemoveCollection: function(params,callback) {\n        var _this = this;\n\n        var removeNow = function(){\n            Api.del(\"collection/\"+params.item._id, function(json){\n                if (json.result){\n                    if (params.item._id>0){\n                        var index = _.findIndex(_collections, {_id:params.item._id});\n                        if (index!=-1)\n                            _collections.splice(index,1);\n                    }\n\n                    Toasts.show({text: (params.item._id != -99 ? t.s(\"removeCollectionSuccess\") : t.s(\"trashEmpty\")), title: params.item.title});\n\n                    _this.trigger(_collections);\n                    _this._saveCache();\n                    \n                    ChildrensActions.removeCollection(params);\n                    UserActions.saveGroups();\n\n                    if (_this.getCurrentId() == params.item._id){\n                        BookmarksActions.reset(true);\n                    }\n                }else{\n                    Toasts.show({text: strings.getErrorFromJSON(json), title: params.item.title, status: \"error\"});\n                }\n\n                if (typeof callback == 'function')\n                    callback( json.result );\n            });\n        }\n\n        if (!params.silent){\n            if (confirm(t.s(\"collectionDeleteConfirm\")))\n                removeNow();\n            else{\n                if (typeof callback == 'function')\n                    callback( false );\n            }\n        }else{\n            removeNow();\n        }\n    },\n\n    onUpdateCountCollection: function(params) {\n      var index = _.findIndex(_collections, { _id: parseInt(params._id) });\n      if (index!=-1){\n        switch(params.count){\n          case \"+\":\n            _collections[index].count++;\n          break;\n\n          case \"-\":\n            _collections[index].count--;\n          break;\n\n          default:\n            _collections[index].count = params.count;\n          break;\n        }\n\n        this.trigger(_collections);\n      }\n    },\n\n    onUpdateColorCollection: function(params) {\n      var index = _.findIndex(_collections, { _id: parseInt(params._id) });\n      if (index!=-1){\n        _collections[index].color = params.color;\n        if ((_collections[index].cover||[]).length>0)\n            Api.setItem(\"collection_color_\"+_collections[index].cover[0], params.color);\n        this.trigger(_collections);\n      }\n    },\n\n    getCollections: function() {\n        return _collections;\n    },\n\n    getCurrentId: function(onlyWhat) {\n        if (onlyWhat){\n            switch(onlyWhat){\n                case \"file\":\n                    if (_currentId<0)\n                        if (_currentId<-1)\n                            return -1;\n                break;\n            }\n        }\n        return _currentId;\n    },\n\n    getCollection: function(id) {\n        id = parseInt(id);\n        var index = _.findIndex(_collections, { _id: id });\n        if (index!=-1){\n            if (id===0){\n                _collections[index].count = StatsStore.getAllCount();\n            }else if (id<0){\n                _collections[index].count = StatsStore.getCollectionCount(id);\n            }\n\n            return this._prepareItem(_collections[index]);\n        }\n        else\n            return null;\n    },\n\n    getCount: function() {\n      return _collections.length;\n    },\n\n    reset: function(params) {\n        params = params || {};\n        if (typeof params.speed != \"undefined\")\n          _speed = params.speed;\n        else\n          _speed = \"sync\";\n\n        _collections=[];\n        _currentId = -2;\n        if (typeof isIOSapp != \"undefined\")\n            _currentId = 0;\n        _loaded = false;\n\n        if ((_collections.length==0)&&(!_loaded))\n            this._resetFromCache();\n    },\n\n    _updateOrInsertItem: function(item) {\n        var index = _.findIndex(_collections, { _id: parseInt(item._id) });\n        if (index!=-1)\n            _collections[index] = item;\n        else\n            _collections.push(item);\n    },\n\n    _insertDefaults: function() {\n        var _this = this;\n        _defaults.forEach(function(item){\n            _this._updateOrInsertItem(item);\n        });\n    },\n\n    _resetFromCache: function() {\n        if (window.cacheDisabled||false)\n            return;\n\n        switch(_speed){\n            case \"async\":\n                var _this = this;\n                try{ls.getItem('collections')\n                    .then(function (val) {\n                        if ((val) && (_collections.length == 0)) {\n                            _collections = val;\n                            _this._insertDefaults();\n                            _this.trigger(_collections);\n                        };\n                    })\n                    .catch(function(e){\n                    });}catch(e){}\n            break;\n\n            case \"sync\":\n                var cache = Api.getItem('collections');\n                try{\n                    cache = JSON.parse(cache);\n                }catch(e){if (e) cache = null;}\n\n                if ((typeof cache == 'object')&&(cache!=null)){\n                    _collections = cache;\n                    this._insertDefaults();\n                }\n            break;\n        }\n    },\n\n    _prepareItem: function(item) {\n        if (typeof item.parent != \"undefined\")\n            if (typeof item.parent[\"$id\"] != \"undefined\") {\n                item.parentId = item.parent[\"$id\"];\n                delete item.group;\n            }\n\n        if (typeof item.parentId == \"undefined\"){\n            var group = UserStore.getCollectionGroup(item._id);\n            if (group!=null)\n                item.group = parseInt(group);\n        }\n\n        if ((item.cover||[]).length>0)\n            item.color = Api.getItem(\"collection_color_\"+item.cover[0]);\n\n        //if (item._id<=0)\n        //  delete item.count;\n\n        return item;\n    },\n\n    _forceUpdate: function() {\n        this.trigger(_collections);\n    },\n\n    isLoading: function() {\n        return !_loaded;\n    }\n});\nCollectionsStore.reset();\n\nmodule.exports = CollectionsStore;\n\n},{\"../actions/Bookmarks\":1,\"../actions/Childrens\":2,\"../actions/Collections\":3,\"../actions/User\":7,\"../stores/Stats\":27}],27:[function(require,module,exports){\nvar StatsActions = require('../actions/Stats');\nvar CollectionsActions = require('../actions/Collections');\n\nvar _stat = {}, _loading = false, _all = 0, _loaded = false;\n\nvar StatsStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(StatsActions.load, this.onLoad);\n        this.listenTo(CollectionsActions.updateCountCollection, this.onUpdate);\n    },\n\n    onLoad: function() {\n    \tvar _this = this;\n\n    \tif (_loading)\n    \t\treturn;\n\n        try{ls.getItem(\"stat\")\n            .then(function (val) {\n                if ((val) && (!_loaded)) {\n                    _stat = val;\n                    _this._countAll();\n                    _this.trigger(_stat);\n                }\n            })\n            .catch(function(e){\n                            \n            });}catch(e){}\n\n    \t_loading = true;\n    \tApi.get(\"stat\", function(json) {\n    \t\tif (json.result){\n\t    \t\t_stat = json.items;\n\t    \t\t_this._countAll();\n                try{ls.setItem(\"stat\", _stat).then(function(){}).catch(function(e){})}catch(e){};\n\t    \t\t_this.trigger(_stat);\n\t    \t}\n\n            _loading = false;\n            _loaded = true;\n    \t});\n    },\n\n    onUpdate: function(params) {\n        var index = _.findIndex(_stat, {_id: params._id});\n\n        switch(params.count){\n          case \"+\":\n            if (params._id!=-99) _all++;\n            if (index!=-1) _stat[index].count++;\n            this.trigger(_stat);\n          break;\n\n          case \"-\":\n            if (params._id!=-99) _all--;\n            if (_all<0)\n                _all = 0;\n\n            if (index!=-1) {\n                _stat[index].count--;\n                if (_stat[index].count<0)\n                    _stat[index].count = 0;\n            }\n            this.trigger(_stat);\n          break;\n        }\n    },\n\n    _countAll: function() {\n    \t_all = 0;\n    \tfor(var i in _stat){\n            if (_stat[i]._id === -2){\n              _all = _all - (_stat[i].count||0);\n            }else if (typeof _stat[i]._id != \"number\")\n    \t\t  _all += parseInt(_stat[i].count||0);\n    \t}\n        if (_all<0) _all = 0;\n    },\n\n    getStat: function() {\n    \treturn _stat;\n    },\n\n    getAllCount: function() {\n    \treturn _all;\n    },\n\n    getCollectionCount: function(id) {\n        var index = _.findIndex(_stat, {_id: id});\n        if (index!=-1)\n            return _stat[index].count;\n        else\n            return 0;\n    }\n});\n\nmodule.exports = StatsStore;\n\n},{\"../actions/Collections\":3,\"../actions/Stats\":5}],28:[function(require,module,exports){\nvar _toasts = [],\n    _timeout = 3000;\n\nvar ToastStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(Toasts.show, this.onShow);\n        this.listenTo(Toasts.close, this.onClose);\n        this.listenTo(Toasts.stopTimer, this.onStopTimer);\n    },\n\n    onShow: function(params) {\n        params.id = parseInt(new Date().getTime()/1000);\n        params.timeout = setTimeout(function() {\n            Toasts.close({id:params.id});\n        }, _timeout);\n        params.closing = false;\n        _toasts.push(params);\n\n        //if (_toasts.length>=10) {\n        //    this._removeItem(0,true);\n        //}\n\n        this.trigger(_toasts);\n    },\n\n    onClose: function(params) {\n        //var index = _.findIndex(_toasts, {id: parseInt(params.id)});\n\n        //if (index!=-1){\n            this._removeItem(parseInt(params.id));\n        //}\n    },\n\n    onStopTimer: function(params) {\n        var index = _.findIndex(_toasts, {id: parseInt(params.id)});\n\n        if (index!=-1){\n            clearTimeout(_toasts[index].timeout);\n        }\n    },\n\n    _removeItem: function(id, withoutUpdate) {\n        var _this = this;\n\n        var index = _.findIndex(_toasts, {id: id});\n        if (index==-1) return;\n\n        try{clearTimeout(_toasts[index].timeout);}catch(e){}\n\n        _toasts.splice(index, 1);\n\n        if (typeof withoutUpdate == 'undefined')\n            _this.trigger(_toasts);\n    },\n\n    getToasts: function() {\n        return _toasts;\n    },\n\n    reset: function() {\n        _toasts=[];\n    }\n});\n\nmodule.exports = ToastStore;\n\n},{}],29:[function(require,module,exports){\nvar UserActions = require('../actions/User');\nvar ModalFrameActions = require('../actions/ModalFrame');\nvar CollectionsStore = require('./Collections');\n\nvar _user = {}, _logged = false, _loading = false;\n\nvar UserStore = Reflux.createStore({\n    init: function() {\n        // Here we listen to actions and register callbacks\n        this.listenTo(UserActions.load, this.onLoad);\n\n        this.listenTo(UserActions.toggleGroup, this.onToggleGroup);\n        this.listenTo(UserActions.updateGroup, this.onUpdateGroup);\n        this.listenTo(UserActions.insertGroup, this.onInsertGroup);\n        this.listenTo(UserActions.removeGroup, this.onRemoveGroup);\n        this.listenTo(UserActions.swapGroups, this.onSwapGroups);\n        this.listenTo(UserActions.saveGroups, this.saveGroups);\n\n        this.listenTo(UserActions.updateCollection, this.onUpdateCollection);\n        this.listenTo(UserActions.swapCollections, this.onSwapCollections);\n\n        this.listenTo(UserActions.updateLanguage, this.onUpdateLanguage);\n        this.listenTo(UserActions.updateConfig, this.onUpdateConfig);\n        this.listenTo(UserActions.logOut, this.onLogOut);\n        this.listenTo(UserActions.signIn, this.onSignIn);\n        this.listenTo(UserActions.signUp, this.onSignUp);\n    },\n\n    onLoad: function(callback) {\n        if (_loading) {\n          if (typeof callback == \"function\")\n              callback(false);\n          return;\n        }\n\n        var _this = this;\n        _loading = true;\n        this._resetFromCache();\n\n        Api.get(\"user\", function(json){\n            var afterCheck = function() {\n              if (json.result||false) {\n                  _user = json.user;\n                  _logged = true;\n                  _this.cleanGroups();\n              }else{\n                _user = {};\n                _logged = false;\n\n                //if ((window.environment||[]).indexOf(\"web\")!=-1)\n                //  window.location = network.fixURL(\"/account\");\n              }\n\n              Api.setItem('user', JSON.stringify(_user));\n              try{ls.setItem('user_id', _user._id || 0).then(function(){}).catch(function(e){})}catch(e){};\n\n              _loading = false;\n\n              _this.trigger(_user);\n              _this._checkGroupsStability();\n              _this.updateIntercom();\n            }\n\n            if ((typeof json.result == \"boolean\") || (typeof json.auth == \"boolean\")){\n              try{ls.getItem(\"user_id\")\n                .then(function(_userId) {\n                  var currentJSONuserId = null;\n                  try{currentJSONuserId = parseInt(json.user._id);}catch(e){}\n\n                  if ((json.result||false)&&(parseInt(_userId) == currentJSONuserId))\n                    afterCheck();\n                  else{\n                    _this._cleanCache(afterCheck);\n                  }\n\n                  if (typeof callback == \"function\") callback(json.result);\n                })\n                .catch(function(e){\n                  afterCheck();\n                });}catch(e){\n                  afterCheck();\n                }\n            }else{\n              if (typeof callback == \"function\") callback(json.result);\n            }\n        });\n    },\n\n    updateIntercom: function() {\n      try{\n        var data = {\n          app_id: \"ar0opykp\",\n          user_id: _user._id,\n          name: _user.fullName,\n          email: _user.email || \"\",\n          created_at: Math.floor(new Date(_user.registered).getTime()/1000),\n          pro: _user.pro || false,\n          groups: (_user.groups||[]).length || 0,\n          platform: 'web'\n        };\n\n        if (_user.proExpire)\n          data.pro_expire = Math.floor(new Date(_user.proExpire).getTime()/1000);\n\n        if (typeof window != \"undefined\")\n          if (typeof window.Intercom != \"undefined\"){\n            window.Intercom('boot', data);\n          }\n\n        if (typeof NativeHelpers != \"undefined\"){\n          data.platform = \"ios\";\n          delete data.app_id;\n          NativeHelpers.intercomSetUser(data.user_id+\"\", data);\n        }\n      } catch(e) {}\n\n      try{\n        Raven.setUserContext({\n          email: _user.email,\n          id: _user._id\n        });\n      }catch(e){}\n    },\n\n    onToggleGroup: function(params){\n        var index = _.findIndex((_user.groups||[]), { id: params.id });\n        if (index!=-1) {\n            _user.groups[index].hidden = !_user.groups[index].hidden;\n            this.saveGroups();\n        }\n    },\n\n    onUpdateGroup: function(params) {\n        var index = _.findIndex((_user.groups||[]), { id: params.id });\n        if (index!=-1) {\n            for(var i in params.item)\n                _user.groups[index][i] = params.item[i];\n\n            this.saveGroups(function(json){\n                if (json.result)\n                    Toasts.show({text: t.s(\"saveSuccess\"), title: params.item.title});\n                else\n                    Toasts.show({text: t.s(\"saveError\"), title: params.item.title, status: \"error\"});\n            });\n        }\n    },\n\n    onInsertGroup: function(params, callback) {\n        if (typeof params.item.collections == \"string\")\n          params.item.collections = JSON.parse(params.item.collections)\n\n        _user.groups.push({\n            title: params.item.title,\n            hidden: false,\n            id: new Date().getTime(),\n            sort: (_user.groups||[]).length,\n            collections: params.item.collections || []\n        });\n        this.saveGroups(function(json){\n            if (!params.silent)\n              if (json.result)\n                  Toasts.show({text: t.s(\"addSuccess\"), title: params.item.title});\n              else\n                  Toasts.show({text: t.s(\"saveError\"), title: params.item.title, status: \"error\"});\n\n            if (typeof callback == \"function\")\n              callback(json.result);\n        }, params);\n    },\n\n    onRemoveGroup: function(params) {\n        var index = _.findIndex((_user.groups||[]), { id: params.id }), result = false, title = \"\";\n        if (index!=-1) {\n            title = _user.groups[index].title;\n            if ((_user.groups[index].collections||[]).length==0) {\n                _user.groups.splice(index, 1);\n                result = true;\n            }\n        }\n\n        if (result){\n            this.saveGroups();\n            Toasts.show({text: t.s(\"removeSuccess\"), title: title});\n        }else{\n            Toasts.show({text: t.s(\"removeGroupError\"), title: title, status: \"error\"});\n        }\n    },\n\n    onSwapGroups: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var fromIndex = _.findIndex(_user.groups, {id: parseInt(params.fromId)});\n      var toIndex = _.findIndex(_user.groups, {id: parseInt(params.toId)});\n\n      if ((fromIndex!=-1)&&(toIndex!=-1)){\n        _user.groups = strings.swapArray(_user.groups, fromIndex, toIndex);\n        for(var i in _user.groups){\n          _user.groups[i].sort = i;\n        }\n\n        this.saveGroups();\n      }else{\n        return false;\n      }\n    },\n\n    onUpdateCollection: function(params) {\n        var needUpdate = false, found = false;\n\n        if (typeof params.group == 'undefined')\n            params.group = -1;\n\n        for(var i in _user.groups)\n            for(var j in (_user.groups[i].collections||[]))\n                if (_user.groups[i].collections[j]==params._id) {\n                    if (params.group != i) {\n                        _user.groups[i].collections.splice(j, 1);\n                        needUpdate = true;\n                    }\n                    found = true;\n                }\n\n        if ((needUpdate)||(!found)) {\n            if (params.group>=0) {\n                if (typeof _user.groups[params.group].collections != 'object')\n                    _user.groups[params.group].collections = [];\n\n                if (typeof params.toTop != \"undefined\")\n                  _user.groups[params.group].collections.unshift(params._id);\n                else\n                  _user.groups[params.group].collections.push(params._id);\n                _user.groups[params.group].hidden = false;\n            }\n\n            this.saveGroups();\n        }\n    },\n\n    onSwapCollections: function(params) {\n      if (params.fromId==params.toId)\n        return false;\n\n      var from = {\n            index: -1\n          },\n          to = {\n            index: -1\n          };\n\n      //find items indexes and parent groups\n      for(var i in _user.groups){\n        var tempFrom = (_user.groups[i].collections||[]).indexOf(parseInt(params.fromId));\n        var tempTo = (_user.groups[i].collections||[]).indexOf(parseInt(params.toId));\n\n        if (tempFrom!=-1){\n          from.index = tempFrom;\n          from.group = i;\n        }\n\n        if (tempTo!=-1){\n          to.index = tempTo;\n          to.group = i;\n        }\n\n        if ((from.index!=-1)&&(to.index!=-1))\n          break;\n      }\n\n      //swap items\n      if ((from.index!=-1)&&(to.index!=-1)){\n        if (from.group == to.group){\n          _user.groups[from.group].collections = strings.swapArray(_user.groups[from.group].collections, from.index, to.index);\n        }\n        else{\n          var tempFrom = _user.groups[from.group].collections[from.index];\n          _user.groups[from.group].collections.splice(from.index,1);\n\n          _user.groups[to.group].collections.splice(to.index, 0, tempFrom);\n        }\n\n        this.saveGroups();\n      }\n    },\n\n    onUpdateLanguage: function(params, callback) {\n        if (typeof _user.config != \"object\")\n            _user.config = {};\n\n        _user.config.lang = params.lang;\n        this.saveConfig({lang:_user.config.lang}, callback);\n    },\n\n    onUpdateConfig: function(params, callback) {\n      if (typeof _user.config != \"object\")\n          _user.config = {};\n\n      for(var i in params)\n        _user.config[i] = params[i];\n\n      this.saveConfig(params, callback);\n    },\n\n    onLogOut: function(callback) {\n      var _this = this;\n      _this._cleanCache(function(){\n        Api.get(network.fixURL(\"/auth/logout\"), function(){\n          _this.reset();\n          callback();\n        });\n      });\n    },\n\n    onSignIn: function(callback, params) {\n      var _this = this;\n      if (typeof params == \"undefined\") params = {};\n\n      var url = \"/account\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?extension\" : \"\");\n      if (params.google)\n        url = \"/auth/google\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?redirect=%2Fother%2Fmodal-login.html\" : \"\");\n\n      if ((window.environment||[]).indexOf(\"desktop\")!=-1)\n        window.location = (network.fixURL(url));\n      else if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n        window.location.hash = \"#/waitauth\";\n        BrowserBridge.openModal(network.fixURL(url), {width: 700, height: 600});\n      }\n      else if (typeof chrome != \"undefined\")\n        chrome.windows.create({\n          url: network.fixURL(url),\n          type: \"popup\",\n          width: 700,\n          height: 600\n        }, function(win) {\n          chrome.windows.onRemoved.addListener(function(id){\n            if (id == win.id)\n              _this._cleanCache(callback);\n          });\n        });\n      else{\n        window.open(network.fixURL(url), \"raindropwindow\", \"width=700,height=600,resizable=yes,scrollbars=yes,status=no,toolbar=no,menubar=no,location=no\");\n        window.location.hash = \"#/waitauth\";\n      }\n      /*else{\n        ModalFrameActions.show({\n          title: t.s(\"signIn\"),\n          url: network.fixURL(url),\n          width: 600,\n          height: 500,\n          onClose: function() {\n            _this._cleanCache(callback);\n          }\n        });\n      }*/\n    },\n\n    onSignUp: function(callback) {\n      var _this = this;\n\n      if ((window.environment||[]).indexOf(\"desktop\")!=-1)\n        window.location = (network.fixURL(\"/account/signup\" + (((window.environment||[]).indexOf(\"web\")==-1) ? \"?extension\" : \"\")));\n      else if ((window.environment||[]).indexOf(\"clipper\")!=-1){\n        window.location.hash = \"#/waitauth\";\n        BrowserBridge.openModal(network.fixURL(\"/account/signup?extension\"), {width: 700, height: 600});\n      }\n      else if (typeof chrome != \"undefined\")\n        chrome.windows.create({\n          url: network.fixURL(\"/account/signup?extension\"),\n          type: \"popup\",\n          width: 700,\n          height: 600\n        }, function(win) {\n          chrome.windows.onRemoved.addListener(function(id){\n            if (id == win.id)\n              _this._cleanCache(callback);\n          });\n        });\n      else{\n        window.open(network.fixURL(\"/account/signup?extension\"), \"raindropwindow\", \"width=700,height=600,resizable=yes,scrollbars=yes,status=no,toolbar=no,menubar=no,location=no\");\n        window.location.hash = \"#/waitauth\";\n      }\n      /*else{\n        ModalFrameActions.show({\n          title: t.s(\"signUp\"),\n          url: network.fixURL(\"/account/signup?extension\"),\n          width: 600,\n          height: 600,\n          onClose: function() {\n            _this._cleanCache(callback);\n          }\n        });\n      }*/\n    },\n\n    _cleanCache: function(callback) {\n      var bg = Api.getItem(\"background-image\");\n      //Api.get(\"user\", function(json){\n        //if ((json||{}).result||false){\n          Api.clear();\n          Api.setItem(\"welcome-onboard\",\"true\");\n          Api.setItem(\"background-image\",bg);\n          try{\n            ls.clear(function(err) {\n              callback();\n            });\n          }catch(e){callback();}\n        //}else\n          //callback();\n      //});\n    },\n\n    getUser: function() {\n        if (typeof _user._id == 'undefined')\n            this._resetFromCache();\n\n        return _.clone(_user);\n    },\n\n    getGroup: function(id) {\n        var index = _.findIndex((_user.groups||[]), { id: id });\n        if (index!=-1)\n            return _user.groups[index];\n        else\n            return null;\n    },\n\n    isLogged: function() {\n      return _logged;\n    },\n\n    isLoading: function() {\n      return _loading;\n    },\n\n    isPro: function() {\n      if (_logged)\n        if (_user.pro)\n          return true;\n\n      return false;\n    },\n\n    reset: function() {\n        _user = {};\n        _logged = false;\n        _loading = false;\n    },\n\n    cleanGroups: function() {\n        if ((_user.groups||[]).length>0) {\n            for (var i in _user.groups)\n                if ((_user.groups[i].id || null) == null)\n                    _user.groups[i].id = parseInt(i);\n\n            _user.groups = _.sortBy(_user.groups, function (item) {\n                return item.sort;\n            });\n        }else{\n            _user.groups = [{id:0, sort: 0, title: t.s(\"myCollections\"), hidden: false}];\n        }\n    },\n\n    saveGroups: function(callback, params) {\n      //cleanup\n      params = params || {};\n      if (typeof params.cleanCollections == \"undefined\")\n        params.cleanCollections = true;\n\n      if ((CollectionsStore.getCount()>0)&&(params.cleanCollections)) {\n        for(var i in _user.groups){\n          var indexes = [];\n          for(var j in (_user.groups[i].collections||[]))\n            if (CollectionsStore.getCollection(_user.groups[i].collections[j])==null)\n              indexes.push(j);\n\n          _.pullAt(_user.groups[i].collections, indexes);\n        }\n      }\n\n      this.saveConfig({groups:_user.groups}, callback);\n    },\n\n    removeEmptyGroups: function(callback) {\n      var indexes = [];\n\n      for(var i in _user.groups){\n        if ((_user.groups[i].collections||[]).length==0)\n          indexes.push(i);\n      }\n\n      _.pullAt(_user.groups, indexes);\n      this.saveGroups(callback, {cleanCollections: false});\n    },\n\n    saveConfig: function(params, callback) {\n        if (typeof params.updateModel == \"undefined\")\n            params.updateModel = true;\n\n        try{\n          if (params.updateModel){\n            _user.config[params.name] = true;\n          }\n        }catch(e){}\n\n        //if (_logged)\n        Api.put('userConfig', params, function(json) {\n            if (typeof callback==\"function\")\n                callback(json);\n        });\n        Api.setItem('user', JSON.stringify(_user));\n        this.trigger(_user);\n    },\n\n    getCollectionGroup: function(cId) {\n        for(var i in _user.groups)\n            for(var j in (_user.groups[i].collections||[]))\n                if (_user.groups[i].collections[j]==cId)\n                    return parseInt(i);\n        return null;\n    },\n\n    getConfig: function(key) {\n        var val = false;\n        try{val = _user.config[key]} catch(e){}\n        return val;\n    },\n\n    _checkGroupsStability: function() {\n      if ( (UserStore.isLogged()) && (!UserStore.isLoading()) && (CollectionsStore.getCount()>0) && (!CollectionsStore.isLoading()) ){\n        var noGroup = [];\n        var collections = CollectionsStore.getCollections();\n\n        collections.forEach(function(coll) {\n          var found = (coll._id<=0);\n\n          if (typeof coll.parent != \"undefined\")\n            found = true;\n\n          if (typeof coll.parentId != \"undefined\")\n            found = true;\n\n          (_user.groups||[]).forEach(function(group) {\n            var inGroup = (group.collections||[]).some(function(cId) {\n              return ((parseInt(cId)) == (parseInt(coll._id)));\n            });\n            if (inGroup)\n              found = true;\n          });\n\n          if (!found)\n            noGroup.push(parseInt(coll._id));\n        });\n\n        if (noGroup.length>0){\n          noGroup = _.uniq(noGroup);\n\n          var index = _.findIndex((_user.groups||[]), { title: t.s(\"myCollections\") });\n          if (index!=-1){\n              _user.groups[index].collections = (_user.groups[index].collections||[]).concat(noGroup);\n          }\n          else{\n              _user.groups = _user.groups || [];\n              _user.groups.push({id: _user.groups.length, sort: _user.groups.length, title: t.s(\"myCollections\"), hidden: false, collections: noGroup});\n          }\n\n          UserStore.saveGroups();\n        }\n      }\n    },\n\n    _resetFromCache: function() {\n        if (window.cacheDisabled||false)\n            return;\n\n        if (_logged)\n          return;\n\n        _logged = false;\n\n        var cache = Api.getItem('user');\n        try{\n            cache = JSON.parse(cache);\n        }catch(e){if (e) cache = null;}\n\n        if ((typeof cache == 'object')&&(cache!=null)){\n            _user = cache;\n            if (_user._id){\n              _logged = true;\n              this.cleanGroups();\n            }\n        }\n    },\n\n    _setProData: function(isPro, proExpire){\n      _user.pro = isPro;\n      _user.proExpire = proExpire;\n    }\n});\n\nmodule.exports = UserStore;\n\n},{\"../actions/ModalFrame\":4,\"../actions/User\":7,\"./Collections\":26}]},{},[25]);\n"],"sourceRoot":"/source/"}